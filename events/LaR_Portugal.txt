###########################
# Portugal Events
###########################

add_namespace = portugal
add_namespace = ww2_portugal

# HELP SPAIN OR NOT IN CIVIL WAR
country_event = {
	id = portugal.28
	title = portugal.28.t
	desc = portugal.28.d
	picture = GFX_report_event_german_volunteers
	
	fire_only_once = yes
   
	trigger = {
		tag = POR
		any_other_country = {
			original_tag = SPR
			has_global_flag = spanish_civil_war
		}
	}

	mean_time_to_happen = {
		days = 2
	}

	option = {
		ai_chance = { factor = 0 }
		name = portugal.28.a
				POR = { add_manpower = -6000 }
				random_other_country = {
				limit = {
					original_tag = SPR
					has_government = fascism
				}
				add_manpower = 6000
				add_offsite_building = { type = arms_factory level = 1 }
				add_opinion_modifier = { target = POR modifier = por_aid_spain_fascism }
				}
				random_other_country = {
				limit = {
					original_tag = SPR
					has_government = communism
				}
				add_opinion_modifier = { target = POR modifier = por_aid_spain_help_fascism }
				}
			}
	option = {
		ai_chance = { factor = 0 }
		name = portugal.28.b
			POR = { add_manpower = -6000 }
				random_other_country = {
				limit = {
					original_tag = SPR
					has_government = communism
				}
				add_manpower = 6000
				add_offsite_building = { type = arms_factory level = 1 }
				add_opinion_modifier = { target = POR modifier = por_aid_spain_communism }
				}
				random_other_country = {
				limit = {
					original_tag = SPR
					has_government = fascism
				}
				add_opinion_modifier = { target = POR modifier = por_aid_spain_help_communism }
				}
			}
	option = {
		ai_chance = { factor = 1 }
		name = portugal.28.c
	}
}

# SALAZAR ASSASSINATION ATTEMPT CHOICE
country_event = {
	id = portugal.13
	title = portugal.13.t
	desc = portugal.13.d
	picture = GFX_report_event_hungarian_soldiers

	fire_only_once = yes

	trigger = {
			original_tag = POR
			date > 1937.07.01
			date < 1937.08.01
	}
	
	option = {
		name = portugal.13.a
		ai_chance = { factor = 0 }
		set_global_flag = SALAZAR_DIES
		custom_effect_tooltip = portugal.13.a_tooltip
		hidden_effect = {
		country_event = { id = ww2_news.74 }
		complete_national_focus = POR_assassination_attempt
		create_country_leader = {
				name = "Council of Ministers"
			desc = ""
			picture = "Portrait_Portugal_Ministerial.dds"
				expire = "1965.1.1"
				ideology = moderatism
				traits = {
					conselho_ministers
					}
				}
			}
		}

	option = {
		name = portugal.13.b
		ai_chance = { factor = 1 }
		set_global_flag = SALAZAR_LIVES
		custom_effect_tooltip = portugal.13.b_tooltip
		hidden_effect = {
		country_event = { id = ww2_news.75 }
		complete_national_focus = POR_assassination_attempt
			}
		}

	option = {
		name = portugal.13.c
		ai_chance = { factor = 0 }
		set_global_flag = SALAZAR_WOUNDED
		custom_effect_tooltip = portugal.13.c_tooltip
		hidden_effect = {
		country_event = { id = ww2_news.76 }
		complete_national_focus = POR_assassination_attempt
		create_country_leader = {
				name = "António de Oliveira Salazar"
			desc = "POLITICS_ANTÓNIO_DE_OLIVEIRA_SALAZAR_DESC"
			picture = "Portrait_Portugal_Antonio_de_Oliveira_Salazar_Wounded.dds"
				expire = "1965.1.1"
				ideology = moderatism
				traits = {
				dealbroker
				diplomat
					}
				}
			}
	}
}

#SALAZAR DILEMMA#
country_event = {
	id = portugal.14
	title = portugal.14.t
	desc = portugal.14.d
	picture = GFX_report_event_french_liberation

	is_triggered_only = yes
	
	option = {
		name = portugal.14.a
		ai_chance = { factor = 100 }
		set_global_flag = SALAZAR_PRESIDENT
		custom_effect_tooltip = portugal.14.a_tooltip
		hidden_effect = {
			country_event = { id = ww2_news.56 }
			complete_national_focus = POR_president_salazar
			}
		}

	option = {
		name = portugal.14.b
		ai_chance = { factor = 0 }
		set_global_flag = SALAZAR_SEEKS_HELP
		custom_effect_tooltip = portugal.14.b_tooltip
		hidden_effect = {
			country_event = { id = ww2_news.78 }
			complete_national_focus = POR_support_the_braganzas
			}
	}
}

# USSR PACT
country_event = {
	id = portugal.1
	title = portugal.1.t
	desc = portugal.1.d
	picture = GFX_report_event_soviet_tank_parade

	is_triggered_only = yes

	mean_time_to_happen = {
		days = 1
	}
	
	option = {
		name = portugal.1.a

		ai_chance = { factor = 100 }

		SOV = {
 				diplomatic_relation = { country = POR relation = guarantee active = yes }
 				give_military_access = POR
 			}
	}
}

# IBERIA COMMIES PACT
country_event = {
	id = portugal.24
	title = portugal.24.t
	desc = portugal.24.d
	picture = GFX_report_event_soviet_tank_parade

	is_triggered_only = yes

	mean_time_to_happen = {
		days = 1
	}
	
	option = {
		name = portugal.24.a

		ai_chance = { factor = 100 }

		POR = { 
			create_faction = Iberia_workers
			add_to_faction = PREV
			country_event = { id = ww2_news.85 } 
		}
	}
}	

# UK HONOR ALLIANCE GUARANTEE 
country_event = {
	id = portugal.16
	title = portugal.16.t
	desc = portugal.16.d
	picture = GFX_report_event_soviet_tank_parade

	is_triggered_only = yes

	mean_time_to_happen = {
		days = 1
	}
	
	option = {
		name = portugal.16.a

		ai_chance = { factor = 100 }

		ENG = {
 				diplomatic_relation = { country = POR relation = docking_rights active = yes }
 			}
	}
}

# CARMONA TRIAL
	country_event = {
	id = portugal.29
	title = portugal.29.t
	desc = portugal.29.d
	picture = GFX_report_event_generic_conference
	
	is_triggered_only = yes

	mean_time_to_happen = {
		days = 1
	}

	option = {
		ai_chance = { factor = 0 }
		name = portugal.29.a
		custom_effect_tooltip = portugal.29.a_tt
			add_popularity = {
   				ideology = democratic
				popularity = 0.05
				}
			add_popularity = {
   				ideology = communism
				popularity = -0.10
				}
			add_stability = 0.05
			hidden_effect = {
				country_event = {
			id = portugal.30
				days = 730
					}
				}
			}

	option = {
		ai_chance = { factor = 0 }
		name = portugal.29.b
		custom_effect_tooltip = portugal.29.b_tt
			add_popularity = {
   				ideology = democratic
				popularity = 0.1
				}
			add_popularity = {
   				ideology = communism
				popularity = -0.05
				}
			add_stability = 0.20
			add_timed_idea = {
   					idea = POR_fair_trial
   					days = 90
				}
			}

	option = {
		ai_chance = { factor = 0 }
		name = portugal.29.c
		custom_effect_tooltip = portugal.29.c_tt
			add_popularity = {
   				ideology = fascism
				popularity = 0.1
				}
			add_popularity = {
   				ideology = communism
				popularity = 0.05
				}
			add_stability = 0.10
			country_event = { id = portugal.31 days = 1 }
			}

	option = {
		ai_chance = { factor = 0 }
		name = portugal.29.e
		custom_effect_tooltip = portugal.29.e_tt
			add_popularity = {
   				ideology = democratic
				popularity = -0.05
				}
			add_popularity = {
   				ideology = fascism
				popularity = 0.05
				}
			add_popularity = {
   				ideology = communism
				popularity = 0.1
				}
			add_stability = 0.15
			add_timed_idea = {
   					idea = POR_medo_represalias
   					days = 180
				}
			}
	}

	#CARMONA GETS EMPLOYED#
country_event = {
	id = portugal.30
	title = portugal.30.t
	desc = portugal.30.d
	picture = GFX_report_event_military_planning

	is_triggered_only = yes
	
	option = {
		name = portugal.30.a
		ai_chance = { factor = 0 }
		add_ideas = POR_oscar_carmona2
		}

	option = {
		name = portugal.30.b
		ai_chance = { factor = 100 }
		add_stability = 0.05
	}
}

#CARMONA GETS DEPORTED#
country_event = {
	id = portugal.31
	title = portugal.31.t
	desc = portugal.31.d
	picture = GFX_report_event_military_planning

	is_triggered_only = yes
	
	option = { #GERMANY
		name = portugal.31.a
		ai_chance = { factor = 0 }
		GER = {
			add_opinion_modifier = {
				target = ROOT
				modifier = POR_carmona_influence
			}
			add_ai_strategy = {
				type = antagonize
			id = "ROOT"
				value = 100
				}
			}
		}

	option = { #SPAIN
		name = portugal.31.b
		ai_chance = { factor = 0 }
		every_country={
		limit={original_tag = SPR}
			add_opinion_modifier = {
				target = ROOT
				modifier = POR_carmona_influence
			}
			add_ai_strategy = {
				type = antagonize
			id = "ROOT"
				value = 100
				}
			}
		}

	option = { #UK
		name = portugal.31.c
		ai_chance = { factor = 0 }
		ENG = {
			add_opinion_modifier = {
				target = ROOT
				modifier = POR_carmona_influence
			}
			add_ai_strategy = {
				type = antagonize
			id = "ROOT"
				value = 100
				}
			}
		}

	option = { #FRANCE
		name = portugal.31.e
		ai_chance = { factor = 0 }
			FRA = {
			add_opinion_modifier = {
				target = ROOT
				modifier = POR_carmona_influence
			}
			add_ai_strategy = {
				type = antagonize
			id = "ROOT"
				value = 100
				}
			}
	}
}

#DUARTE INVITATION - FASCISTS#
country_event = {
	id = portugal.15
	title = portugal.15.t
	desc = portugal.15.d
	picture = GFX_report_event_generic_sign_treaty2

	is_triggered_only = yes
	
	option = {
		name = portugal.15.a
		ai_chance = { factor = 100 }
		custom_effect_tooltip = portugal.15.a_tooltip
			add_country_leader_trait = dictator
			add_ideas = POR_national_syndicalism
		}

	option = {
		name = portugal.15.b
		ai_chance = { factor = 0 }
		custom_effect_tooltip = portugal.15.b_tooltip
		add_ideas = POR_king_duarte_nuno
		add_ideas = quinto_imperio
		set_cosmetic_tag = POR_miguelist_restoration
		hidden_effect = {
			country_event = { id = ww2_news.79 }
			country_event = { id = portugal.2 hours = 12 }
			}
	}
}

# INVITE FRANCO TO MED will always accept
country_event = {
	id = portugal.32
	title = portugal.32.t
	desc = portugal.32.d
	picture = GFX_report_event_soviet_tank_parade

	is_triggered_only = yes

	mean_time_to_happen = {
		days = 1
	}
	
	option = {
		name = portugal.32.a
		ai_chance = { factor = 100 }
		POR = { add_to_faction = PREV }
		hidden_effect = {
		POR = {
			country_event = { id = portugal.33 hours = 12 }
				}
			}
		}
	}


# FRANCO ACCEPTS #
country_event = {
	id = portugal.33
	title = portugal.33.t
	desc = portugal.33.d
	picture = GFX_report_event_generic_sign_treaty2

	is_triggered_only = yes

	fire_only_once = yes

	option = {
		name = portugal.33.a
		ai_chance = { factor = 100 }
	}
}

# INVITE MUSSOLINI TO MED
country_event = {
	id = portugal.34
	title = portugal.34.t
	desc = portugal.34.d
	picture = GFX_report_event_soviet_tank_parade

	is_triggered_only = yes

	mean_time_to_happen = {
		days = 1
	}
	
	option = {
		name = portugal.34.a
		ai_chance = { factor = 100 }
		trigger = {
			ITA = {
				is_in_faction = no
			}
		}
		POR = { add_to_faction = PREV }
		hidden_effect = {
		POR = {
			country_event = { id = portugal.35 hours = 12 }
				}
			}
		}

	option = {
		name = portugal.34.b
		ai_chance = { factor = 100 }
		trigger = {
			ITA = {
				is_in_faction = yes
			}
		}
		hidden_effect = {
		POR = {
			country_event = { id = portugal.36 hours = 12 }
				}
			}
		}
	}


	# MUSSOLINI ACCEPTS #
country_event = {
	id = portugal.35
	title = portugal.35.t
	desc = portugal.35.d
	picture = GFX_report_event_generic_sign_treaty1

	is_triggered_only = yes

	fire_only_once = yes
	
		option = {
		name = portugal.35.a
		ai_chance = { factor = 100 }
	}
}

# MUSSOLINI REFUSES #
country_event = {
	id = portugal.36
	title = portugal.36.t
	desc = portugal.36.d
	picture = GFX_report_event_fascist_militia

	is_triggered_only = yes

	fire_only_once = yes
	
		option = {
		name = portugal.36.a
		ai_chance = { factor = 100 }
	}
}

# Portugal joins Entente #
country_event = {
	id = portugal.38
	title = portugal.38.t
	desc = portugal.38.d
	picture = GFX_report_event_generic_read_write

	is_triggered_only = yes

	fire_only_once = yes
	
		option = {
		name = portugal.38.a
		ai_chance = { factor = 100 }
		}
	}

# Changing GNR or not - Monarchy

country_event = {
	id = portugal.2
	title = portugal.2.t
	desc = portugal.2.d
	picture = GFX_report_event_british_inspect_troops

	is_triggered_only = yes
	
	option = {
		name = portugal.2.a
		ai_chance = { factor = 100 }
		custom_effect_tooltip = portugal.2.a_tooltip
		hidden_effect = {
		delete_unit_template_and_units = { division_template = "Guarda Nacional Republicana" }
		load_oob = "POR_MONARCHY_NOGNR"
		set_technology = { grp = 1 }
			}
		}

	option = {
		name = portugal.2.b
		ai_chance = { factor = 0 }
		custom_effect_tooltip = portugal.2.b_tooltip
		hidden_effect = {
		load_oob = "POR_MONARCHY_YESGNR"
		set_technology = { grp = 1 }
			}
		}
	}

# Changing GNR or not - Freemasonry

country_event = {
	id = portugal.46
	title = portugal.46.t
	desc = portugal.46.d
	picture = GFX_report_event_british_inspect_troops

	is_triggered_only = yes
	
	option = {
		name = portugal.46.a
		ai_chance = { factor = 100 }
		custom_effect_tooltip = portugal.46.a_tooltip
		hidden_effect = {
		delete_unit_template_and_units = { division_template = "Guarda Nacional Republicana" }
		load_oob = "POR_MASONIC_NOGNR"
		set_technology = { ofp = 1 }
			}
		}

	option = {
		name = portugal.46.b
		ai_chance = { factor = 0 }
		custom_effect_tooltip = portugal.46.b_tooltip
		hidden_effect = {
		load_oob = "POR_MASONIC_YESGNR"
		set_technology = { ofp = 1 }
			}
		}
	}

# Alliances if NAT SPAIN join AXIS
country_event = {
	id = portugal.3
	title = portugal.3.t
	desc = portugal.3.d
	picture = GFX_report_event_generic_sign_treaty1
	
	fire_only_once = yes
   
	trigger = {
		tag = POR
		has_completed_focus = POR_luso_pact
		NOT = { has_war_with = ENG }
		NOT = { has_war_with = GER }
		any_other_country = {
			original_tag = SPR
			has_government = fascism
			is_in_faction_with = GER
		}
	}

	mean_time_to_happen = {
		days = 1
	}

	option = {
		ai_chance = { factor = 0 }
		name = portugal.3.a
		custom_effect_tooltip = portugal.3.a_tooltip
		complete_national_focus = POR_british_cooperation	
	}
	option = {
		ai_chance = { factor = 0 }
		name = portugal.3.b
		custom_effect_tooltip = portugal.3.b_tooltip
		complete_national_focus = POR_mission_to_germany
	}
	option = {
		ai_chance = { factor = 1 }
		name = portugal.3.c
	}
}

# BRITISH ULTIMATIUM WOLFRAM SMUGGLING
country_event = {
	id = portugal.25
	title = portugal.25.t
	desc = portugal.25.d
	picture = GFX_report_event_generic_sign_treaty1
	
	fire_only_once = yes
   
	trigger = {
		tag = POR
		has_country_flag = wolfram_smuggling
		ENG = { has_war_with = GER }
		FRA = { has_capitulated = yes }
		date > 1941.01.01
	}

	mean_time_to_happen = {
		days = 180
	}

	option = {
		ai_chance = { factor = 0 }
		name = portugal.25.a
		hidden_effect = { activate_decision = POR_wolfram_smuggling_mission2 }
		ENG = {
			declare_war_on = {
			target = ROOT
			type = topple_government
			}
		}
	}

	option = {
		ai_chance = { factor = 0 }
		name = portugal.25.b
		custom_effect_tooltip = portugal.25.b_tooltip
		hidden_effect = { activate_decision = POR_wolfram_smuggling_mission2 }
		set_country_flag = wolfram_smuggling_warned
	}
}

# BRITISH WAR WOLFRAM SMUGGLING
country_event = {
	id = portugal.26
	title = portugal.26.t
	desc = portugal.26.d
	picture = GFX_report_event_generic_sign_treaty1
	
	fire_only_once = yes
   
	trigger = {
		tag = POR
		has_country_flag = wolfram_smuggling
		has_country_flag = wolfram_smuggling_warned
	}

	mean_time_to_happen = {
		days = 90
	}

	option = {
		ai_chance = { factor = 0 }
		name = portugal.26.a
		hidden_effect = { activate_decision = POR_wolfram_smuggling_mission2 }
		ENG = {
			declare_war_on = {
			target = ROOT
			type = topple_government
			}
		}
	}
}

# HIDDEN EVENT IF AT WAR STOPS SMUGGLING
country_event = {
	id = portugal.27
	title = portugal.27.t
	desc = portugal.27.d
	picture = GFX_report_event_gathering_protest
	
	fire_only_once = yes

	hidden = yes
   
	trigger = {
		tag = POR
		has_country_flag = wolfram_smuggling
		OR = { has_war = yes
		GER = { surrender_progress > 0.98
			}
		}
	}

	mean_time_to_happen = {
		days = 1
	}

	option = {
		ai_chance = { factor = 1 }
		name = portugal.27.a
		activate_decision = POR_wolfram_smuggling_mission2
	}
}

# Spain surrenders in war against Portugal
country_event = {
	id = portugal.18
	title = portugal.18.t
	desc = portugal.18.d
	picture = GFX_report_event_soldiers_marching
	
	fire_only_once = yes
   
	trigger = {
		tag = POR
		NOT = { has_completed_focus = POR_iberian_unity }
		OR = {
			has_completed_focus = POR_rekindle_feuds
			has_completed_focus = POR_galiza_referendum
		}
		any_other_country = {
			original_tag = SPR
			is_in_faction = no
			has_war_with = POR
			OR = {
			casualties > 500000
			NOT = { controls_state = 41 }
			}
		}
	}

	mean_time_to_happen = {
		days = 1
	}

	option = {
		ai_chance = { factor = 0 }
		name = portugal.18.a
		random_country = {
		limit = { original_tag = SPR }
		white_peace = POR
			}
		if = {
			limit = {
				has_completed_focus = POR_rekindle_feuds
   					}   
				transfer_state = 290
				}
		if = {
			limit = {
				has_completed_focus = POR_galiza_referendum
				has_defensive_war = yes
   					}   
				transfer_state = 171
				}
		if = {
			limit = {
				has_completed_focus = POR_galiza_referendum
				has_offensive_war = yes
   					}   
				transfer_state = 290
				transfer_state = 171
				}
			}
	option = {
		ai_chance = { factor = 0 }
		name = portugal.18.b
		custom_effect_tooltip = portugal.18.b_tooltip
	}
}

#Galiza Referendum
country_event = {
	id = portugal.17
	title = portugal.17.t
	desc = portugal.17.d
	picture = GFX_report_event_election_vote

	is_triggered_only = yes
	
	option = {
		name = portugal.17.a
		ai_chance = { factor = 35 }
		PREV = { transfer_state = 171 }
		FROM = { set_state_controller = 171 }
		FROM = {
			declare_war_on = {
				target = POR
				type = take_core_state
			}
		}
	}

	option = {
		name = portugal.17.b
		ai_chance = { factor = 35 }
		remove_state_core = 171
		PREV = { transfer_state = 290 }
	}

	option = {
		name = portugal.17.c
		ai_chance = { factor = 35 }
		POR = {
			add_state_claim = 290
			create_wargoal = {
				type = take_claimed_state
				generator = { 290 }
				target = FROM
				}
			create_wargoal = {
				type = take_core_state
				generator = { 171 }
				target = FROM
			}
		}
	}
}

# TREATY OF WINDSOR FACTION
country_event = {
	id = portugal.37
	title = portugal.37.t
	desc = portugal.37.d
	picture = GFX_report_event_generic_read_write

	is_triggered_only = yes

	mean_time_to_happen = {
		days = 1
	}
	
	option = {
		name = portugal.37.a
		trigger = {
			any_other_country = {
			original_tag = ENG
			is_in_faction = no
			}
		}
		ai_chance = { factor = 100 }
		set_rule = { can_create_factions = yes }
		create_faction = "windsor_alliance_faction"
		add_to_faction = ENG
		unlock_decision_category_tooltip = POR_colonial_empire
		}

	option = {
	trigger = {
			any_other_country = {
			original_tag = ENG
			is_in_faction_with = GER
			}
		}
		name = portugal.37.b
		ai_chance = { factor = 100 }
		GER = { add_to_faction = POR }
		unlock_decision_category_tooltip = POR_colonial_empire
		}

	option = {
		name = portugal.37.c
		ai_chance = { factor = 100 }
		remove_opinion_modifier = {
			target = ENG
			modifier = POR_pink_map_positive
				}
		set_rule = { can_create_factions = yes }
		unlock_decision_category_tooltip = POR_colonial_empire	
		}
	}

# USA PACT
country_event = {
	id = portugal.9
	title = portugal.9.t
	desc = portugal.9.d
	picture = GFX_report_event_generic_usa_treaty

	is_triggered_only = yes

	mean_time_to_happen = {
		days = 1
	}
	
	option = {
		name = portugal.9.a
		trigger = {
			any_other_country = {
			original_tag = POR
			has_completed_focus = POR_spanish_king
			}
		}

		ai_chance = { factor = 100 }

		USA = {
 				diplomatic_relation = { country = BRA relation = guarantee active = no }
 				diplomatic_relation = { country = URG relation = guarantee active = no }
 				diplomatic_relation = { country = PAR relation = guarantee active = no }
 				diplomatic_relation = { country = ARG relation = guarantee active = no }
 				diplomatic_relation = { country = CHL relation = guarantee active = no }
 				diplomatic_relation = { country = BOL relation = guarantee active = no }
 				diplomatic_relation = { country = PRU relation = guarantee active = no }
 				diplomatic_relation = { country = ECU relation = guarantee active = no }
 				diplomatic_relation = { country = COL relation = guarantee active = no }
 				diplomatic_relation = { country = VEN relation = guarantee active = no }
 			}	

 		
		BRA = {
				add_ideas = partial_economic_mobilisation
				remove_ideas = american_influence_defence_democratic
 				remove_ideas = american_protection_defence_democratic
 				remove_ideas = american_protection_drift_democratic
 				remove_ideas = nationalism
 				remove_ideas = internationalism
 				remove_ideas = fascist_influence
 				remove_ideas = communist_influence
				set_politics = { ruling_party = neutrality }
				add_popularity = {
				ideology = neutrality
				popularity = 1
					}	
				create_faction = Brazil_Axis
					add_to_faction = ARG
 					add_to_faction = URG
 					add_to_faction = PAR
 					add_to_faction = CHL
 					add_to_faction = BOL
 					add_to_faction = PRU
 					add_to_faction = ECU
 					add_to_faction = COL
 					add_to_faction = VEN
				}	

 		ARG = {
 				add_ideas = partial_economic_mobilisation
 				remove_ideas = american_influence_defence_democratic
 				remove_ideas = american_protection_defence_democratic
 				remove_ideas = american_protection_drift_democratic
 				remove_ideas = nationalism
 				remove_ideas = internationalism
 				remove_ideas = fascist_influence
 				remove_ideas = communist_influence
 				set_politics = { ruling_party = neutrality }
 				add_popularity = {
				ideology = neutrality
				popularity = 1
					}	
				}

		URG = {
				add_ideas = partial_economic_mobilisation
				remove_ideas = american_influence_defence_democratic
 				remove_ideas = american_protection_defence_democratic
 				remove_ideas = american_protection_drift_democratic
 				remove_ideas = nationalism
 				remove_ideas = internationalism
 				remove_ideas = fascist_influence
 				remove_ideas = communist_influence
				set_politics = { ruling_party = neutrality }
				add_popularity = {
				ideology = neutrality
				popularity = 1
					}
				}

		PAR = {
				add_ideas = partial_economic_mobilisation
				remove_ideas = american_influence_defence_democratic
 				remove_ideas = american_protection_defence_democratic
 				remove_ideas = american_protection_drift_democratic
 				remove_ideas = nationalism
 				remove_ideas = internationalism
 				remove_ideas = fascist_influence
 				remove_ideas = communist_influence
				set_politics = { ruling_party = neutrality }
				add_popularity = {
				ideology = neutrality
				popularity = 1
					}	
				}

		CHL = {
				add_ideas = partial_economic_mobilisation
				remove_ideas = american_influence_defence_democratic
 				remove_ideas = american_protection_defence_democratic
 				remove_ideas = american_protection_drift_democratic
 				remove_ideas = nationalism
 				remove_ideas = internationalism
 				remove_ideas = fascist_influence
 				remove_ideas = communist_influence
				set_politics = { ruling_party = neutrality }
				add_popularity = {
				ideology = neutrality
				popularity = 1
					}
				}		
		
		PRU = {
				add_ideas = partial_economic_mobilisation
				remove_ideas = american_influence_defence_democratic
 				remove_ideas = american_protection_defence_democratic
 				remove_ideas = american_protection_drift_democratic
 				remove_ideas = nationalism
 				remove_ideas = internationalism
 				remove_ideas = fascist_influence
 				remove_ideas = communist_influence
				set_politics = { ruling_party = neutrality }
				add_popularity = {
				ideology = neutrality
				popularity = 1
					}
				}

		ECU = {
				add_ideas = partial_economic_mobilisation
				remove_ideas = american_influence_defence_democratic
 				remove_ideas = american_protection_defence_democratic
 				remove_ideas = american_protection_drift_democratic
 				remove_ideas = nationalism
 				remove_ideas = internationalism
 				remove_ideas = fascist_influence
 				remove_ideas = communist_influence
				set_politics = { ruling_party = neutrality }
				add_popularity = {
				ideology = neutrality
				popularity = 1
					}
				}

		BOL = {
				add_ideas = partial_economic_mobilisation
				remove_ideas = american_influence_defence_democratic
 				remove_ideas = american_protection_defence_democratic
 				remove_ideas = american_protection_drift_democratic
 				remove_ideas = nationalism
 				remove_ideas = internationalism
 				remove_ideas = fascist_influence
 				remove_ideas = communist_influence
				set_politics = { ruling_party = neutrality }
				add_popularity = {
				ideology = neutrality
				popularity = 1
					}	
				}

		COL = {
				add_ideas = partial_economic_mobilisation
				remove_ideas = american_influence_defence_democratic
 				remove_ideas = american_protection_defence_democratic
 				remove_ideas = american_protection_drift_democratic
 				remove_ideas = nationalism
 				remove_ideas = internationalism
 				remove_ideas = fascist_influence
 				remove_ideas = communist_influence
				set_politics = { ruling_party = neutrality }
				add_popularity = {
				ideology = neutrality
				popularity = 1
					}
				}

		VEN = {
				add_ideas = partial_economic_mobilisation
				remove_ideas = american_influence_defence_democratic
 				remove_ideas = american_protection_defence_democratic
 				remove_ideas = american_protection_drift_democratic
 				remove_ideas = nationalism
 				remove_ideas = internationalism
 				remove_ideas = fascist_influence
 				remove_ideas = communist_influence
				set_politics = { ruling_party = neutrality }
				add_popularity = {
				ideology = neutrality
				popularity = 1
					}
				}

		random_country = {
				limit = { original_tag = SPR }
					add_opinion_modifier = { target = BRA modifier = iberian_interests }
					add_opinion_modifier = { target = ARG modifier = iberian_interests }
					add_opinion_modifier = { target = URG modifier = iberian_interests }
					add_opinion_modifier = { target = PAR modifier = iberian_interests }
					add_opinion_modifier = { target = CHL modifier = iberian_interests }
					add_opinion_modifier = { target = PRU modifier = iberian_interests }
					add_opinion_modifier = { target = ECU modifier = iberian_interests }
					add_opinion_modifier = { target = BOL modifier = iberian_interests }
					add_opinion_modifier = { target = COL modifier = iberian_interests }
					add_opinion_modifier = { target = VEN modifier = iberian_interests }
					reverse_add_opinion_modifier  = { target = BRA modifier = afraid_colonization }
					reverse_add_opinion_modifier  = { target = ARG modifier = afraid_colonization }
					reverse_add_opinion_modifier  = { target = URG modifier = afraid_colonization }
					reverse_add_opinion_modifier  = { target = PAR modifier = afraid_colonization }
					reverse_add_opinion_modifier  = { target = CHL modifier = afraid_colonization }
					reverse_add_opinion_modifier  = { target = PRU modifier = afraid_colonization }
					reverse_add_opinion_modifier  = { target = ECU modifier = afraid_colonization }
					reverse_add_opinion_modifier  = { target = BOL modifier = afraid_colonization }
					reverse_add_opinion_modifier  = { target = COL modifier = afraid_colonization }
					reverse_add_opinion_modifier  = { target = VEN modifier = afraid_colonization }
				}

		POR = {
			country_event = { id = ww2_news.63 }
			hidden_effect = {
			add_opinion_modifier = { target = BRA modifier = iberian_interests }
			add_opinion_modifier = { target = ARG modifier = iberian_interests }
			add_opinion_modifier = { target = URG modifier = iberian_interests }
			add_opinion_modifier = { target = PAR modifier = iberian_interests }
			add_opinion_modifier = { target = CHL modifier = iberian_interests }
			add_opinion_modifier = { target = PRU modifier = iberian_interests }
			add_opinion_modifier = { target = ECU modifier = iberian_interests }
			add_opinion_modifier = { target = BOL modifier = iberian_interests }
			add_opinion_modifier = { target = COL modifier = iberian_interests }
			add_opinion_modifier = { target = VEN modifier = iberian_interests }
			reverse_add_opinion_modifier  = { target = BRA modifier = afraid_colonization }
			reverse_add_opinion_modifier  = { target = ARG modifier = afraid_colonization }
			reverse_add_opinion_modifier  = { target = URG modifier = afraid_colonization }
			reverse_add_opinion_modifier  = { target = PAR modifier = afraid_colonization }
			reverse_add_opinion_modifier  = { target = CHL modifier = afraid_colonization }
			reverse_add_opinion_modifier  = { target = PRU modifier = afraid_colonization }
			reverse_add_opinion_modifier  = { target = ECU modifier = afraid_colonization }
			reverse_add_opinion_modifier  = { target = BOL modifier = afraid_colonization }
			reverse_add_opinion_modifier  = { target = COL modifier = afraid_colonization }
			reverse_add_opinion_modifier  = { target = VEN modifier = afraid_colonization }
				}
			}
		}

	option = {
		name = portugal.9.b
		trigger = {
			any_other_country = {
			original_tag = POR
			OR = {
			has_completed_focus = POR_orgulhosamente_sos
			has_completed_focus = POR_portugal_strong
				}
			}
		}
		ai_chance = { factor = 100 }
		USA = {
 				diplomatic_relation = { country = BRA relation = guarantee active = no }
 				diplomatic_relation = { country = URG relation = guarantee active = no }
 			}	

		BRA = {
				add_ideas = partial_economic_mobilisation
				remove_ideas = american_influence_defence_democratic
 				remove_ideas = american_protection_defence_democratic
 				remove_ideas = american_protection_drift_democratic
 				remove_ideas = nationalism
 				remove_ideas = internationalism
 				remove_ideas = fascist_influence
 				remove_ideas = communist_influence
				set_politics = { ruling_party = neutrality }
				add_popularity = {
				ideology = neutrality
				popularity = 1
					}	
				}
		URG = {
				add_ideas = partial_economic_mobilisation
				remove_ideas = american_influence_defence_democratic
 				remove_ideas = american_protection_defence_democratic
 				remove_ideas = american_protection_drift_democratic
 				remove_ideas = nationalism
 				remove_ideas = internationalism
 				remove_ideas = fascist_influence
 				remove_ideas = communist_influence
				set_politics = { ruling_party = neutrality }
				add_popularity = {
				ideology = neutrality
				popularity = 1
					}
				}
		POR={
			country_event = { id = ww2_news.64 }
			hidden_effect = {
				add_opinion_modifier = { target = BRA modifier = iberian_interests }
				add_opinion_modifier = { target = URG modifier = iberian_interests }
				reverse_add_opinion_modifier  = { target = BRA modifier = afraid_colonization }
				reverse_add_opinion_modifier  = { target = URG modifier = afraid_colonization }
			}
		}
	}

	option = {
		name = portugal.9.c
		trigger = {
			USA = { is_ai = no }
		}
		ai_chance = { factor = 0 }
		POR={
			country_event = { id = ww2_news.65 }
		}
	}
}

# LUSO PACT
country_event = {
	id = portugal.7
	title = portugal.7.t
	desc = portugal.7.d
	picture = GFX_report_event_hitler_handshake

	is_triggered_only = yes
	
	option = {
		name = portugal.7.a
		ai_chance = { factor = 100 }
		random_country = {
				limit = { original_tag = SPR }
				diplomatic_relation = {
				country = FROM
				relation = non_aggression_pact
				active = yes
			}
		}
		POR = { country_event = { id = ww2_news.62 } }
	}
}

#Spain accepts interchange program#
country_event = {
	id = portugal.4
	title = portugal.4.t
	desc = portugal.4.d
	picture = GFX_report_event_hitler_handshake

	is_triggered_only = yes
	
	option = {
		name = portugal.7.a
		ai_chance = { factor = 100 }
			POR = { country_event = { id = portugal.5 } }
		}
	}


#Portugal chooses wich program
country_event = {
	id = portugal.5
	title = portugal.5.t
	desc = portugal.5.d
	picture = GFX_report_event_generic_factory

	is_triggered_only = yes
	
	option = {
		name = portugal.5.a
		ai_chance = { factor = 35 }
		POR = { add_ideas = interchange_army_contractors }
		random_country = {
					limit = { original_tag = SPR }
					add_ideas = interchange_army_contractors
			}
		}

	option = {
		name = portugal.5.b
		ai_chance = { factor = 35 }
		POR = { add_ideas = interchange_navy_contractors }
		random_country = {
					limit = { original_tag = SPR }
					add_ideas = interchange_navy_contractors
			}
		}

	option = {
		name = portugal.5.c
		ai_chance = { factor = 35 }
		POR = { add_ideas = interchange_building_contractors }
		random_country = {
					limit = { original_tag = SPR }
					add_ideas = interchange_building_contractors
			}
		}
	}

# Demand Ceuta from Spain
country_event = {
	id = portugal.10
	title = portugal.10.t
	desc = portugal.10.d
	picture = GFX_report_event_merchant_ship_01

	is_triggered_only = yes
	
	option = {
		name = portugal.10.a
		ai_chance = { factor = 0 } #Spain will never accept demand#
		country_event = { id = portugal.11 }
		effect_tooltip = {
			POR = { transfer_state = 290 }
			remove_opinion_modifier = { target = POR modifier = por_supported_spain_civil_war }
		}
	}
	option = {
		name = portugal.10.b
		ai_chance = { factor = 100 }
		POR = { country_event = { id = portugal.12 hours = 4 } }
		effect_tooltip = {
			POR = { country_event = { id = portugal.12 } }
		}
	}
}

# Spain Gives Up Ceuta
country_event = {
	id = portugal.11
	title = portugal.11.t
	desc = portugal.11.d
	picture = GFX_report_event_merchant_ship_01

	is_triggered_only = yes
	
	option = {
		name = portugal.11.a
		POR = { transfer_state = 290 }
		remove_opinion_modifier = { target = POR modifier = por_supported_spain_civil_war }
	}
}

# Spain Refuses to Give Up Ceuta
country_event = {
	id = portugal.12
	title = portugal.12.t
	desc = portugal.12.d
	picture = GFX_report_event_soldiers_marching

	is_triggered_only = yes
	
	option = {
		name = portugal.12.a
		custom_effect_tooltip = portugal.12.a_tooltip
		POR = { add_state_claim = 290 }
	}

	option = {
		name = portugal.12.b
		custom_effect_tooltip = portugal.12.b_tooltip
		POR = {
			hidden_effect = { add_state_claim = 290 }
					create_wargoal = {
					type = take_claimed_state
					generator = { 290 }
					target = FROM
			}
		}
	}	
}

#RENAMING CEUTA#
news_event = {
	id = portugal.8
	title = portugal.8.t
	desc = portugal.8.d
	picture = GFX_news_event_portuguese_assembleia

	fire_only_once = yes
	
	trigger = {
		original_tag = POR
		owns_state = 290
		NOT = { has_completed_focus = POR_regime_shall_not_fall }
		NOT = { has_completed_focus = POR_7_congresso }
		NOT = { has_completed_focus = POR_mil_fa_na }
	}
	
	option = {
		name = portugal.8.a

		290 = { set_state_name = "Portuguese Africa" }
	}
}

#SPAIN ACCEPTS LUSO PACT#
news_event = {
	id = portugal.6
	title = portugal.6.t
	desc = portugal.6.d
	picture = GFX_news_event_portuguese_assembleia

	is_triggered_only = yes

	fire_only_once = yes
	
	option = {
		name = portugal.6.a
	}
}

#####  SPAIN MONARCHIST AID  #####

country_event = {
	id = portugal.22
	title = portugal.22.t
	desc = portugal.22.d

	fire_only_once = yes

	is_triggered_only=yes

	mean_time_to_happen = {
		days = 1
	}

	option = { # yes
		name = portugal.22.a
		ai_chance = { factor = 100 }
		random_country = {
		limit = { original_tag = SPR }
		add_ideas = POR_return_monarchy
		set_party_name = { ideology = neutrality long_name = "House of Bourbon-Anjou" name = "House of Bourbon" }
		add_popularity = {
			ideology = neutrality
			popularity = 0.3
		}
		create_country_leader = {
			name = "Alfonso XIII"
		desc = "POLITICS_VICTOR_EMMANUEL_III_DESC"
		picture = "Portrait_Alfonso_XIII.tga"
			expire = "1965.1.1"
			ideology = despotism
			traits = {
				}
			}
		}
		POR = { country_event = { id = ww2_news.59 } }
	}
}

#####  SPAIN JOINS PORTUGAL MONARCHISTS#####

country_event = {
	id = portugal.23
	title = portugal.23.t
	desc = portugal.23.d

	fire_only_once = yes

	is_triggered_only=yes

	mean_time_to_happen = {
		days = 1
	}

	option = { # yes
		name = portugal.23.a
		ai_chance = { factor = 10 }
		set_politics = {
			ruling_party = neutrality
			elections_allowed = no
		}
		set_cosmetic_tag = SPK
		hidden_effect={
		add_popularity = {
			ideology = neutrality
			popularity = 1
		}
		remove_ideas = SPA_recovering_from_civil_war
		}
		POR={
		country_event = { id = ww2_news.60 }
		create_faction = Monarchists_faction
		add_to_faction=PREV}
	}
	option = { # no
		name = portugal.23.b
		ai_chance = { factor = 90 }
		start_civil_war = {
				ideology = neutrality
				size = 0.4
				capital = 174
				states = { 165 177 166 172 176 174 171 }
			}
			hidden_effect={
			random_other_country = {
				limit = {
					original_tag = SPR
					has_government = neutrality
				}
				set_global_flag = civilwarversiontwo
				set_cosmetic_tag = SPK
				set_politics = { elections_allowed = no }
				add_ideas = war_economy
				add_ideas = limited_conscription
				add_ideas = POR_return_monarchy
				set_equipment_fraction = 0.5
				set_stability = 0.9
				set_war_support = 0.8
				POR={
				country_event = { id = ww2_news.61 }
				create_faction = Monarchists_faction
				add_to_faction = PREV
				add_to_war = {
				targeted_alliance = PREV
				enemy=ROOT}
				}
			}
			add_popularity = {
				ideology = neutrality
				popularity = -1
			}
			set_equipment_fraction = 0.5
			set_stability = 0.4
			set_war_support = 0.6
			}
			add_ideas = SPA_recovering_from_civil_war
			remove_ideas = POR_return_monarchy
		}
	}

#BRAZIL CIVIL WAR COMMUNISTS#
country_event = {
	id = ww2_portugal.1
	title = ww2_portugal.1.t
	desc = ww2_portugal.1.d
	picture = GFX_report_event_ger_civil_war

	is_triggered_only = yes
	
	#civil war starts
	option = {
		name = ww2_portugal.1.a
		hidden_effect = {
			USA = {
 				diplomatic_relation = { country = BRA relation = guarantee active = no }
 				}
 			}
		hidden_effect = {
			set_capital = 500
			start_civil_war = {
				ruling_party = communism
				ideology = neutrality
				size = 0.5
				capital = 501
				states = { 501 504 280 503 502 }
			}
			random_other_country = {
				limit = {
					original_tag = BRA
					has_government = neutrality
				}
				set_stability = 0.6
				set_war_support = 0.7
				remove_ideas = FRA_support_the_left_focus
			}
			random_other_country = {
				limit = {
					original_tag = BRA
					has_government = communism
				}
				remove_ideas = american_influence_defence_democratic
 				remove_ideas = american_protection_defence_democratic
 				remove_ideas = american_protection_drift_democratic
			}
			
			set_politics = {
				ruling_party = communism
				elections_allowed = no
			}
			set_popularities = {
				democratic = 10
				neutrality = 0
				fascism = 0
				communism = 90
			}
			set_stability = 0.9
			set_war_support = 0.8
			}
	}
}

#GREECE CIVIL WAR FASCISM#
	country_event = {
	id = ww2_portugal.2
	title = ww2_portugal.2.t
	desc = ww2_portugal.2.d
	picture = GFX_report_event_ger_civil_war

	is_triggered_only = yes
	
	#civil war starts
	option = {
		name = ww2_portugal.2.a
		ai_chance = { factor = 100 }
		start_civil_war = {
				ideology = fascism
				size = 0.5
				capital = 185
				states = { 185 186 182 187 }
			}
			hidden_effect={
			random_other_country = {
				limit = {
					original_tag = GRE
					has_government = fascism
				}
				set_politics = { elections_allowed = no }
				add_ideas = war_economy
				add_ideas = limited_conscription
				set_equipment_fraction = 0.5
				set_stability = 0.9
				set_war_support = 0.8
				POR={
				add_to_faction = PREV
				add_to_war = {
				targeted_alliance = PREV
				enemy=ROOT}
				}
			}
			add_popularity = {
				ideology = fascism
				popularity = -1
			}
			set_equipment_fraction = 0.5
			set_stability = 0.4
			set_war_support = 0.6
			}
		}
	}
country_event = {
	id = greece.101
	title = greece.101.t
	desc = greece.101.d
	picture = GFX_report_event_spain_civil_war_volunteers_01
	
	trigger = {
		original_tag = GRE
		has_government = fascism
		owns_state = 47
	}

	fire_only_once = yes

	mean_time_to_happen = {
		days = 1
	}

	option = {
		ai_chance = { factor = 1 }
		name = greece.101.a
		set_capital = 47
	}
}

	#TURKISH CIVIL WAR FASCISM#
country_event = {
	id = ww2_portugal.3
	title = ww2_portugal.3.t
	desc = ww2_portugal.3.d
	picture = GFX_report_event_ger_civil_war

	is_triggered_only = yes
	
	#civil war starts
	option = {
		name = ww2_portugal.3.a
		ai_chance = { factor = 100 }
		start_civil_war = {
				ideology = fascism
				size = 0.5
				capital = 341
				states = { 341 347 340 339 342 345 343 }
			}
			hidden_effect={
			random_other_country = {
				limit = {
					original_tag = TUR
					has_government = fascism
				}
				set_politics = { elections_allowed = no }
				add_ideas = war_economy
				add_ideas = limited_conscription
				set_equipment_fraction = 0.5
				set_stability = 0.9
				set_war_support = 0.8
				POR={
				add_to_faction = PREV
				add_to_war = {
				targeted_alliance = PREV
				enemy=ROOT}
				}
			}
			add_popularity = {
				ideology = fascism
				popularity = -1
			}
			set_equipment_fraction = 0.5
			set_stability = 0.4
			set_war_support = 0.6
			}
		}
	}
country_event = {
	id = greece.102
	title = greece.102.t
	desc = greece.102.d
	picture = GFX_report_event_spain_civil_war_volunteers_01
	
	trigger = {
		original_tag = TUR
		has_government = fascism
		owns_state = 49
	}

	fire_only_once = yes

	mean_time_to_happen = {
		days = 1
	}

	option = {
		ai_chance = { factor = 1 }
		name = greece.102.a
		set_capital = 49
	}
}

	#UNREST EVENTS - CARMONA UNPOPULAR#

country_event = { # Fascism protests
	id = portugal.39
	title = portugal.39.t
	desc = portugal.39.d
	picture = GFX_report_event_spain_civil_war_soldiers

	is_triggered_only = yes
	
	option = {
		name = portugal.39.a
		trigger = {
			NOT = { has_country_flag = freemason_3 }
			NOT = { has_global_flag = freemasonry_protests }
		}
		ai_chance = { factor = 100 }
		add_popularity = {
				ideology = fascism
				popularity = 0.02
			}
		random_owned_state = {
			limit = {
				is_fully_controlled_by = ROOT
				arms_factory > 0
			}
			damage_building = {
				type = arms_factory
				damage = 0.6
				}
			}
		}

	option = {
		name = portugal.39.b
		trigger = {
			has_country_flag = freemason_3
			NOT = { has_global_flag = freemasonry_protests }
		}
		ai_chance = { factor = 100 }
		add_popularity = {
				ideology = fascism
				popularity = 0.04
			}
		random_owned_state = {
			limit = {
				is_fully_controlled_by = ROOT
				arms_factory > 0
			}
			damage_building = {
				type = arms_factory
				damage = 0.8
				}
			damage_building = {
				type = arms_factory
				damage = 0.8
				}
			}
		}

	option = {
		name = portugal.39.c
		trigger = {
		has_idea = POR_alberto_monsaraz
			}
			add_popularity = {
				ideology = fascism
				popularity = 0.01
			}
			add_political_power = -25
		}

	option = {
		name = portugal.39.e
		trigger = {
		has_global_flag = freemasonry_protests
				}
			}
		}

country_event = { # Democratic protests
	id = portugal.40
	title = portugal.40.t
	desc = portugal.40.d
	picture = GFX_report_event_generic_rifles

	is_triggered_only = yes
	
	option = {
		name = portugal.40.a
		trigger = {
			NOT = { has_country_flag = freemason_2 }
			NOT = { has_global_flag = freemasonry_protests }
		}
		ai_chance = { factor = 100 }
		add_popularity = {
				ideology = democratic
				popularity = 0.02
			}
		add_equipment_to_stockpile = {
			type = infantry_equipment
			amount = -800
			}
		}

	option = {
		name = portugal.40.b
		trigger = {
			has_country_flag = freemason_2
			NOT = { has_global_flag = freemasonry_protests }
		}
		ai_chance = { factor = 100 }
		add_popularity = {
				ideology = democratic
				popularity = 0.04
			}
		add_equipment_to_stockpile = {
			type = infantry_equipment
			amount = -1600
			}
		}

	option = {
		name = portugal.40.c
		trigger = {
		has_idea = POR_antonio_sergio
			}
			add_popularity = {
				ideology = democratic
				popularity = 0.01
			}
			add_political_power = -25
		}

	option = {
		name = portugal.40.e
		trigger = {
		has_global_flag = freemasonry_protests
				}
			}
		}

country_event = { # Communist protests
	id = portugal.41
	title = portugal.41.t
	desc = portugal.41.d
	picture = GFX_report_event_generic_rally2

	is_triggered_only = yes
	
	option = {
		name = portugal.41.a
		trigger = {
			NOT = { has_country_flag = freemason_1 }
			NOT = { has_global_flag = freemasonry_protests }
		}
		ai_chance = { factor = 100 }
		add_popularity = {
				ideology = communism
				popularity = 0.02
			}
		add_timed_idea = {
					idea = strikes_1
					days = 15
			}
		}

	option = {
		name = portugal.41.b
		trigger = {
			has_country_flag = freemason_1
			NOT = { has_global_flag = freemasonry_protests }
		}
		ai_chance = { factor = 100 }
		add_popularity = {
				ideology = communism
				popularity = 0.04
			}
		add_timed_idea = {
					idea = strikes_3
					days = 30
			}
		}

	option = {
		name = portugal.41.c
		trigger = {
		has_idea = POR_alvaro_cunhal
			}
			add_popularity = {
				ideology = communism
				popularity = 0.01
			}
			add_political_power = -25
		}
	
	option = {
		name = portugal.41.e
		trigger = {
		has_global_flag = freemasonry_protests
				}
			}
		}

#DEAL WITH THE DEVIL#

country_event = {
	id = portugal.42
	title = portugal.42.t
	desc = portugal.42.d
	picture = GFX_report_event_generic_sign_treaty2

	is_triggered_only = yes
	
	option = {
		name = portugal.42.a #okay
		hidden_effect = {
				create_country_leader = {
				name = "António Óscar de Fragoso Carmona"
			desc = ""
			picture = "Portrait_Portugal_Antonio_Carmona_masonic.dds"
				expire = "1965.1.1"
				ideology = despotism
				traits = {
					weak_carmona1
					}
				}
			}
		add_country_leader_trait = freemasonry_support
		swap_ruler_traits = { remove = weak_carmona1 add = weak_carmona2 }
		hidden_effect = { set_global_flag = freemasonry_protests }
	}
}

#BLOW SUEZ - MASONIC OPERATIONS#
country_event = {
	id = portugal.43
	title = portugal.43.t
	desc = portugal.43.d
	picture = GFX_report_event_military_planning

	is_triggered_only = yes
	
	option = {
		name = portugal.43.a
		ai_chance = { factor = 100 }
	}
}

#BLOW PANAMA - MASONIC OPERATIONS#
country_event = {
	id = portugal.44
	title = portugal.44.t
	desc = portugal.44.d
	picture = GFX_report_event_military_planning

	is_triggered_only = yes
	
	option = {
		name = portugal.44.a
		ai_chance = { factor = 100 }
		}
	}
	# Demand Olivença from Spain
country_event = {
	id = portugal.47
	title = portugal.47.t
	desc = portugal.47.d
	picture = GFX_report_event_merchant_ship_01

	is_triggered_only = yes
	
	option = {
		name = portugal.47.a
		ai_chance = { factor = 80 } 
		country_event = { id = portugal.48 }
		effect_tooltip = {
			POR = { transfer_state = 290 }
			remove_opinion_modifier = { target = POR modifier = por_supported_spain_civil_war }
		}
	}
	option = {
		name = portugal.47.b
		ai_chance = { factor = 20 }
		POR = { country_event = { id = portugal.49 hours = 4 } }
		effect_tooltip = {
			POR = { country_event = { id = portugal.49 } }
		}
	}
}

# Spain Gives Up Olivença
country_event = {
	id = portugal.48
	title = portugal.48.t
	desc = portugal.48.d
	picture = GFX_report_event_merchant_ship_01

	is_triggered_only = yes
	
	option = {
		name = portugal.48.a
		POR = { transfer_state = 808 }
		remove_opinion_modifier = { target = POR modifier = por_supported_spain_civil_war }
	}
}

#Spain Refuses to Give Up Olivença
country_event = {
	id = portugal.49
	title = portugal.49.t
	desc = portugal.49.d
	picture = GFX_report_event_soldiers_marching

	is_triggered_only = yes
	
	option = {
		name = portugal.49.a
		custom_effect_tooltip = portugal.49.a_tooltip
		POR = { add_state_claim = 808 }
	}

	option = {
		name = portugal.49.b
		custom_effect_tooltip = portugal.49.b_tooltip
		POR = {
			hidden_effect = { add_state_claim = 808 }
					create_wargoal = {
					type = take_claimed_state
					generator = { 808 }
					target = FROM
			}
		}
	}	
}	

#MONGOLIA DECLARES WAR ON ASIA - MASONIC OPERATIONS#
country_event = {
	id = portugal.45
	title = portugal.45.t
	desc = portugal.45.d
	picture = GFX_report_event_military_planning

	is_triggered_only = yes
	
	option = {
		name = portugal.45.a
		ai_chance = { factor = 100 }
		declare_war_on = {
			target = JAP
			type = annex_everything
		}
		declare_war_on = {
			target = CHI
			type = annex_everything
		}
		declare_war_on = {
			target = MAN
			type = annex_everything
		}
		declare_war_on = {
			target = MEN
			type = annex_everything
		}
		declare_war_on = {
			target = SHX
			type = annex_everything
		}
		declare_war_on = {
			target = PRC
			type = annex_everything
		}
		declare_war_on = {
			target = XSM
			type = annex_everything
		}
		declare_war_on = {
			target = SIK
			type = annex_everything
		}
	}
}

#ANGOLA DECLARES WAR ON PORTUGAL#
country_event = {
	id = portugal.47
	title = portugal.47.t
	desc = portugal.47.d
	picture = GFX_report_event_military_planning

	is_triggered_only = yes

	trigger = {
		NOT = { has_government = communism }
		tag = POR
		has_defensive_war = no
		NOT = { has_government = fascism }
		date > 1944.2.4
		date < 1944.2.5
	}
	
	option = {
		name = portugal.47.a
			declare_war_on = {
				target = ANG
			}

			load_oob = "GER_German_Civil_War_neutrality"
			random_other_country = {
				limit = {
					original_tag = GER
					has_government = fascism
				}
				set_stability = 0.9
				set_war_support = 0.8
				load_oob = "GER_German_Civil_War_fascist"
			}
			hidden_effect = { news_event = { id = wtt_news.1 hours = 6 } }
			
			set_politics = {
				ruling_party = neutrality
				elections_allowed = no
			}
			add_popularity = {
				ideology = communism
				popularity = 0.2
			}
			3add_popularity = {
				ideology = democratic
				popularity = 0.30
			}
			add_popularity = {
				ideology = neutrality
				popularity = 0.35
			}
			add_popularity = {
				ideology = fascism
				popularity = 0.1
			}	
			set_stability = 0.9
			set_war_support = 0.8
		}
		custom_effect_tooltip = GER_fascism_civil_war_tt
		add_stability = -0.25
		hidden_effect = { set_cosmetic_tag = GER_provisional_gvt }
		random_other_country = {
			limit = {
				original_tag = GER
				has_government = fascism
			}
			set_cosmetic_tag = GER_civil_war
			hidden_effect = { activate_mission = GER_mefo_bills_mission }
		}
		create_country_leader = {
			name = "August von Mackensen"
		desc = "POLITICS_AUGUST_VON_MACKENSEN_DESC"
		picture = GFX_portrait_ger_august_von_mackensen
			expire = "1965.1.1"
			ideology = despotism
			traits = {
				great_war_hero
			}
		}
		hidden_effect = {
			random_other_country = {
				limit = {
					original_tag = GER
					has_government = fascism
				}
				save_event_target_as = fascist_germany_civil_war
				every_unit_leader = {
					set_nationality = GER
				}
			}
			GER = {
				every_unit_leader = {
					limit = {
						OR = {
							has_id = 10
							has_id = 15
							has_id = 20
							has_id = 24
						}
					}
					set_nationality = event_target:fascist_germany_civil_war
				}
			}
			if = {
				limit = {
					is_ai = yes
				}
				add_political_power = 150
				add_equipment_to_stockpile = {
					type = infantry_equipment
					amount = 10000
					producer = GER
				}
				add_equipment_to_stockpile = {
					type = support_equipment
					amount = 250
					producer = GER
				}
				add_equipment_to_stockpile = {
					type = artillery_equipment
					amount = 500
					producer = GER
				}
			}
		}
	}
}