RON_universal_setup = yes
enable_propaganda_campaigns = yes
 

capital = 219
oob = "RUS_1910"
set_research_slots = 3
set_stability = 0.5
set_war_support = 0.8
set_convoys = 50

add_ideas = {
	sov_red_army
	sov_chad_masculinity
	sov_soviet_engineering
	low_literacy_rate

	#laws
	low_economic_mobilisation
	foreign_warmonger
	press_state
	security_police_state
	tax_high
	education_budget3
	limited_exports
	tariffs_high
	fdi_banned
	train_low
	officer_train_low
	planned_economy
	army_budget4
	airforce_budget4
	navy_budget3
	police_budget5
	industry_budget4
	engineering_budget4
	infrastructure_budget4
	foreign_legion
	volunteer_only
}

### WW1 Start Date
set_politics = {
	ruling_party = communism
	last_election = "1907.1.12"
	election_frequency = 60
	elections_allowed = no
}

set_popularities = {
	democratic = 10
	fascism = 2
	communism = 88
}

######Leaders######

recruit_character = SOV_vladimir_lenin
recruit_character = SOV_joseph_stalin
recruit_character = SOV_Lev_Trotsky
recruit_character = SOV_nikolay_bukharin
recruit_character = SOV_yakov_sverdlov
recruit_character = SOV_felix_dzerzhinsky
recruit_character = SOV_lev_kamenev
recruit_character = SOV_grigory_zinovyev
recruit_character = SOV_aleksey_rykov
recruit_character = SOV_central_committee
recruit_character = SOV_alexandra_kollontai
recruit_character = SOV_maria_spiridonova
recruit_character = SOV_lazar_kaganovich
recruit_character = SOV_georgy_malenkov
recruit_character = SOV_nikolay_bulganin
recruit_character = SOV_sergey_kirov
recruit_character = SOV_lavrentiy_beria
recruit_character = SOV_vyacheslav_molotov
recruit_character = SOV_nikita_khrushchyov
recruit_character = SOV_mikhail_suslov
recruit_character = SOV_leonid_brezhnev
recruit_character = SOV_aleksei_kosigin
recruit_character = SOV_yuri_andropov
recruit_character = SOV_konstantin_chernenko
recruit_character = SOV_mikhail_gorbachev
recruit_character = SOV_nikolai_yezhov

######Advisors######

recruit_character = SOV_mikhail_kalinin
recruit_character = SOV_vladimir_antonov_ovseenko
recruit_character = SOV_nadezda_krupskaya
recruit_character = SOV_pyotr_smirnov
recruit_character = SOV_yevgeny_preobrazhensky
recruit_character = SOV_alexander_krasnoshchyokov
recruit_character = SOV_valerian_obolensky_osinsky
recruit_character = SOV_osip_piatnitsky
recruit_character = SOV_andrei_bubnov
recruit_character = SOV_boris_shumyatsky
recruit_character = SOV_leonid_serebryakov
recruit_character = SOV_nikolai_voznesensky
recruit_character = SOV_Sergo_Ordzhonikidze
recruit_character = SOV_viktor_nogin
recruit_character = SOV_georgiy_chicherin
recruit_character = SOV_aleksandr_shlyapnikov
recruit_character = SOV_mikhail_tomsky
recruit_character = SOV_christian_rakovsky
recruit_character = SOV_karl_radek
recruit_character = SOV_andrey_zdanov
recruit_character = SOV_alexander_poskrebyshev
recruit_character = SOV_ivan_proskurov
recruit_character = SOV_ivan_tevosian
recruit_character = SOV_ivar_smilga
recruit_character = SOV_maksim_litvinov
recruit_character = SOV_ivan_maisky
recruit_character = SOV_anastas_mikoyan
recruit_character = SOV_mikhail_suslov
recruit_character = SOV_georgy_oppokov
recruit_character = SOV_leonid_krasin
recruit_character = SOV_anatoly_lunacharsky
recruit_character = SOV_arkady_rosengolts
recruit_character = SOV_evgeny_pachukanis
recruit_character = SOV_alexander_bogdanov
recruit_character = SOV_nikolay_shvernik
recruit_character = SOV_andrey_andreyev
recruit_character = SOV_arkadiy_timiryazev
recruit_character = SOV_arseny_zverev
recruit_character = SOV_Maxim_Gorky
recruit_character = SOV_vladimir_milyutin
recruit_character = SOV_alexander_serebrovski
recruit_character = SOV_valerian_kuybyshev
recruit_character = SOV_vladimir_mayakovsky
recruit_character = SOV_martemyan_ryutin
recruit_character = SOV_grigory_sokolnikov
recruit_character = SOV_vladimir_bonch_bruevich
recruit_character = SOV_nikolai_krylenko
recruit_character = SOV_konstantin_eremeev
recruit_character = SOV_andrey_vyshinsky
recruit_character = SOV_trofim_lysenko
recruit_character = SOV_vladimir_mitkevich

recruit_character = SOV_genrikh_yagoda
recruit_character = SOV_moisei_uritsky
recruit_character = SOV_jekabs_peterss
recruit_character = SOV_viktor_abakumov
recruit_character = SOV_ivan_serov
recruit_character = SOV_vsevolod_merkulov
recruit_character = SOV_mikhail_trilisser
recruit_character = SOV_semyon_ignatyev

recruit_character = SOV_patriarch_sergy



recruit_character = SOV_lev_landau
recruit_character = SOV_mikhail_kalashnikov

recruit_character = SOV_efraim_sklyanskiy
recruit_character = SOV_nikolai_podvoisky
recruit_character = SOV_sergey_gusev
recruit_character = SOV_jozef_unszlicht

########Army########

recruit_character = SOV_mikhail_frunze
recruit_character = SOV_mikhail_tukhachevsky
recruit_character = SOV_kliment_voroshilov
recruit_character = SOV_semyon_budyonny
recruit_character = SOV_Georgy_Zhukov
recruit_character = SOV_alexander_yegorov
recruit_character = SOV_vasily_blucher
recruit_character = SOV_iona_yakir
recruit_character = SOV_ivan_konev
recruit_character = SOV_konstantin_rokossovsky
recruit_character = SOV_boris_shaposhnikov
recruit_character = SOV_jukums_vacietis
recruit_character = SOV_sergey_kamenev
recruit_character = SOV_aleksandr_svechin
recruit_character = SOV_nikolay_rattel
recruit_character = SOV_boris_feldman
recruit_character = SOV_semyon_timoshenko
recruit_character = SOV_aleksandr_vasilevsky
recruit_character = SOV_ieronim_uborevich
recruit_character = SOV_mikhail_muravyov
recruit_character = SOV_vasily_chapaev
recruit_character = SOV_august_kork
recruit_character = SOV_oka_gorodovikov
recruit_character = SOV_filipp_mironov
recruit_character = SOV_mikhail_levandovsky
recruit_character = SOV_boris_dumenko
recruit_character = SOV_vitaly_primakov
recruit_character = SOV_robert_eidemann
recruit_character = SOV_vasily_chuykov
recruit_character = SOV_gaya_gai
recruit_character = SOV_ivan_sorokin
recruit_character = SOV_jan_latsis
recruit_character = SOV_ivan_belov
recruit_character = SOV_dmitriy_nadyozhny
recruit_character = SOV_nikolai_semonov
recruit_character = SOV_anatoly_gekker
recruit_character = SOV_pyotr_solodukhin
recruit_character = SOV_pavel_sytin
recruit_character = SOV_amankeldi_imanov
recruit_character = SOV_pyotr_kobozev
recruit_character = SOV_vladimir_olderogge
recruit_character = SOV_dmitry_parsky
recruit_character = SOV_alexander_samoylo
recruit_character = SOV_nikolay_vatutin
recruit_character = SOV_leonid_govorov
recruit_character = SOV_grigory_kulik
recruit_character = SOV_ivan_chernyakhovsky
recruit_character = SOV_issa_pliyev
recruit_character = SOV_andrey_yeryomenko
recruit_character = SOV_georgy_zakharov
recruit_character = SOV_kirill_meretskov
recruit_character = SOV_filipp_golikov
recruit_character = SOV_yakov_cherevichenko
recruit_character = SOV_nikandr_chibisov
recruit_character = SOV_vasily_kuznetsov
recruit_character = SOV_andrey_vlasov
recruit_character = SOV_maksim_purkayev
recruit_character = SOV_nikolay_berzarin
recruit_character = SOV_aleksandr_gorbatov
recruit_character = SOV_kirill_moskalenko
recruit_character = SOV_andrey_grechko
recruit_character = SOV_lev_dovator
recruit_character = SOV_pavel_rybalko
recruit_character = SOV_hamazasp_babadzhanian
recruit_character = SOV_ivan_bagramyan
recruit_character = SOV_afanasy_beloborodov
recruit_character = SOV_vasily_danilovich_sokolovsky
recruit_character = SOV_mikhail_katukov
recruit_character = SOV_pavel_lagutin
recruit_character = SOV_sidor_kovpak
recruit_character = SOV_vasily_korzh
recruit_character = SOV_ivan_bezugly
recruit_character = SOV_aleksei_grechkin
recruit_character = SOV_iosif_apanasenko
recruit_character = SOV_aleksey_zhadov
recruit_character = SOV_alexander_kazankin
recruit_character = SOV_dmitry_karbyshev
recruit_character = SOV_markian_popov
recruit_character = SOV_ivan_boldin
recruit_character = SOV_ivan_tyulenev
recruit_character = SOV_rodion_malinovsky
recruit_character = SOV_fyodor_tolbukhin
recruit_character = SOV_kuzma_galitsky
recruit_character = SOV_lev_mekhlis
recruit_character = SOV_ivan_bogdanov
recruit_character = SOV_maks_reyter
recruit_character = SOV_nikolay_krylov
recruit_character = SOV_Pavel_Batov
recruit_character = SOV_dmitry_lelyushenko
recruit_character = SOV_ivan_fedyuninsky
recruit_character = SOV_andrey_yeryomenko
recruit_character = SOV_ivan_dubovoy
recruit_character = SOV_sergei_shtemenko
recruit_character = SOV_dmitry_pavlov
recruit_character = SOV_nikolay_kashirin
recruit_character = SOV_ilya_garkavyi
recruit_character = SOV_ivan_gryaznov
recruit_character = SOV_dimitry_ustinov




########Navy########

recruit_character = SOV_sergey_gorshkov
recruit_character = SOV_nikolay_kuznetsov
recruit_character = SOV_pavel_dybenko
recruit_character = SOV_arseniy_golovko
recruit_character = SOV_ivan_yumashev
recruit_character = SOV_aleksandr_nemits
recruit_character = SOV_vladimir_orlov
recruit_character = SOV_alexey_schastny
recruit_character = SOV_pyotr_smirnov
recruit_character = SOV_mikhail_frinovsky
recruit_character = SOV_filipp_oktyabrsky
recruit_character = SOV_anatoli_zhelezniakov
recruit_character = SOV_vladimir_kasatonov
recruit_character = SOV_gordey_levchenko
recruit_character = SOV_vladimir_tributs

########Airforce########

recruit_character = SOV_pavel_zhigarev
recruit_character = SOV_konstantin_akashev
recruit_character = SOV_konstantin_vershinin
recruit_character = SOV_alexander_novikov
recruit_character = SOV_yakov_smushkevich
recruit_character = SOV_pavel_rychagov
recruit_character = SOV_sergei_khudyakov
recruit_character = SOV_stepan_krasovsky
recruit_character = SOV_sergei_rudenko
recruit_character = SOV_alexander_golovanov

#######Scientists#########
recruit_character = SOV_igor_kurchatov
recruit_character = SOV_abram_ioffe
recruit_character = SOV_sergey_korolyov
recruit_character = SOV_boris_stechkin
recruit_character = SOV_arkady_nazarov
recruit_character = SOV_vladimir_kotelnikov


set_variable = { SOV_war_communism_production_speed_arms_factory_factor = 0.1 }
set_variable = { SOV_war_communism_stability_factor = -0.05 } #-> Food Rationing
set_variable = { SOV_war_communism_consumer_goods_factor = 0 }
set_variable = { SOV_war_communism_training_time_factor = -0.05}

set_variable = { SOV_war_communism_conscription_factor = 0 }
set_variable = { SOV_war_communism_org_factor = 0 }
set_variable = { SOV_war_communism_army_org_regain = 0 }
set_variable = { SOV_war_communism_resistance_damage_to_garrison_on_our_occupied_state = 0 }


1918.1.1 = {
	if = {
		limit = {
			has_start_date > 1909.01.01
			has_start_date < 1928.01.01
		}
		SOV_mikhail_tukhachevsky = {
			add_corps_commander_role = {
				traits = {
					red_army_trait
					brilliant_strategist
					infantry_officer
				}
				skill = 2
				attack_skill = 2
				defense_skill = 3
				planning_skill = 2
				logistics_skill = 1
				visible = {
					has_government = communism
				}
			}
		}
		SOV_semyon_budyonny = {
			add_corps_commander_role = {
				traits = { old_guard inflexible_strategist cavalry_leader red_army_trait }
				skill = 1
				attack_skill = 1
				defense_skill = 1
				planning_skill = 1
				logistics_skill = 1
				visible = { 
					NOT = { has_character_flag = SOV_exiled_flag } 
					date < 1954.1.1
					NOT = { has_character_flag = SOV_character_purged_flag }
				}
			}
		}
		SOV_alexander_yegorov = {
			add_corps_commander_role = {
				traits = { career_officer trait_reckless red_army_trait }
				skill = 1
				attack_skill = 1
				defense_skill = 1
				planning_skill = 3
				logistics_skill = 1
				visible = { NOT = { has_character_flag = SOV_exiled_flag } }
			}
		}

		SOV_vasily_blucher = {
			add_corps_commander_role = {
				traits = { infantry_officer organizer red_army_trait }
				skill = 1
				attack_skill = 1
				defense_skill = 1
				planning_skill = 2
				logistics_skill = 3
				visible = { 
					NOT = { has_character_flag = SOV_exiled_flag } 
					date > 1933.1.1
					date < 1962.1.1
					NOT = { has_character_flag = SOV_character_purged_flag }
				}
			}
		}
		
		SOV_iona_yakir = {
			add_corps_commander_role = {
				traits = { air_force_ties infantry_officer trickster red_army_trait }
				skill = 2
				attack_skill = 3
				defense_skill = 1
				planning_skill = 1
				logistics_skill = 3
				visible = { 
					date > 1933.1.1
					date < 1964.1.1
					NOT = { has_character_flag = SOV_character_purged_flag }
				}
			}
		}

		SOV_vitaly_primakov = {
			add_corps_commander_role = {
				traits = { cavalry_officer trait_reckless red_army_trait }
				skill = 1
				attack_skill = 2
				defense_skill = 1
				planning_skill = 1
				logistics_skill = 1
				visible = { 
					NOT = { has_character_flag = SOV_exiled_flag } 
					date < 1961.1.1 
					NOT = { has_character_flag = SOV_character_purged_flag }
				}
			}
		}
		
		SOV_august_kork = {
			add_corps_commander_role = {
				traits = { old_guard career_officer organizer red_army_trait }
				skill = 2
				attack_skill = 2
				defense_skill = 1
				planning_skill = 3
				logistics_skill = 2
				visible = { 
					NOT = { has_character_flag = SOV_exiled_flag } 
					date < 1965.1.1 
					NOT = { has_character_flag = SOV_character_purged_flag }
				}
			}
		}

		SOV_ieronim_uborevich = {
			add_corps_commander_role={
				skill=1
				attack_skill=1
				defense_skill=1
				planning_skill=1
				logistics_skill=1
				visible = {
					date < 1968.1.1
					NOT = { has_character_flag = SOV_character_purged_flag }
				}
			}
		}

		SOV_boris_shaposhnikov  = {
			add_corps_commander_role = {
				traits = {
					red_army_trait
					trait_cautious
					career_officer
				}
				skill = 2
				attack_skill = 1
				defense_skill = 2
				planning_skill = 2
				logistics_skill = 2
				visible = {
					date < 1945.3.26
				}
			}
		}
	
		SOV_vladimir_orlov = {
			add_naval_commander_role ={
				traits = { promising red_navy_trait }
				skill=1
				attack_skill=1
				defense_skill=1
				maneuvering_skill=1
				coordination_skill=1
				visible = {
					date < 1957.1.1
					NOT = { has_character_flag = SOV_character_purged_flag }
				}
			}
		}
	}
}


1919.1.1 = {
	oob = "SOV_1919"
	set_naval_oob = "SOV_1919_Naval_Legacy"
	remove_ideas = {
			sov_red_army
	}
	if = {
		limit = {
			has_start_date > 1918.01.01
			has_start_date < 1920.01.01
		}
		create_faction = Comintern
		declare_war_on = {
			target = RUS
			type = civil_war
		}
		add_civil_war_target = RUS
		declare_war_on = {
			target = POL
			type = annex_everything
		}
		declare_war_on = {
			target = UKR #Civil war breaks when anyone peaces out with them
			type = annex_everything
		}
		declare_war_on = {
			target = GEO
			type = civil_war
		}
		add_civil_war_target = GEO
		declare_war_on = {
			target = ARM
			type = civil_war
		}
		add_civil_war_target = ARM
		declare_war_on = {
			target = AZR
			type = civil_war
		}
		add_civil_war_target = AZR
		declare_war_on = {
			target = LIT
			type = annex_everything
		}
		declare_war_on = {
			target = EST
			type = annex_everything
		}
		declare_war_on = {
			target = LAT
			type = annex_everything
		}

		set_country_flag = SOV_dybenko_navy

		remove_ideas = {
			low_economic_mobilisation
			volunteer_only
		}

		add_ideas = {
			partial_economic_mobilisation
			extensive_conscription
		}
	}

	set_country_flag = SOV_moisei_uritsky_assassinated

}

1920.1.1 = {
	set_portraits = {
		character = SOV_joseph_stalin
		army = {
			large = "gfx/leaders/SOV/INT/USSR_Joseph_Stalin_1933.dds"
			small = "gfx/interface/ideas/SOV/idea_SOV_Joseph_Stalin.dds"
		}
		civilian = {
			large = "gfx/leaders/SOV/INT/Stalin_1920.dds"
			small = "gfx/interface/ideas/SOV/idea_SOV_Joseph_Stalin.dds"
		}
	}

}


1930.1.1 = {

	add_ideas = {
		idea_socialism_in_one_country
	}

	set_country_flag = SOV_dybenko_pardoned

	if = { 
		limit = {
			has_start_date > 1930.1.1
			has_start_date < 1945.1.1
		}
		SOV_iona_yakir = {
			add_corps_commander_role = {
				traits = { air_force_ties infantry_officer brilliant_strategist trickster red_army_trait }
				skill = 4
				attack_skill = 4
				defense_skill = 3
				planning_skill = 2
				logistics_skill = 4
				visible = { 
					date < 1964.1.1
					NOT = { has_character_flag = SOV_character_purged_flag }
				}
			}	
		}

		SOV_august_kork = {
			add_corps_commander_role = {
				traits = { old_guard career_officer organizer red_army_trait }
				skill = 4
				attack_skill = 4
				defense_skill = 2
				planning_skill = 4
				logistics_skill = 3
				visible = {
					NOT = { has_character_flag = SOV_exiled_flag }
					date < 1965.1.1 
					NOT = { has_character_flag = SOV_character_purged_flag }
				}
			}
		}
		SOV_vitaly_primakov = {
			add_corps_commander_role = {
				traits = { cavalry_officer trait_reckless war_hero cavalry_leader red_army_trait }
				skill = 3
				attack_skill = 3
				defense_skill = 2
				planning_skill = 2
				logistics_skill = 3
				visible = { 
					NOT = { has_character_flag = SOV_exiled_flag } 
					date < 1961.1.1  
					NOT = { has_character_flag = SOV_character_purged_flag }
				}
			}
		}	
		
		# # SOV_ieronim_uborevich = {
# # 			add_corps_commander_role={
# # 				traits={ trait_cautious winter_specialist red_army_trait }
#				skill=3
#				attack_skill=4
#				defense_skill=3
#				planning_skill=2
#				logistics_skill=2
#				visible = {
#					date < 1968.1.1
#					NOT = { has_character_flag = SOV_character_purged_flag }
#				}
#			}
#		}

		SOV_boris_shaposhnikov  = {
			add_corps_commander_role = {
				traits = { career_officer trait_cautious red_army_trait }
				skill = 3
				attack_skill = 2
				defense_skill = 3
				planning_skill = 2
				logistics_skill = 3
				legacy_id = 1408
				visible = { 
					date < 1945.3.26
					NOT = { has_character_flag = SOV_exiled_flag } 
					NOT = { has_character_flag = SOV_character_purged_flag }
				}

			}
		}	

		SOV_vladimir_orlov = {
			add_naval_commander_role ={
				traits = { blue_water_expert spotter red_navy_trait }
				skill= 3
				attack_skill= 2
				defense_skill= 3
				maneuvering_skill= 3
				coordination_skill= 3
				visible = {
					date < 1957.1.1
					NOT = { has_character_flag = SOV_character_purged_flag }
				}
			}
		}
	}

	set_portraits = {
		character = SOV_mikhail_tukhachevsky
		army = {
			large = "gfx/leaders/SOV/INT/Portrait_sov_Mikhail_Tukhachevsky.dds"
			small = "gfx/interface/ideas/SOV/idea_SOV_mikhail_tukhachevsky.dds"
		}
		civilian = {
			small = "gfx/interface/ideas/SOV/idea_SOV_mikhail_tukhachevsky.dds"
		}
	}

	set_portraits = {
		character = SOV_vasily_blucher
		army = {
			large = "gfx/leaders/SOV/INT/portrait_SOV_Vasily_Blyukher.dds"
			small = "gfx/interface/ideas/SOV/idea_sov_blyukher.dds"
		}
		civilian = {
			small = "gfx/interface/ideas/SOV/idea_sov_blyukher.dds"
		}
	}

	set_portraits = {
		character = SOV_alexander_yegorov
		army = {
			large = "gfx/leaders/SOV/portrait_SOV_aleksandr_yegorov.dds"
			small = "gfx/interface/ideas/SOV/idea_aleksandr_yegorov.dds"
		}
		civilian = {
			small = "gfx/interface/ideas/SOV/idea_aleksandr_yegorov.dds"
		}
	}

	set_portraits = {
		character = SOV_kliment_voroshilov
		army = {
			large = "gfx/leaders/SOV/Portrait_Soviet_Kliment_Voroshilov.dds"
			small = "gfx/interface/ideas/SOV/idea_SOV_Kliment_Voroshilov.dds"
		}
		civilian = {
			small = "gfx/interface/ideas/SOV/idea_SOV_Kliment_Voroshilov.dds"
		}
	}	

	set_portraits = {
		character = SOV_semyon_budyonny
		army = {
			large = "gfx/leaders/SOV/INT/Portrait_Soviet_Semyon_Budyonny.dds"
			small = "gfx/interface/ideas/SOV/idea_SOV_Semyon_Budyonny.dds"
		}
		civilian = {
			small = "gfx/interface/ideas/SOV/idea_SOV_Semyon_Budyonny.dds"
		}
	}	
	
	set_portraits = {
		character = SOV_semyon_timoshenko
		army = {
			large = "gfx/leaders/SOV/portrait_sov_semyon_timoshenko.dds"
			small = "gfx/interface/ideas/SOV/idea_SOV_semyon_timoshenko.dds"
		}
		civilian = {
			small = "gfx/interface/ideas/SOV/idea_SOV_semyon_timoshenko.dds"
		}
	}

	set_portraits = {
		character = SOV_pavel_dybenko
		army = {
			large = "gfx/leaders/SOV/portrait_sov_pavel_dybenko.dds"
			small = "gfx/interface/ideas/SOV/idea_sov_pavel_dybenko_ww2.dds"
		}
	}

	set_portraits = {
		character = SOV_iona_yakir
		army = {
			large = "gfx/leaders/SOV/portrait_SOV_iona_yakir.dds"
		}
	}		

	retire_character = SOV_vasily_chapaev
	retire_character = SOV_amankeldi_imanov
	retire_character = SOV_pyotr_kobozev
	retire_character = SOV_nikolai_semonov
	retire_character = SOV_pyotr_solodukhin
	retire_character = SOV_dmitry_parsky
	retire_character = SOV_alexander_samoylo
	retire_character = SOV_anatoli_zhelezniakov

	SOV_ivan_sorokin = {
		set_character_flag = SOV_character_purged_flag
	}
	SOV_filipp_mironov = {
		set_character_flag = SOV_character_purged_flag
	}
	SOV_mikhail_muravyov = {
		set_character_flag = SOV_character_purged_flag
	}
	SOV_boris_dumenko = {
		set_character_flag = SOV_character_purged_flag
	}

}

1933.1.1 = {
	set_country_flag = SOV_nkvd
	if = {
		limit = {
			has_dlc = "By Blood Alone"
		}
		create_equipment_variant = { #Note: There is a copy of this variant in Finnish Scripted Effects file (FIN_purchase_soviet_equipment_for_cw). Any changes here should also be applied there
			name = "I-15" #
			type = small_plane_airframe_7
			modules = {
				fixed_main_weapon_slot = light_mg_4x
				engine_type_slot = engine_1_1x
				#special_type_slot_1 = empty
			}
			obsolete = yes
		}
		create_equipment_variant = {
			name = "I-16" #
			type = small_plane_airframe_8
			modules = {
				fixed_main_weapon_slot = light_mg_2x
				engine_type_slot = engine_1_1x
				#special_type_slot_1 = empty
			}
			icon = "GFX_SOV_fighter1_medium"
		}
		create_equipment_variant = {
			name = "DB-3" #
			type = medium_plane_airframe_1
			design_team = mio:SOV_ilyushin_design_bureau_organization
			modules = {
				fixed_main_weapon_slot = medium_bomb_bay
				fixed_auxiliary_weapon_slot_1 = bomb_locks
				engine_type_slot = engine_2_2x
				special_type_slot_1 = lmg_defense_turret
			}
			icon = "GFX_SOV_early_bomber_medium"
		}
		create_equipment_variant = {
			name = "TB-3" #
			type = large_plane_airframe_0
			modules = {
				fixed_main_weapon_slot = large_bomb_bay
				fixed_auxiliary_weapon_slot_1 = empty
				engine_type_slot = engine_1_4x
				special_type_slot_1 = lmg_defense_turret_2x
			}
			icon = "GFX_SOV_transport_plane_equipment_1_medium"
		}
		create_equipment_variant = {
			name = "ANT-40" #
			type = medium_plane_airframe_1
			modules = {
				fixed_main_weapon_slot = medium_bomb_bay
				fixed_auxiliary_weapon_slot_1 = bomb_locks
				engine_type_slot = engine_2_2x
				special_type_slot_1 = lmg_defense_turret_2x
			}
			icon = "GFX_SOV_tactical_bomber1_medium"
		}
	}
	set_air_oob = "SOV_1936_air_bba"
	oob = "SOV_1933"
	set_naval_oob = "SOV_1933_naval_legacy"

	add_ideas = {
		NKVD_Agency2
		proliferation_of_disease
	}

	remove_ideas = {
		sov_red_army
		sov_chad_masculinity
		sov_soviet_engineering
	}

	retire_character = SOV_vladimir_lenin
	retire_character = SOV_viktor_nogin
	retire_character = SOV_leonid_krasin
	retire_character = SOV_felix_dzerzhinsky
	retire_character = SOV_yakov_sverdlov
	retire_character = SOV_konstantin_eremeev
	retire_character = SOV_alexander_bogdanov
	retire_character = SOV_efraim_sklyanskiy
	retire_character = SOV_mikhail_frunze
	retire_character = SOV_jan_latsis
	retire_character = SOV_anatoly_lunacharsky

	set_country_flag = SOV_mayakovsky_suicide


	SOV_konstantin_akashev = {
		set_character_flag = SOV_character_purged_flag
	}
	SOV_Lev_Trotsky = {
		set_character_flag = SOV_exiled_flag
	}
	SOV_maria_spiridonova = {
		set_character_flag = SOV_imprisoned_flag
	}
	SOV_martemyan_ryutin = {
		set_character_flag = SOV_imprisoned_flag
	}
	SOV_alexandra_kollontai = {
		set_character_flag = SOV_character_demoted_flag
	}
	SOV_vladimir_antonov_ovseenko = {
		set_character_flag = SOV_character_demoted_flag
	}
	SOV_alexander_krasnoshchyokov = {
		set_character_flag = SOV_character_demoted_flag
	}
	SOV_jukums_vacietis = {
		set_character_flag = SOV_character_demoted_flag
	}
	SOV_jozef_unszlicht = {
		set_character_flag = SOV_character_demoted_flag
	}
	SOV_nikolay_rattel = {
		set_character_flag = SOV_character_demoted_flag
	}
	SOV_aleksandr_svechin = {
		set_character_flag = SOV_character_demoted_flag
	}
	SOV_dmitriy_nadyozhny = {
		set_character_flag = SOV_character_demoted_flag
	}
	SOV_grigory_zinovyev = {
		set_character_flag = SOV_character_demoted_flag
	}
	SOV_nikolay_bukharin = {
		set_character_flag = SOV_character_demoted_flag
	}
	SOV_lev_kamenev = {
		set_character_flag = SOV_character_demoted_flag
	}
	SOV_yevgeny_preobrazhensky = {
		set_character_flag = SOV_character_demoted_flag
	}
	SOV_grigory_sokolnikov = {
		set_character_flag = SOV_character_demoted_flag
	}
	SOV_aleksandr_shlyapnikov = {
		set_character_flag = SOV_character_demoted_flag
	}
	SOV_karl_radek = {
		set_character_flag = SOV_character_demoted_flag
	}
	SOV_ivar_smilga = {
		set_character_flag = SOV_character_demoted_flag
	}
	SOV_osip_piatnitsky = {
		set_character_flag = SOV_character_demoted_flag
	}
	SOV_leonid_serebryakov = {
		set_character_flag = SOV_character_demoted_flag
	}
	SOV_christian_rakovsky = {
		set_character_flag = SOV_character_demoted_flag
	}
	SOV_georgy_oppokov = {
		set_character_flag = SOV_character_demoted_flag
	}
	SOV_nikolai_krylenko = {
		set_character_flag = SOV_character_demoted_flag
	}
	SOV_georgiy_chicherin = {
		set_character_flag = SOV_character_demoted_flag
	}
	SOV_jukums_vacietis = {
		set_character_flag = SOV_character_demoted_flag
	}
	SOV_nikolai_podvoisky = {
		set_character_flag = SOV_character_demoted_flag
	}

	set_party_name = {
		ideology = communism
		long_name = SOV_communist_party_WW2_long
		name = SOV_communist_party_WW2
	}
	
	if = {
		limit = {
			has_start_date > 1932.01.01
			has_start_date < 1946.01.01
		}
		create_faction = Comintern
		add_to_faction = SOV
		add_to_faction = MON
		add_to_faction = TAN
		add_opinion_modifier = {
			modifier = RI_super_hostile_foreign_policy
			target = GER
		}
	}

	if = {
		limit = {
			has_start_date > 1930.01.01
			has_start_date < 1934.01.01
		}

		SOV_Maxim_Gorky = {
			set_character_flag = SOV_exiled_flag
		}

		SOV_mikhail_tukhachevsky = {
			add_corps_commander_role = {
				traits = {
					red_army_trait
					offensive_doctrine
					brilliant_strategist
					career_officer
					infantry_officer
				trait_reckless
				}
				skill = 4
				attack_skill = 3
				defense_skill = 4
				planning_skill = 4
				logistics_skill = 2
				visible = {
					date > 1933.1.1
					date < 1970.1.1
					NOT = { has_character_flag = SOV_character_purged_flag }
				}
			}
		}
		SOV_semyon_budyonny = {
			add_corps_commander_role = {
				traits = { old_guard inflexible_strategist cavalry_leader red_army_trait }
				skill = 1
				attack_skill = 1
				defense_skill = 1
				planning_skill = 1
				logistics_skill = 1
				visible = { 
					NOT = { has_character_flag = SOV_exiled_flag }
					NOT = { has_character_flag = SOV_character_purged_flag } 
					date < 1954.1.1
				}
			}
		}
		SOV_alexander_yegorov = {
			add_corps_commander_role = {
				traits = { career_officer inflexible_strategist trait_reckless }
				skill = 3
				attack_skill = 2
				defense_skill = 2
				planning_skill = 4
				logistics_skill = 2
				visible = { NOT = { has_character_flag = SOV_exiled_flag } }
			}
		}

		SOV_vasily_blucher = {
			add_corps_commander_role = {
				traits = { old_guard career_officer infantry_officer organizer }
				skill = 3
				attack_skill = 2
				defense_skill = 1
				planning_skill = 3
				logistics_skill = 4
				visible = { 
					NOT = { has_character_flag = SOV_exiled_flag } 
					date > 1933.1.1
					date < 1962.1.1
					NOT = { has_character_flag = SOV_character_purged_flag }
				}
			}
		}
	}
	
	set_politics = {
		ruling_party = communism
		last_election = "1922.4.3"
		election_frequency = 48
		elections_allowed = no
	}

	set_popularities = {
		democratic = 10
		fascism = 2
		communism = 88
	}

	set_portraits = {
		character = SOV_Lev_Trotsky

		civilian = {
			large = "gfx/leaders/SOV/INT/Portrait_Leon_Trotsky.dds"
		}
	}

	set_portraits = {
		character = SOV_boris_shaposhnikov
		
		army = {
			large = "gfx/leaders/SOV/portrait_SOV_Boris_Shaposhnikov.dds"
		}
		civilian = {
			large = "gfx/leaders/SOV/portrait_SOV_Boris_Shaposhnikov.dds"
		}
	}

	set_portraits = {
		character = SOV_august_kork
		
		army = {
			large = "gfx/leaders/SOV/portrait_SOV_august_kork.dds"
		}
		civilian = {
			large = "gfx/leaders/SOV/portrait_SOV_august_kork.dds"
		}
	}

	set_portraits = {
		character = SOV_joseph_stalin
		civilian = {
			large = "gfx/leaders/SOV/INT/USSR_Joseph_Stalin_1933.dds"
		}
	}	
	
	set_portraits = {
		character = SOV_semyon_budyonny
		army = {
			large = "gfx/leaders/SOV/portrait_SOV_semyon_budyonny.dds"
		}
	}

}

### END OF WW1 Start Date
1936.1.1 = {
	set_air_oob = "SOV_1936_air_bba"

	retire_character = SOV_gaya_gai
	retire_character = SOV_pavel_sytin
	retire_character = SOV_sergey_kirov

	SOV_aleksandr_nemits = {
		set_character_flag = SOV_character_demoted_flag
	}
	SOV_sergey_kamenev = {
		set_character_flag = SOV_character_demoted_flag
	}

	SOV_vasily_blucher = {
		add_field_marshal_role = {
			traits = { old_guard career_officer infantry_officer organizer }
			skill = 3
			attack_skill = 2
			defense_skill = 1
			planning_skill = 3
			logistics_skill = 4
			visible = { 
				NOT = { has_character_flag = SOV_exiled_flag } 
				date > 1933.1.1
				date < 1962.1.1
				NOT = { has_character_flag = SOV_character_purged_flag }
			}
		}
	}
	
	SOV_mikhail_tukhachevsky = {
		add_field_marshal_role = {
			traits = {
				red_army_trait
				offensive_doctrine
				brilliant_strategist
				career_officer
				infantry_officer
				trait_reckless
			}
			skill = 4
			attack_skill = 3
			defense_skill = 4
			planning_skill = 4
			logistics_skill = 2
			visible = {
				date > 1933.1.1
				date < 1970.1.1
				NOT = { has_character_flag = SOV_character_purged_flag }
			}
		}
	}
	SOV_semyon_budyonny = {
		add_field_marshal_role = {
			traits = { old_guard inflexible_strategist cavalry_leader red_army_trait }
			skill = 1
			attack_skill = 1
			defense_skill = 1
			planning_skill = 1
			logistics_skill = 1
			visible = { 
				NOT = { has_character_flag = SOV_exiled_flag } 
				NOT = { has_character_flag = SOV_character_purged_flag }
				date < 1954.1.1
			}
		}
	}
	SOV_alexander_yegorov = {
		add_field_marshal_role = {
			traits = { career_officer inflexible_strategist trait_reckless }
			skill = 3
			attack_skill = 2
			defense_skill = 2
			planning_skill = 4
			logistics_skill = 2
			visible = { NOT = { has_character_flag = SOV_exiled_flag } }
		}
	}

	set_portraits = {
		character = SOV_boris_feldman
		
		army = {
			large = "gfx/leaders/SOV/portrait_SOV_boris_feldman.dds"
		}
		civilian = {
			large = "gfx/leaders/SOV/portrait_SOV_boris_feldman.dds"
		}
	}

	set_portraits = {
		character = SOV_ieronim_uborevich
		
		army = {
			large = "gfx/leaders/SOV/INT/portrait_sov_ieronim_uborevich.dds"
			small = "gfx/interface/ideas/SOV/idea_sov_leronim_uborevich.dds"
		}
	}

	if = {
		limit = {
			has_start_date > 1935.01.01
			has_start_date < 1937.01.01
		}
		GER = { add_timed_idea = { idea = Anti_Soviet_Interest days = 1295 } }
		ENG = { add_timed_idea = { idea = Anti_Soviet_Interest days = 1295 } }
		FRA = { add_timed_idea = { idea = Anti_Soviet_Interest days = 1295 } }
		ITA = { add_timed_idea = { idea = Anti_Soviet_Interest days = 1295 } }
		CZE = { add_timed_idea = { idea = Anti_Soviet_Interest days = 995 } }
		HUN = { add_timed_idea = { idea = Anti_Soviet_Interest days = 1295 } }
		POL = { add_timed_idea = { idea = Anti_Soviet_Interest days = 995 } }
		ROM = { add_timed_idea = { idea = Anti_Soviet_Interest days = 1295 } }
	}


	# Starting tech
	set_technology = {
		infantry_weapons = 1
		infantry_weapons1 = 1
		tech_recon = 1
		tech_support = 1
		tech_engineers = 1
		tech_military_police = 1
		tech_mountaineers = 1
		motorised_infantry = 1
		paratroopers = 1
		gw_artillery = 1
		interwar_antiair = 1
		basic_light_tank = 1        # PLACEHOLDER
		#basic_heavy_tank = 1  # PLACEHOLDER
		#basic_medium_tank = 1 # PLACEHOLDER
		mass_assault = 1
		fleet_in_being = 1
		fuel_silos = 1
		fuel_refining = 1
		early_submarine = 1
		basic_submarine = 1
		early_destroyer = 1
		early_light_cruiser = 1
		early_heavy_cruiser = 1
		early_battleship = 1
		early_battlecruiser = 1
		transport = 1
	}
	if = {
		limit = {
			has_dlc = "No Step Back"
		}
		set_technology = {
			motorised_infantry = 1
			tank_support_eq = 1
			tank_support_eq_1 = 1
			gwtank_chassis = 1
			gwtank_chassis_2 = 1
			gwtank_chassis_heavy = 1
			gwtank_chassis_heavy_2 = 1
			tank_armor_1a = 1
			tank_armor_1b = 1
			tank_armor_2a = 1
			NSB_early_tank_engine = 1
			engine_tech_1 = 1
			engine_tech_2 = 1
			engine_tech_3 = 1
			NSB_early_tank_gun = 1
			tank_gun_1 = 1
			tank_gun_2 = 1
			basic_light_tank_chassis = 1
			#basic_medium_tank_chassis = 1
			#basic_heavy_tank_chassis = 1
		}
	}
	if = {
		limit = {
			has_dlc = "No Step Back"
		}
		create_equipment_variant = {
			name = "T-27"
			type = gw_light_tank_chassis_1
			parent_version = 0
			modules = {
				main_armament_slot = tank_heavy_machine_gun
				turret_type_slot = tank_light_fixed_superstructure_turret
				suspension_type_slot = tank_bogie_suspension
				armor_type_slot = tank_riveted_armor
				engine_type_slot = tank_gasoline_engine
			}
			#upgrades = {
			#	tank_nsb_engine_upgrade = 1
			#	tank_nsb_armor_upgrade = 1
			#}
			obsolete = yes
			icon = "GFX_gwtank_medium"
		}

		create_equipment_variant = {
			name = "T-26TU mod. 1933"
			type = light_tank_chassis_1
			parent_version = 0
			modules = {
				main_armament_slot = tank_small_cannon_2
				turret_type_slot = tank_light_two_man_tank_turret
				suspension_type_slot = tank_bogie_suspension
				armor_type_slot = tank_riveted_armor
				engine_type_slot = tank_gasoline_engine
				special_type_slot_1 = tank_radio_1
			}
			#upgrades = {
			#	tank_nsb_engine_upgrade = 2
			#	tank_nsb_armor_upgrade = 2
			#}
			icon = "GFX_SOV_basic_light_tank_medium"
		}
		create_equipment_variant = {
			name = "BT-5"
			type = light_tank_chassis_1
			parent_version = 1
			modules = {
				main_armament_slot = tank_small_cannon_2
				turret_type_slot = tank_light_one_man_tank_turret
				suspension_type_slot = tank_christie_suspension
				armor_type_slot = tank_riveted_armor
				engine_type_slot = tank_gasoline_engine
			}
			#upgrades = {
			#	tank_nsb_engine_upgrade = 8
			#	tank_nsb_armor_upgrade = 1
			#}
			icon = "GFX_SOV_improved_light_tank_medium"
		}
		create_equipment_variant = {
			name = "BT-7"
			type = light_tank_chassis_2
			parent_version = 0
			modules = {
				main_armament_slot = tank_small_cannon_2
				turret_type_slot = tank_light_two_man_tank_turret
				suspension_type_slot = tank_christie_suspension
				armor_type_slot = tank_welded_armor
				engine_type_slot = tank_gasoline_engine
			}
			#upgrades = {
			#	tank_nsb_engine_upgrade = 10
			#	tank_nsb_armor_upgrade = 2
			#}
			icon = "GFX_SOV_improved_light_tank_medium"
		}

		create_equipment_variant = {
		name = "T-28"
			type = medium_tank_chassis_0
			parent_version = 0
			modules = {
				main_armament_slot = tank_close_support_gun
				turret_type_slot = tank_medium_three_man_tank_turret
				suspension_type_slot = tank_bogie_suspension
				armor_type_slot = tank_riveted_armor
				engine_type_slot = tank_gasoline_engine
				special_type_slot_1 = tank_radio_1
				special_type_slot_2 = secondary_turret_hmg
				special_type_slot_3 = secondary_turret_hmg
			}
			#upgrades = {
			#	tank_nsb_armor_upgrade = 3
			#	tank_nsb_engine_upgrade = 10
			#}
			icon = "GFX_SOV_basic_heavy_tank_medium"
		}
		create_equipment_variant = {
			name = "T-35"
			type = gw_heavy_tank_chassis_1
			parent_version = 0
			modules = {
				main_armament_slot = tank_close_support_gun
				turret_type_slot = tank_medium_three_man_tank_turret
				suspension_type_slot = tank_bogie_suspension
				armor_type_slot = tank_riveted_armor
				engine_type_slot = tank_gasoline_engine
				special_type_slot_1 = tank_radio_1
				special_type_slot_2 = secondary_turret_hmg
				special_type_slot_3 = secondary_turret_hmg
				special_type_slot_4 = secondary_turret_small_cannon
			}
			#upgrades = {
			#	tank_nsb_armor_upgrade = 3
			#	tank_nsb_engine_upgrade = 10
			#}
			icon = "GFX_SOV_basic_heavy_tank_medium"
		}
	}
	oob = "SOV_1936"
	set_naval_oob = "SOV_1936_naval_legacy"
	set_politics = {
		ruling_party = communism
		last_election = "1933.7.1"
		election_frequency = 48
		elections_allowed = no
	}
	set_popularities = {
		democratic = 10
		fascism = 2
		communism = 88
	}

	### VARIANTS ###
	# 1936 Start #
	### Ship Variants ###
	create_equipment_variant = {
		name = "Series I Debakrist"
		type = submarine_1
		upgrades = {
			ship_reliability_upgrade = 1
			sub_engine_upgrade = 1
			sub_stealth_upgrade = 1
			sub_torpedo_upgrade = 1
		}
		obsolete = yes
	}
	create_equipment_variant = {
		name = "Series IX Srednyaya"
		type = submarine_2
		upgrades = {
			ship_reliability_upgrade = 1
			sub_engine_upgrade = 1
			sub_stealth_upgrade = 1
			sub_torpedo_upgrade = 1
		}
	}
	create_equipment_variant = {
		name = "Leningrad & Minsk Class"
		type = destroyer_1
		upgrades = {
			ship_torpedo_upgrade = 3
			destroyer_engine_upgrade = 3
			ship_ASW_upgrade = 3
			ship_anti_air_upgrade = 3
		}
	}
	set_portraits = {
		character = SOV_vasily_chuykov
		
		army = {
			large = "gfx/leaders/SOV/Portrait_Soviet_Vasily_Chuikov.dds"
		}
		civilian = {
			large = "gfx/leaders/SOV/Portrait_Soviet_Vasily_Chuikov.dds"
		}
	}	
	
}

1939.1.1 = {

	remove_ideas = {
		proliferation_of_disease
	}

	oob = "SOV_1939"
	set_naval_oob = "SOV_1939_naval_legacy"

	#### 1939-1945 Stuff
	if = {
		limit = {
			has_start_date > 1939.01.01
			has_start_date < 1946.01.01
		}
		add_ideas = {
			war_economy
			extensive_conscription
		}
	}

	### SPECIFIC 1939 STUFF
	if = {
		limit = {
			has_start_date > 1939.01.01
			has_start_date < 1940.01.01
		}
		add_timed_idea = {
			idea = officers_purged_6
			days = 730
		}
	}

	remove_ideas = trotskyite_plot
	add_ideas = trotskyite_plot_purged
	set_stability = 0.75
	set_country_flag = purged_party_members
	set_country_flag = purge_1_group_a
	remove_ideas = mikhail_tukhachevsky
	remove_unit_leader = 401
	remove_ideas = alexander_yegorov
	remove_ideas = vasily_blucher
	remove_ideas = pyotr_smirnov
	remove_ideas = mikhail_frinovsky
	set_country_flag = purge_2_group_a
	remove_ideas = SOV_nikolai_yezhov
	remove_ideas = yakov_smushkevich
	remove_ideas = pavel_rychagov
	remove_ideas = gordey_levchenko
	remove_unit_leader = 406
	remove_ideas = alexander_novikov
	set_global_flag = SOV_fourth_international_fired    #news happened 1938
	#purge stuff end

	retire_character = SOV_mikhail_levandovsky
	retire_character = SOV_Maxim_Gorky
	retire_character = SOV_vitaly_primakov
	retire_character = SOV_mikhail_tukhachevsky
	retire_character = SOV_vasily_blucher
	retire_character = SOV_alexander_yegorov
	retire_character = SOV_ieronim_uborevich
	retire_character = SOV_august_kork 
	retire_character = SOV_iona_yakir

	SOV_mikhail_tomsky = {
		set_character_flag = SOV_character_purged_flag
	}
	SOV_aleksey_rykov = {
		set_character_flag = SOV_character_purged_flag
	}
	SOV_evgeny_pachukanis = {
		set_character_flag = SOV_character_purged_flag
	}
	SOV_boris_shumyatsky = {
		set_character_flag = SOV_character_purged_flag
	}
	SOV_valerian_obolensky_osinsky = {
		set_character_flag = SOV_character_purged_flag
	}
	SOV_sergo_ordzhonikidze = {
		set_character_flag = SOV_character_purged_flag
	}
	SOV_andrei_bubnov = {
		set_character_flag = SOV_character_purged_flag
	}
	SOV_genrikh_yagoda = {
		set_character_flag = SOV_character_purged_flag
	}
	SOV_mikhail_tukhachevsky = {
		set_character_flag = SOV_character_purged_flag
	}
	SOV_vasily_blucher = {
		set_character_flag = SOV_character_purged_flag
	}
	SOV_boris_feldman = {
		set_character_flag = SOV_character_purged_flag
	}
	SOV_robert_eidemann = {
		set_character_flag = SOV_character_purged_flag
	}
	SOV_ivan_dubovoy = {
		set_character_flag = SOV_character_purged_flag
	}
	SOV_nikolay_kashirin = {
		set_character_flag = SOV_character_purged_flag
	}
	SOV_vladimir_orlov = {
		set_character_flag = SOV_character_purged_flag
	}
	SOV_alexander_yegorov = {
		set_character_flag = SOV_character_purged_flag
	}
	SOV_ivan_belov = {
		set_character_flag = SOV_character_purged_flag
	}
	SOV_anatoly_gekker = {
		set_character_flag = SOV_character_purged_flag
	}
	SOV_ivan_gryaznov = {
		set_character_flag = SOV_character_purged_flag
	}
	SOV_ilya_garkavyi = {
		set_character_flag = SOV_character_purged_flag
	}
	SOV_vitaly_primakov = {
		set_character_flag = SOV_character_purged_flag
	}
	SOV_august_kork = {
		set_character_flag = SOV_character_purged_flag
	}
	SOV_iona_yakir = {
		set_character_flag = SOV_character_purged_flag
	}
	SOV_pyotr_smirnov = {
		set_character_flag = SOV_character_purged_flag
	}
	SOV_arkady_rosengolts = {
		set_character_flag = SOV_character_purged_flag
	}
	SOV_ieronim_uborevich = {
		set_character_flag = SOV_character_purged_flag
	}
	SOV_pavel_dybenko = {
		set_character_flag = SOV_character_purged_flag
	}


	if = {
		limit = {
			has_start_date > 1938.01.01
			has_start_date < 1940.01.01
		}
		#MR pact stuff
		add_opinion_modifier = { target = GER modifier = MR_pact }# pact
		set_global_flag = sov_yes_pact
		add_state_claim = 96
		add_state_claim = 11
		add_state_claim = 12
		add_state_claim = 13
		add_state_claim = 190
		add_state_claim = 191
		add_state_claim = 146
		add_state_claim = 147
		add_state_claim = 722
		add_state_claim = 189
		add_state_claim = 78
		add_state_claim = 89
		add_state_claim = 91
		add_state_claim = 93
		add_state_claim = 94
		add_state_claim = 95
		add_state_claim = 96
		add_state_claim = 97
		#MR pact stuff end
		#Germany soviet treaty
		GER = {
			add_opinion_modifier = {
				target = SOV
				modifier = sov_ger_treaty
			}
			add_opinion_modifier = {
				target = SOV
				modifier = sov_ger_treaty_trade
			}
		}
		if = {
			limit = {
				NOT = {
					has_dlc = "No Step Back"
				}
			}
			add_tech_bonus = {
				name = med_armor_bonus
				ahead_reduction = 2
				technology = basic_medium_tank
			}
		}
		if = {
			limit = {
				has_dlc = "No Step Back"
			}
			add_tech_bonus = {
				name = med_armor_bonus
				ahead_reduction = 2
				technology = basic_medium_tank_chassis
			}
		}
		add_tech_bonus = {
			name = armor_bonus
			bonus = 1.0
			uses = 2
			category = armor
		}
		#Germany soviet treaty end
	}

	set_portraits = {
		character = SOV_joseph_stalin
		civilian = {
			large = "gfx/leaders/SOV/Portrait_Soviet_Joseph_Stalin.dds"
		}
	}	
}

1940.1.1 = {
	oob = "SOV_1940"
	set_naval_oob = "SOV_1940_naval_legacy"

	add_ideas = {
		home_of_revolution2
	}
}

1941.1.1 = {
	oob = "SOV_1941"
	set_naval_oob = ""

	SOV_mikhail_trilisser =  {
		set_character_flag = SOV_character_purged_flag
	}
	SOV_nikolai_yezhov = {
		set_character_flag = SOV_character_purged_flag
	}
	SOV_mikhail_frinovsky = {
		set_character_flag = SOV_character_purged_flag
	}
	SOV_maksim_litvinov = {
		set_character_flag = SOV_character_demoted_flag
	}

	set_global_flag = trotsky_dead

	add_ideas = {
		service_by_requirement
		war_economy
		limited_exports
		age_18
		age_40
	}		

}

1942.1.1 = {
	oob = "SOV_1942"

	retire_character = SOV_lev_dovator

	SOV_ivan_proskurov = {
		set_character_flag = SOV_character_purged_flag
	}
	SOV_dmitry_pavlov = {
		set_character_flag = SOV_character_purged_flag
	}
	SOV_maria_spiridonova = {
		set_character_flag = SOV_character_purged_flag
	}
	SOV_pavel_rychagov = {
		set_character_flag = SOV_character_purged_flag
	}
	SOV_yakov_smushkevich = {
		set_character_flag = SOV_character_purged_flag
	}

	set_technology = {
		atomic_research = 1
	}

}

1943.1.1 = {
	oob = "SOV_1943"
}

1944.1.1 = {
	oob = "SOV_1944"
}

1945.1.1 = {
	oob = "SOV_1945"

	retire_character = SOV_patriarch_sergy

	if = {
		limit = {
			has_start_date > 1945.01.01
			has_start_date < 1946.01.01
		}
		set_autonomy = {
			target = BUL
			autonomous_state = autonomy_puppet
		}
		set_autonomy = {
			target = ROM
			autonomous_state = autonomy_puppet
		}
		set_autonomy = {
			target = ALB
			autonomous_state = autonomy_puppet
		}
		set_autonomy = {
			target = YUG
			autonomous_state = autonomy_puppet
		}
		add_to_faction = BUL
		add_to_faction = ROM
		add_to_faction = ALB
		add_to_faction = YUG

	}

	set_portraits = {
		character = SOV_joseph_stalin
		civilian = {
			large = "gfx/leaders/SOV/Portrait_Soviet_Joseph_Stalin_ww2.dds"
		}
		army = {
			large = "gfx/leaders/SOV/Portrait_Soviet_Joseph_Stalin_ww2.dds"
		}
	}	

	set_portraits = {
		character = SOV_Lev_Trotsky

		civilian = {
			large = "gfx/leaders/SOV/Portrait_Leon_Trotsky.dds"
		}
		army = {
			large = "gfx/leaders/SOV/INT/Portrait_Lev_Trotsky_military.dds"
		}
	}
	
	set_portraits = {
		character = SOV_Georgy_Zhukov

		civilian = {
			large = "gfx/leaders/SOV/CW/CW_SOV_georgy_zhukov.dds"
			small = "gfx/interface/ideas/SOV/idea_SOV_gregory_zhukov.dds"
		}
		army = {
			large = "gfx/leaders/SOV/CW/CW_SOV_georgy_zhukov.dds"
			small = "gfx/interface/ideas/SOV/idea_SOV_gregory_zhukov.dds"
		}
	}

	set_portraits = {
		character = SOV_ivan_konev

		civilian = {
			large = "gfx/leaders/SOV/CW/CW_SOV_Ivan_Konev.dds"
			small = "gfx/interface/ideas/SOV/idea_SOV_ivan_konev.dds"
		}
		army = {
			large = "gfx/leaders/SOV/CW/CW_SOV_Ivan_Konev.dds"
			small = "gfx/interface/ideas/SOV/idea_SOV_ivan_konev.dds"
		}
	}

	set_portraits = {
		character = SOV_semyon_budyonny

		civilian = {
			large = "gfx/leaders/SOV/CW/CW_SOV_semyon_budyonny.dds"
			small = "gfx/interface/ideas/SOV/idea_SOV_Semyon_Budyonny.dds"
		}
		army = {
			large = "gfx/leaders/SOV/CW/CW_SOV_semyon_budyonny.dds"
			small = "gfx/interface/ideas/SOV/idea_SOV_Semyon_Budyonny_cw.dds"
		}
	}

	set_portraits = {
		character = SOV_filipp_golikov
		army = {
			large = "gfx/leaders/SOV/CW/CW_SOV_Filipp_Golikov.dds"
		}
	}

	set_portraits = {
		character = SOV_alexander_gorbatov
		army = {
			large = "gfx/leaders/SOV/CW/Portrait_Soviet_Alexander_Gorbatov.dds"
		}
	}

	set_portraits = {
		character = SOV_aleksey_zhadov
		army = {
			large = "gfx/leaders/SOV/CW/Portrait_SOV_Aleksey_S_Zhadov.dds"
		}
	}

	set_portraits = {
		character = SOV_markian_popov
		army = {
			large = "gfx/leaders/SOV/CW/CW_SOV_Matkian_Popov.dds"
		}
	}

	set_portraits = {
		character = SOV_arseny_golovko
		army = {
			large = "gfx/leaders/SOV/CW/CW_SOV_semyon_budyonny.dds"
			small = "gfx/interface/ideas/idea_arseniy_golovko.dds"
		}
	}

	set_portraits = {
		character = SOV_vasily_kuznetsov
		army = {
			large = "gfx/leaders/SOV/CW/CW_SOV_Vasily_Kuznetsov.dds"
		}
	}

	set_portraits = {
		character = SOV_konstantin_rokossovsky
		army = {
			large = "gfx/leaders/SOV/CW/CW_SOV_Konstantin_Rokossovsky.dds"
			small = "gfx/interface/ideas/SOV/idea_SOV_konstantin_rokossovsky.dds"
		}
	}

	set_portraits = {
		character = SOV_andrey_yeryomenko
		army = {
			large = "gfx/leaders/SOV/CW/Portrait_Soviet_Andrey_Yeryomenko.dds"
		}
	}

	set_portraits = {
		character = SOV_semyon_timoshenko
		army = {
			large = "gfx/leaders/SOV/CW/Portrait_Soviet_Semyon_Timoshenko.dds"
		}
	}

	set_portraits = {
		character = SOV_rodion_malinovsky
		army = {
			large = "gfx/leaders/SOV/CW/Portrait_Soviet_Rodion_Malinovsky.dds"
		}
	}

	set_portraits = {
		character = SOV_leonid_govorov
		army = {
			large = "gfx/leaders/SOV/CW/Portrait_Soviet_Leonid_Govorov.dds"
		}
	}

	set_portraits = {
		character = SOV_filipp_oktyabrskiy
		army = {
			large = "gfx/leaders/SOV/CW/Portrait_Soviet_Filipp_Oktyabrsky.dds"
		}
	}

	set_portraits = {
		character = SOV_vladimir_kasatonov
		army = {
			large = "gfx/leaders/SOV/CW/Portrait_Soviet_Vladimir_Kasatonov.dds"
		}
	}

	set_portraits = {
		character = SOV_kirill_moskalenko
		army = {
			large = "gfx/leaders/SOV/CW/CW_SOV_Kirill_Moskalenko.dds"
		}
	}

	set_portraits = {
		character = SOV_kuzma_galitsky
		army = {
			large = "gfx/leaders/SOV/CW/CW_SOV_Kuzma_Galitsky.dds"
		}
	}

	set_portraits = {
		character = SOV_ivan_fedyuninsky
		army = {
			large = "gfx/leaders/SOV/CW/Portrait_Soviet_Ivan_Fedyuninsky.dds"
		}
	}

	set_portraits = {
		character = SOV_Pavel_Batov
		army = {
			large = "gfx/leaders/SOV/CW/CW_SOV_Pavel_Batov.dds"
		}
	}

	set_portraits = {
		character = SOV_aleksandr_vasilevsky
		army = {
			large = "gfx/leaders/SOV/CW/CW_SOV_aleksandr_vasilevsky.dds"
		}
	}

	set_portraits = {
		character = SOV_boris_shaposhnikov
		army = {
			large = "gfx/leaders/SOV/CW/CW_SOV_Boris_Shaposhnikov.dds"
		}
	}

	set_portraits = {
		character = SOV_andrey_grechko
		army = {
			large = "gfx/leaders/SOV/CW/CW_SOV_andrei_grechko.dds"
		}
	}

	set_portraits = {
		character = SOV_yakov_cherevichenko
		army = {
			large = "gfx/leaders/SOV/CW/CW_SOV_Yakov_Cherevichenko.dds"
		}
	}

	set_portraits = {
		character = SOV_kirill_meretskov
		army = {
			large = "gfx/leaders/SOV/CW/CW_SOV_Kirill_Meretskov.dds"
		}
	}

	set_portraits = {
		character = SOV_dmitry_lelyushenko
		army = {
			large = "gfx/leaders/SOV/CW/CW_SOV_Dmitri_Danilovich_Lelyushenko.dds"
		}
	}

	set_portraits = {
		character = SOV_grigory_kulik
		army = {
			large = "gfx/leaders/SOV/CW/CW_SOV_Grigory_Kulik.dds"
		}
	}

	set_portraits = {
		character = SOV_issa_pliyev
		army = {
			large = "gfx/leaders/SOV/CW/CW_SOV_Issa_Pliyev.dds"
		}
	}

}

1946.1.1 = {


	add_ideas = {
		army_budget7
		airforce_budget7
		navy_budget7
		police_budget7
		nuclear_budget4
	}
	if = {
		limit = {
			has_start_date > 1945.01.01
			has_start_date < 1961.01.01
		}
		add_ideas = {
			operation_osoaviakhim_sov
		}
	}
	# PUPPETS
	if = {
		limit = {
			has_start_date > 1945.01.01
			has_start_date < 1992.01.01
		}
		if = {
			limit = {
				has_dlc = "Together for Victory"
			}
			set_autonomy = {
				target = DDR
				autonomous_state = autonomy_dominion
				freedom_level = 0.4
			}
			set_autonomy = {
				target = POL
				autonomous_state = autonomy_dominion
				freedom_level = 0.4
			}
			set_autonomy = {
				target = ROM
				autonomous_state = autonomy_dominion
				freedom_level = 0.4
			}
			set_autonomy = {
				target = BUL
				autonomous_state = autonomy_dominion
				freedom_level = 0.4
			}
			set_autonomy = {
				target = ALB
				autonomous_state = autonomy_dominion
				freedom_level = 0.4
			}
			set_autonomy = {
				target = MON
				autonomous_state = autonomy_dominion
				freedom_level = 0.4
			}
			set_autonomy = {
				target = CZE
				autonomous_state = autonomy_dominion
				freedom_level = 0.4
			}
			set_autonomy = {
				target = HUN
				autonomous_state = autonomy_dominion
				freedom_level = 0.4
			}
		}

		else = {
			puppet = DDR
			puppet = POL
			puppet = ROM
			puppet = BUL
			puppet = ALB
			puppet = MON
			puppet = CZE
			puppet = HUN
		}
	}
	
	set_global_flag = RON_Comintern_disbanded
	set_global_flag = RON_Create_Warsaw_Pact

	if = {
		limit = {
			has_start_date > 1945.01.01
			has_start_date < 1991.01.01
		}
		create_faction = WarsawPact
		add_to_faction = SOV
		add_to_faction = ALB
		add_to_faction = BUL
		add_to_faction = CZE
		add_to_faction = DDR
		add_to_faction = HUN
		add_to_faction = POL
		add_to_faction = ROM
	}

}

1949.1.1 = {

	set_technology = {
		nuclear_reactor = 1
		nukes = 1
	}

	oob = "SOV_1949"
	set_naval_oob = "SOV_1949_naval_legacy"

	set_politics = {
		ruling_party = communism
		last_election = "1949.1.1"
		election_frequency = 48
		elections_allowed = no
	}
	set_popularities = {
		communism = 100
	}
	complete_national_focus = SOV_ECW_COMECON
	complete_national_focus = SOV_ECW_operation_bripoi
	complete_national_focus = SOV_ECW_berlin_blockade

	create_country_leader = {
		name = "Vladimir Zhirinovsky"
		picture = "gfx/leaders/SOV/CW/USSR_Vladimir_Zhirinovsky_RW_Populism_1970.dds"
		
		ideology = rw_populism
	}
	#promote_character = SOV_nikita_khrushchyov
}


1957.1.1 = {
	set_technology = {
		RON_Thermonuclear_Bomb = 1
		RON_SRBM1 = 1
		RON_IRBM1 = 1
		RON_ICBM1 = 1
		RON_Multi_Staged_Rockets = 1
		RON_Develop_Missiles = 1
	}

	set_global_flag = SOV_Space_Race_Start

}

1960.1.1 = {
	clr_country_flag = SOV_nkvd
	set_country_flag = SOV_kgb

	retire_character = SOV_joseph_stalin
	retire_character = SOV_andrei_zhdanov
	retire_character = SOV_ivan_maisky
	retire_character = SOV_ivan_tevosian
	retire_character = SOV_lev_mekhlis
	retire_character = SOV_mikhail_kalinin
	retire_character = SOV_semyon_budyonny

	SOV_andrey_vlasov = {
		set_character_flag = SOV_character_purged_flag
	}
	SOV_lavrentiy_beria = {
		set_character_flag = SOV_character_purged_flag
	}
	SOV_grigory_kulik = {
		set_character_flag = SOV_character_purged_flag 
	}
	SOV_vsevolod_merkulov = {
		set_character_flag = SOV_character_purged_flag
	}
	SOV_nikolai_voznesensky = {
		set_character_flag = SOV_character_purged_flag
	}

	SOV_lazar_kaganovich = {
		set_character_flag = SOV_character_demoted_flag
	}
	SOV_vyacheslav_molotov = {
		set_character_flag = SOV_character_demoted_flag 
	}
	SOV_georgy_malenkov = {
		set_character_flag = SOV_character_demoted_flag
	}
	SOV_georgy_zhukov = {
		set_character_flag = SOV_character_demoted_flag
	}
	SOV_nikolay_kuznetsov = {
		set_character_flag = SOV_character_demoted_flag
	}

	add_ideas = {
		space_budget4
	}
	set_autonomy = {
		target = ALB
		autonomy_state = autonomy_free
	}
	if = {
		limit = {
			has_start_date > 1959.01.01
			has_start_date < 1961.01.01
		}
		set_autonomy = {
			target = CZE
			autonomy_state = autonomy_free
		}
	}
	set_politics = {
		ruling_party = communism
		last_election = "1960.1.1"
		election_frequency = 48
		elections_allowed = no
	}
	set_popularities = {
		communism = 100
	}

	set_party_name = {
		ideology = communism
		long_name = SOV_communist_party_CW_long
		name = SOV_communist_party_CW
	}

	set_portraits = {
		character = SOV_mikhail_kalashnikov
		civilian = {
			small = "gfx/interface/ideas/SOV/idea_SOV_mikhail_kalashnikov.dds"
		}
	}
}

1970.1.1 = {
	oob = "SOV_1970"

	retire_character = SOV_kliment_voroshilov

	promote_character = SOV_leonid_brezhnev

	set_autonomy = {
		target = ROM
		autonomy_state = autonomy_free
	}
	set_politics = {
		ruling_party = communism
		last_election = "1970.1.1"
		election_frequency = 48
		elections_allowed = no
	}
	set_popularities = {
		communism = 100
	}

	create_country_leader = {
		name = "Valeriya Novodvorskaya"
		picture = "gfx/leaders/SOV/CW/USSR_Valeriya_Novodvorskaya_Liberalism_1970.dds"
		
		ideology = liberalism
	}
	create_country_leader = {
		name = "Nicholas Romanov"
		picture = "gfx/leaders/SOV/CW/USSR_Nicholas_Romanov_Monarchism_1970.dds"
		
		ideology = despotism
	}
}

1990.1.1 = {
	promote_character = SOV_mikhail_gorbachev
}
