scripted_gui = {
	coalition_topbar = {
		window_name = "coalition_topbar_container"
 
		context_type = player_context
 
		visible = {
            has_country_flag = has_coalition
			NOT = {
				tag = USA
			}
		#	OR = {
		#		has_government = democratic
		#		has_country_flag = has_parliament
		#	}
		}
	}

	coalition_government_formation = {
		window_name = "coalition_government_formation_container"
 
		context_type = player_context
 
		visible = {
			has_country_flag = forming_government_1
		}

		ai_test_interval = 1
		ai_test_variance = 0.2
		ai_enabled = {
			always = yes
		}
		ai_check = {
           has_country_flag = forming_government_1
		}
		ai_weights = {
			party1_click = {
				ai_will_do = {
					factor = 1
					modifier = {
						factor = 4
						check_variable = { islamist_seats > 9 }
					}
					modifier = {
						factor = 4
						check_variable = { islamist_seats > 59 }
					}
					modifier = {
						factor = 4
						check_variable = { islamist_seats > 29 }
					}
					modifier = {
						factor = 4
						check_variable = { islamist_seats > 39 }
					}
				}
			}
			party2_click = {
				ai_will_do = {
					factor = 1
					modifier = {
						factor = 4
						check_variable = { fascist_seats > 9 }
					}
					modifier = {
						factor = 4
						check_variable = { fascist_seats > 59 }
					}
					modifier = {
						factor = 4
						check_variable = { fascist_seats > 29 }
					}
					modifier = {
						factor = 4
						check_variable = { fascist_seats > 39 }
					}
				}
			}
			party3_click = {
				ai_will_do = {
					factor = 1
					modifier = {
						factor = 4
						check_variable = { nationalist_seats > 9 }
					}
					modifier = {
						factor = 4
						check_variable = { nationalist_seats > 59 }
					}
					modifier = {
						factor = 4
						check_variable = { nationalist_seats > 29 }
					}
					modifier = {
						factor = 4
						check_variable = { nationalist_seats > 39 }
					}
				}
			}
			party4_click = {
				ai_will_do = {
					factor = 1
					modifier = {
						factor = 4
						check_variable = { monarchist_seats > 9 }
					}
					modifier = {
						factor = 4
						check_variable = { monarchist_seats > 59 }
					}
					modifier = {
						factor = 4
						check_variable = { monarchist_seats > 29 }
					}
					modifier = {
						factor = 4
						check_variable = { monarchist_seats > 39 }
					}
				}
			}
			party5_click = {
				ai_will_do = {
					factor = 1
					modifier = {
						factor = 4
						check_variable = { reactionary_seats > 9 }
					}
					modifier = {
						factor = 4
						check_variable = { reactionary_seats > 59 }
					}
					modifier = {
						factor = 4
						check_variable = { reactionary_seats > 29 }
					}
					modifier = {
						factor = 4
						check_variable = { reactionary_seats > 39 }
					}
				}
			}
			party6_click = {
				ai_will_do = {
					factor = 1
					modifier = {
						factor = 4
						check_variable = { conservative_seats > 9 }
					}
					modifier = {
						factor = 4
						check_variable = { conservative_seats > 59 }
					}
					modifier = {
						factor = 4
						check_variable = { conservative_seats > 29 }
					}
					modifier = {
						factor = 4
						check_variable = { conservative_seats > 39 }
					}
				}
			}
			party7_click = {
				ai_will_do = {
					factor = 1
					modifier = {
						factor = 4
						check_variable = { market_liberal_seats > 9 }
					}
					modifier = {
						factor = 4
						check_variable = { market_liberal_seats > 59 }
					}
					modifier = {
						factor = 4
						check_variable = { market_liberal_seats > 29 }
					}
					modifier = {
						factor = 4
						check_variable = { market_liberal_seats > 39 }
					}
				}
			}
			party8_click = {
				ai_will_do = {
					factor = 1
					modifier = {
						factor = 4
						check_variable = { social_liberal_seats > 9 }
					}
					modifier = {
						factor = 4
						check_variable = { social_liberal_seats > 59 }
					}
					modifier = {
						factor = 4
						check_variable = { social_liberal_seats > 29 }
					}
					modifier = {
						factor = 4
						check_variable = { social_liberal_seats > 39 }
					}
				}
			}
			party9_click = {
				ai_will_do = {
					factor = 1
					modifier = {
						factor = 4
						check_variable = { social_democrat_seats > 9 }
					}
					modifier = {
						factor = 4
						check_variable = { social_democrat_seats > 59 }
					}
					modifier = {
						factor = 4
						check_variable = { social_democrat_seats > 29 }
					}
					modifier = {
						factor = 4
						check_variable = { social_democrat_seats > 39 }
					}
				}
			}
			party10_click = {
				ai_will_do = {
					factor = 1
					modifier = {
						factor = 4
						check_variable = { progressive_seats > 9 }
					}
					modifier = {
						factor = 4
						check_variable = { progressive_seats > 59 }
					}
					modifier = {
						factor = 4
						check_variable = { progressive_seats > 29 }
					}
					modifier = {
						factor = 4
						check_variable = { progressive_seats > 39 }
					}
				}
			}
			party11_click = {
				ai_will_do = {
					factor = 1
					modifier = {
						factor = 4
						check_variable = { democratic_socialist_seats > 9 }
					}
					modifier = {
						factor = 4
						check_variable = { democratic_socialist_seats > 59 }
					}
					modifier = {
						factor = 4
						check_variable = { democratic_socialist_seats > 29 }
					}
					modifier = {
						factor = 4
						check_variable = { democratic_socialist_seats > 39 }
					}
				}
			}
			party12_click = {
				ai_will_do = {
					factor = 1
					modifier = {
						factor = 4
						check_variable = { communist_seats > 9 }
					}
					modifier = {
						factor = 4
						check_variable = { communist_seats > 59 }
					}
					modifier = {
						factor = 4
						check_variable = { communist_seats > 29 }
					}
					modifier = {
						factor = 4
						check_variable = { communist_seats > 39 }
					}
				}
			}
			next_click = {
                ai_will_do = {
                    factor = 10
                }
            }
        }
 
        effects = {
			next_click = {
				clr_country_flag = forming_government_1
				set_country_flag = forming_government_2
				if = {
					limit = {
						has_country_flag = government_islamist
					}
					set_country_flag = coalition_islamist
					set_variable = {
						var = ROOT.NewCoalition
						value = islamist_seats
					}
				}
				else_if = {
					limit = {
						has_country_flag = government_fascist
					}

					set_country_flag = coalition_fascist
					set_variable = {
						var = ROOT.NewCoalition
						value = fascist_seats
					}
				}
				else_if = {
					limit = {
						has_country_flag = government_nationalist
					}

					set_country_flag = coalition_nationalist
					set_variable = {
						var = ROOT.NewCoalition
						value = nationalist_seats
					}
				}
				else_if = {
					limit = {
						has_country_flag = government_monarchist
					}

					set_country_flag = coalition_monarchist
					set_variable = {
						var = ROOT.NewCoalition
						value = monarchist_seats
					}
				}
				else_if = {
					limit = {
						has_country_flag = government_reactionary
					}

					set_country_flag = coalition_reactionary
					set_variable = {
						var = ROOT.NewCoalition
						value = reactionary_seats
					}
				}
				else_if = {
					limit = {
						has_country_flag = government_conservative
					}

					set_country_flag = coalition_conservative
					set_variable = {
						var = ROOT.NewCoalition
						value = conservative_seats
					}
				}
				else_if = {
					limit = {
						has_country_flag = government_market_liberal
					}

					set_country_flag = coalition_market_liberal
					set_variable = {
						var = ROOT.NewCoalition
						value = market_liberal_seats
					}
				}
				else_if = {
					limit = {
						has_country_flag = government_social_liberal
					}

					set_country_flag = coalition_social_liberal
					set_variable = {
						var = ROOT.NewCoalition
						value = social_liberal_seats
					}
				}
				else_if = {
					limit = {
						has_country_flag = government_social_democrat
					}

					set_country_flag = coalition_social_democrat
					set_variable = {
						var = ROOT.NewCoalition
						value = social_democrat_seats
					}
				}
				else_if = {
					limit = {
						has_country_flag = government_progressive
						check_variable = { progressive_seats < 1 }						
					}

					set_country_flag = coalition_progressive
					set_variable = {
						var = ROOT.NewCoalition
						value = progressive_seats
					}
				}
				else_if = {
					limit = {
						has_country_flag = government_democratic_socialist
					}

					set_country_flag = coalition_democratic_socialist
					set_variable = {
						var = ROOT.NewCoalition
						value = democratic_socialist_seats
					}
				}
				else_if = {
					limit = {
						has_country_flag = government_communist
					}

					set_country_flag = coalition_communist
					set_variable = {
						var = ROOT.NewCoalition
						value = communist_seats
					}
				}
			}
			party1_click = { 
	#			ROOT ={
	#				add_political_power = -100
	#			}
				if = {
					limit = {
						has_country_flag = government_islamist
						has_country_flag = government_chosen
					}
					clr_country_flag = government_islamist
					clr_country_flag = government_chosen
				}
				else = {
					set_country_flag = government_islamist
					set_country_flag = government_chosen
				}
				clr_country_flag = government_fascist
				clr_country_flag = government_nationalist
				clr_country_flag = government_monarchist
				clr_country_flag = government_reactionary
				clr_country_flag = government_conservative
				clr_country_flag = government_market_liberal
				clr_country_flag = government_social_liberal
				clr_country_flag = government_social_democrat
				clr_country_flag = government_progressive
				clr_country_flag = government_democratic_socialist
				clr_country_flag = government_communist
			}
			party2_click = { 
	#			ROOT ={
	#				add_political_power = -100
	#			}
				if = {
					limit = {
						has_country_flag = government_fascist
						has_country_flag = government_chosen
					}
					clr_country_flag = government_fascist
					clr_country_flag = government_chosen
				}
				else = {
					set_country_flag = government_fascist
					set_country_flag = government_chosen
				}
				clr_country_flag = government_islamist
				clr_country_flag = government_nationalist
				clr_country_flag = government_monarchist
				clr_country_flag = government_reactionary
				clr_country_flag = government_conservative
				clr_country_flag = government_market_liberal
				clr_country_flag = government_social_liberal
				clr_country_flag = government_social_democrat
				clr_country_flag = government_progressive
				clr_country_flag = government_democratic_socialist
				clr_country_flag = government_communist
			}
			party3_click = { 
	#			ROOT ={
	#				add_political_power = -100
	#			}
				if = {
					limit = {
						has_country_flag = government_nationalist
						has_country_flag = government_chosen
					}
					clr_country_flag = government_nationalist
					clr_country_flag = government_chosen
				}
				else = {
					set_country_flag = government_nationalist
					set_country_flag = government_chosen
				}
				clr_country_flag = government_islamist
				clr_country_flag = government_fascist
				clr_country_flag = government_monarchist
				clr_country_flag = government_reactionary
				clr_country_flag = government_conservative
				clr_country_flag = government_market_liberal
				clr_country_flag = government_social_liberal
				clr_country_flag = government_social_democrat
				clr_country_flag = government_progressive
				clr_country_flag = government_democratic_socialist
				clr_country_flag = government_communist
			}
			party4_click = { 
	#			ROOT ={
	#				add_political_power = -100
	#			}
				if = {
					limit = {
						has_country_flag = government_monarchist
						has_country_flag = government_chosen
					}
					clr_country_flag = government_monarchist
					clr_country_flag = government_chosen
				}
				else = {
					set_country_flag = government_monarchist
					set_country_flag = government_chosen
				}
				clr_country_flag = government_islamist
				clr_country_flag = government_fascist
				clr_country_flag = government_nationalist
				clr_country_flag = government_reactionary
				clr_country_flag = government_conservative
				clr_country_flag = government_market_liberal
				clr_country_flag = government_social_liberal
				clr_country_flag = government_social_democrat
				clr_country_flag = government_progressive
				clr_country_flag = government_democratic_socialist
				clr_country_flag = government_communist
			}
			party5_click = { 
	#			ROOT ={
	#				add_political_power = -100
	#			}
				if = {
					limit = {
						has_country_flag = government_reactionary
						has_country_flag = government_chosen
					}
					clr_country_flag = government_reactionary
					clr_country_flag = government_chosen
				}
				else = {
					set_country_flag = government_reactionary
					set_country_flag = government_chosen
				}
				clr_country_flag = government_islamist
				clr_country_flag = government_fascist
				clr_country_flag = government_nationalist
				clr_country_flag = government_monarchist
				clr_country_flag = government_conservative
				clr_country_flag = government_market_liberal
				clr_country_flag = government_social_liberal
				clr_country_flag = government_social_democrat
				clr_country_flag = government_progressive
				clr_country_flag = government_democratic_socialist
				clr_country_flag = government_communist
			}
			party6_click = { 
	#			ROOT ={
	#				add_political_power = -100
	#			}
				if = {
					limit = {
						has_country_flag = government_conservative
						has_country_flag = government_chosen
					}
					clr_country_flag = government_conservative
					clr_country_flag = government_chosen
				}
				else = {
					set_country_flag = government_conservative
					set_country_flag = government_chosen
				}
				clr_country_flag = government_islamist
				clr_country_flag = government_fascist
				clr_country_flag = government_nationalist
				clr_country_flag = government_monarchist
				clr_country_flag = government_reactionary
				clr_country_flag = government_market_liberal
				clr_country_flag = government_social_liberal
				clr_country_flag = government_social_democrat
				clr_country_flag = government_progressive
				clr_country_flag = government_democratic_socialist
				clr_country_flag = government_communist
			}
			party7_click = { 
	#			ROOT ={
	#				add_political_power = -100
	#			}
				if = {
					limit = {
						has_country_flag = government_market_liberal
						has_country_flag = government_chosen
					}
					clr_country_flag = government_market_liberal
					clr_country_flag = government_chosen
				}
				else = {
					set_country_flag = government_market_liberal
					set_country_flag = government_chosen
				}
				clr_country_flag = government_islamist
				clr_country_flag = government_fascist
				clr_country_flag = government_nationalist
				clr_country_flag = government_monarchist
				clr_country_flag = government_reactionary
				clr_country_flag = government_conservative
				clr_country_flag = government_social_liberal
				clr_country_flag = government_social_democrat
				clr_country_flag = government_progressive
				clr_country_flag = government_democratic_socialist
				clr_country_flag = government_communist
			}
			party8_click = { 
	#			ROOT ={
	#				add_political_power = -100
	#			}
				if = {
					limit = {
						has_country_flag = government_social_liberal
						has_country_flag = government_chosen
					}
					clr_country_flag = government_social_liberal
					clr_country_flag = government_chosen
				}
				else = {
					set_country_flag = government_social_liberal
					set_country_flag = government_chosen
				}
				clr_country_flag = government_islamist
				clr_country_flag = government_fascist
				clr_country_flag = government_nationalist
				clr_country_flag = government_monarchist
				clr_country_flag = government_reactionary
				clr_country_flag = government_conservative
				clr_country_flag = government_market_liberal
				clr_country_flag = government_social_democrat
				clr_country_flag = government_progressive
				clr_country_flag = government_democratic_socialist
				clr_country_flag = government_communist
			}
			party9_click = { 
	#			ROOT ={
	#				add_political_power = -100
	#			}
				if = {
					limit = {
						has_country_flag = government_social_democrat
						has_country_flag = government_chosen
					}
					clr_country_flag = government_social_democrat
					clr_country_flag = government_chosen
				}
				else = {
					set_country_flag = government_social_democrat
					set_country_flag = government_chosen
				}
				clr_country_flag = government_islamist
				clr_country_flag = government_fascist
				clr_country_flag = government_nationalist
				clr_country_flag = government_monarchist
				clr_country_flag = government_reactionary
				clr_country_flag = government_conservative
				clr_country_flag = government_market_liberal
				clr_country_flag = government_social_liberal
				clr_country_flag = government_progressive
				clr_country_flag = government_democratic_socialist
				clr_country_flag = government_communist
			}
			party10_click = { 
	#			ROOT ={
	#				add_political_power = -100
	#			}
				if = {
					limit = {
						has_country_flag = government_progressive
						has_country_flag = government_chosen
					}
					clr_country_flag = government_progressive
					clr_country_flag = government_chosen
				}
				else = {
					set_country_flag = government_progressive
					set_country_flag = government_chosen
				}
				clr_country_flag = government_islamist
				clr_country_flag = government_fascist
				clr_country_flag = government_nationalist
				clr_country_flag = government_monarchist
				clr_country_flag = government_reactionary
				clr_country_flag = government_conservative
				clr_country_flag = government_market_liberal
				clr_country_flag = government_social_liberal
				clr_country_flag = government_social_democrat
				clr_country_flag = government_democratic_socialist
				clr_country_flag = government_communist
			}
			party11_click = { 
	#			ROOT ={
	#				add_political_power = -100
	#			}
				if = {
					limit = {
						has_country_flag = government_democratic_socialist
						has_country_flag = government_chosen
					}
					clr_country_flag = government_democratic_socialist
					clr_country_flag = government_chosen
				}
				else = {
					set_country_flag = government_democratic_socialist
					set_country_flag = government_chosen
				}
				clr_country_flag = government_islamist
				clr_country_flag = government_fascist
				clr_country_flag = government_nationalist
				clr_country_flag = government_monarchist
				clr_country_flag = government_reactionary
				clr_country_flag = government_conservative
				clr_country_flag = government_market_liberal
				clr_country_flag = government_social_liberal
				clr_country_flag = government_social_democrat
				clr_country_flag = government_progressive
				clr_country_flag = government_communist
			}
			party12_click = { 
	#			ROOT ={
	#				add_political_power = -100
	#			}
				if = {
					limit = {
						has_country_flag = government_communist
						has_country_flag = government_chosen
					}
					clr_country_flag = government_communist
					clr_country_flag = government_chosen
				}
				else = {
					set_country_flag = government_communist
					set_country_flag = government_chosen
				}
				clr_country_flag = government_islamist
				clr_country_flag = government_fascist
				clr_country_flag = government_nationalist
				clr_country_flag = government_monarchist
				clr_country_flag = government_reactionary
				clr_country_flag = government_conservative
				clr_country_flag = government_market_liberal
				clr_country_flag = government_social_liberal
				clr_country_flag = government_social_democrat
				clr_country_flag = government_progressive
				clr_country_flag = government_democratic_socialist
			}
        }
        
		triggers = {
			party1_click_enabled = {
				OR = {
					check_variable = { islamist_seats > 5 }
					check_variable = { party_popularity@islamism > party_popularity@democratic }
				}
			}
			party1_title_click_enabled = {
				OR = {
					check_variable = { islamist_seats > 5 }
					check_variable = { party_popularity@islamism > party_popularity@democratic }
				}
			}
			party1_accept_visible = {
				has_country_flag = government_islamist
			}
			party2_click_enabled = {
				OR = {
					check_variable = { fascist_seats > 5 }
					check_variable = { party_popularity@fascism > party_popularity@democratic }
				}
			}
			party2_title_click_enabled = {
				OR = {
					check_variable = { fascist_seats > 5 }
					check_variable = { party_popularity@fascism > party_popularity@democratic }
				}
			}
			party2_accept_visible = {
				has_country_flag = government_fascist
			}
			party3_click_enabled = {
				check_variable = { nationalist_seats > 5 }
				NOT = {
					OR = {
						communism > 0.49
						fascism > 0.49
						neutrality > 0.49
						islamism > 0.49
					}
				}
			}
			party3_title_click_enabled = {
				check_variable = { nationalist_seats > 5 }
				NOT = {
					OR = {
						communism > 0.49
						fascism > 0.49
						neutrality > 0.49
						islamism > 0.49
					}
				}
			}
			party3_accept_visible = {
				has_country_flag = government_nationalist
			}
			party4_click_enabled = {
				check_variable = { monarchist_seats > 5 }
				NOT = {
					OR = {
						communism > 0.49
						fascism > 0.49
						neutrality > 0.49
						islamism > 0.49
					}
				}
			}
			party4_title_click_enabled = {
				check_variable = { monarchist_seats > 5 }
				NOT = {
					OR = {
						communism > 0.49
						fascism > 0.49
						neutrality > 0.49
						islamism > 0.49
					}
				}
			}
			party4_accept_visible = {
				has_country_flag = government_monarchist
			}
			party5_click_enabled = {
				OR = {
					check_variable = { reactionary_seats > 5 }
					check_variable = { party_popularity@neutrality > party_popularity@democratic }
				}
			}
			party5_title_click_enabled = {
				OR = {
					check_variable = { reactionary_seats > 5 }
					check_variable = { party_popularity@neutrality > party_popularity@democratic }
				}
			}
			party5_accept_visible = {
				has_country_flag = government_reactionary
			}
			party6_click_enabled = {
				check_variable = { conservative_seats > 5 }
				NOT = {
					OR = {
						communism > 0.49
						fascism > 0.49
						neutrality > 0.49
						islamism > 0.49
					}
				}
			}
			party6_title_click_enabled = {
				check_variable = { conservative_seats > 5 }
				NOT = {
					OR = {
						communism > 0.49
						fascism > 0.49
						neutrality > 0.49
						islamism > 0.49
					}
				}
			}
			party6_accept_visible = {
				has_country_flag = government_conservative
			}
			party7_click_enabled = {
				check_variable = { market_liberal_seats > 5 }
				NOT = {
					OR = {
						communism > 0.49
						fascism > 0.49
						neutrality > 0.49
						islamism > 0.49
					}
				}
			}
			party7_title_click_enabled = {
				check_variable = { market_liberal_seats > 5 }
				NOT = {
					OR = {
						communism > 0.49
						fascism > 0.49
						neutrality > 0.49
						islamism > 0.49
					}
				}
			}
			party7_accept_visible = {
				has_country_flag = government_market_liberal
			}
			party8_click_enabled = {
				check_variable = { social_liberal_seats > 5 }
				NOT = {
					OR = {
						communism > 0.49
						fascism > 0.49
						neutrality > 0.49
						islamism > 0.49
					}
				}
			}
			party8_title_click_enabled = {
				check_variable = { social_liberal_seats > 5 }
				NOT = {
					OR = {
						communism > 0.49
						fascism > 0.49
						neutrality > 0.49
						islamism > 0.49
					}
				}
			}
			party8_accept_visible = {
				has_country_flag = government_social_liberal
			}
			party9_click_enabled = {
				check_variable = { social_democrat_seats > 5 }
				NOT = {
					OR = {
						communism > 0.49
						fascism > 0.49
						neutrality > 0.49
						islamism > 0.49
					}
				}
			}
			party9_title_click_enabled = {
				check_variable = { social_democrat_seats > 5 }
				NOT = {
					OR = {
						communism > 0.49
						fascism > 0.49
						neutrality > 0.49
						islamism > 0.49
					}
				}
			}
			party9_accept_visible = {
				has_country_flag = government_social_democrat
			}

			party10_title_click_enabled = {
				check_variable = { progressive_seats > 5 }
				NOT = {
					OR = {
						communism > 0.49
						fascism > 0.49
						neutrality > 0.49
						islamism > 0.49
					}
				}
			}
			party10_accept_visible = {
				has_country_flag = government_progressive
			}
			party11_click_enabled = {
				check_variable = { democratic_socialist_seats > 5 }
				NOT = {
					OR = {
						communism > 0.49
						fascism > 0.49
						neutrality > 0.49
						islamism > 0.49
					}
				}
			}
			party11_title_click_enabled = {
				check_variable = { democratic_socialist_seats > 5 }
				NOT = {
					OR = {
						communism > 0.49
						fascism > 0.49
						neutrality > 0.49
						islamism > 0.49
					}
				}
			}
			party11_accept_visible = {
				has_country_flag = government_democratic_socialist
			}
			party12_click_enabled = {
				OR = {
					check_variable = { communist_seats > 5 }
					check_variable = { party_popularity@communism > party_popularity@democratic }
				}
			}
			party12_title_click_enabled = {
				OR = {
					check_variable = { communist_seats > 5 }
					check_variable = { party_popularity@communism > party_popularity@democratic }
				}
			}
			party12_accept_visible = {
				has_country_flag = government_communist
			}
			next_click_enabled = {
				has_country_flag = government_chosen
			}		
        }
		properties = {
			party1_accept = {
				image = GFX_accept_decline_icon
				frame = 2
			}
			party2_accept = {
				image = GFX_accept_decline_icon
				frame = 2
			}
			party3_accept = {
				image = GFX_accept_decline_icon
				frame = 2
			}
			party4_accept = {
				image = GFX_accept_decline_icon
				frame = 2
			}
			party5_accept = {
				image = GFX_accept_decline_icon
				frame = 2
			}
			party6_accept = {
				image = GFX_accept_decline_icon
				frame = 2
			}
			party7_accept = {
				image = GFX_accept_decline_icon
				frame = 2
			}
			party8_accept = {
				image = GFX_accept_decline_icon
				frame = 2
			}
			party9_accept = {
				image = GFX_accept_decline_icon
				frame = 2
			}
			party10_accept = {
				image = GFX_accept_decline_icon
				frame = 2
			}
			party11_accept = {
				image = GFX_accept_decline_icon
				frame = 2
			}
			party12_accept = {
				image = GFX_accept_decline_icon
				frame = 2
			}
		}
	}

	coalition_coalition_formation = {
		window_name = "coalition_coalition_formation_container"
 
		context_type = player_context
 
		visible = {
			has_country_flag = forming_government_2
		}

		ai_test_interval = 1
		ai_test_variance = 0.2
		ai_enabled = {
			always = yes
		}
		ai_check = {
           has_country_flag = forming_government_2
		}
		ai_weights = {
		#	party1_click = {
		#		ai_will_do = {
		#			factor = 1
		#			modifier = {
		#				factor = 4
		#				check_variable = { islamist_seats > 9 }
		#			}
		#			modifier = {
		#				factor = 4
		#				check_variable = { islamist_seats > 59 }
		#			}
		#			modifier = {
		#				factor = 4
		#				check_variable = { islamist_seats > 29 }
		#			}
		#			modifier = {
		#				factor = 4
		#				check_variable = { islamist_seats > 39 }
		#			}
		#		}
		#	}
		#	party2_click = {
		#		ai_will_do = {
		#			factor = 1
		#			modifier = {
		#				factor = 4
		#				check_variable = { fascist_seats > 9 }
		#			}
		#			modifier = {
		#				factor = 4
		#				check_variable = { fascist_seats > 59 }
		#			}
		#			modifier = {
		#				factor = 4
		#				check_variable = { fascist_seats > 29 }
		#			}
		#			modifier = {
		#				factor = 4
		#				check_variable = { fascist_seats > 39 }
		#			}
		#		}
		#	}
		#	party3_click = {
		#		ai_will_do = {
		#			factor = 1
		#			modifier = {
		#				factor = 4
		#				check_variable = { nationalist_seats > 9 }
		#			}
		#			modifier = {
		#				factor = 4
		#				check_variable = { nationalist_seats > 59 }
		#			}
		#			modifier = {
		#				factor = 4
		#				check_variable = { nationalist_seats > 29 }
		#			}
		#			modifier = {
		#				factor = 4
		#				check_variable = { nationalist_seats > 39 }
		#			}
		#		}
		#	}
		#	party4_click = {
		#		ai_will_do = {
		#			factor = 1
		#			modifier = {
		#				factor = 4
		#				check_variable = { monarchist_seats > 9 }
		#			}
		#			modifier = {
		#				factor = 4
		#				check_variable = { monarchist_seats > 59 }
		#			}
		#			modifier = {
		#				factor = 4
		#				check_variable = { monarchist_seats > 29 }
		#			}
		#			modifier = {
		#				factor = 4
		#				check_variable = { monarchist_seats > 39 }
		#			}
		#		}
		#	}
		#	party5_click = {
		#		ai_will_do = {
		#			factor = 1
		#			modifier = {
		#				factor = 4
		#				check_variable = { reactionary_seats > 9 }
		#			}
		#			modifier = {
		#				factor = 4
		#				check_variable = { reactionary_seats > 59 }
		#			}
		#			modifier = {
		#				factor = 4
		#				check_variable = { reactionary_seats > 29 }
		#			}
		#			modifier = {
		#				factor = 4
		#				check_variable = { reactionary_seats > 39 }
		#			}
		#		}
		#	}
		#	party6_click = {
		#		ai_will_do = {
		#			factor = 1
		#			modifier = {
		#				factor = 4
		#				check_variable = { conservative_seats > 9 }
		#			}
		#			modifier = {
		#				factor = 4
		#				check_variable = { conservative_seats > 59 }
		#			}
		#			modifier = {
		#				factor = 4
		#				check_variable = { conservative_seats > 29 }
		#			}
		#			modifier = {
		#				factor = 4
		#				check_variable = { conservative_seats > 39 }
		#			}
		#		}
		#	}
		#	party7_click = {
		#		ai_will_do = {
		#			factor = 1
		#			modifier = {
		#				factor = 4
		#				check_variable = { market_liberal_seats > 9 }
		#			}
		#			modifier = {
		#				factor = 4
		#				check_variable = { market_liberal_seats > 59 }
		#			}
		#			modifier = {
		#				factor = 4
		#				check_variable = { market_liberal_seats > 29 }
		#			}
		#			modifier = {
		#				factor = 4
		#				check_variable = { market_liberal_seats > 39 }
		#			}
		#		}
		#	}
		#	party8_click = {
		#		ai_will_do = {
		#			factor = 1
		#			modifier = {
		#				factor = 4
		#				check_variable = { social_liberal_seats > 9 }
		#			}
		#			modifier = {
		#				factor = 4
		#				check_variable = { social_liberal_seats > 59 }
		#			}
		#			modifier = {
		#				factor = 4
		#				check_variable = { social_liberal_seats > 29 }
		#			}
		#			modifier = {
		#				factor = 4
		#				check_variable = { social_liberal_seats > 39 }
		#			}
		#		}
		#	}
		#	party9_click = {
		#		ai_will_do = {
		#			factor = 1
		#			modifier = {
		#				factor = 4
		#				check_variable = { social_democrat_seats > 9 }
		#			}
		#			modifier = {
		#				factor = 4
		#				check_variable = { social_democrat_seats > 59 }
		#			}
		#			modifier = {
		#				factor = 4
		#				check_variable = { social_democrat_seats > 29 }
		#			}
		#			modifier = {
		#				factor = 4
		#				check_variable = { social_democrat_seats > 39 }
		#			}
		#		}
		#	}
		#	party10_click = {
		#		ai_will_do = {
		#			factor = 1
		#			modifier = {
		#				factor = 4
		#				check_variable = { progressive_seats > 9 }
		#			}
		#			modifier = {
		#				factor = 4
		#				check_variable = { progressive_seats > 59 }
		#			}
		#			modifier = {
		#				factor = 4
		#				check_variable = { progressive_seats > 29 }
		#			}
		#			modifier = {
		#				factor = 4
		#				check_variable = { progressive_seats > 39 }
		#			}
		#		}
		#	}
		#	party11_click = {
		#		ai_will_do = {
		#			factor = 1
		#			modifier = {
		#				factor = 4
		#				check_variable = { democratic_socialist_seats > 9 }
		#			}
		#			modifier = {
		#				factor = 4
		#				check_variable = { democratic_socialist_seats > 59 }
		#			}
		#			modifier = {
		#				factor = 4
		#				check_variable = { democratic_socialist_seats > 29 }
		#			}
		#			modifier = {
		#				factor = 4
		#				check_variable = { democratic_socialist_seats > 39 }
		#			}
		#		}
		#	}
		#	party12_click = {
		#		ai_will_do = {
		#			factor = 1
		#			modifier = {
		#				factor = 4
		#				check_variable = { communist_seats > 9 }
		#			}
		#			modifier = {
		#				factor = 4
		#				check_variable = { communist_seats > 59 }
		#			}
		#			modifier = {
		#				factor = 4
		#				check_variable = { communist_seats > 29 }
		#			}
		#			modifier = {
		#				factor = 4
		#				check_variable = { communist_seats > 39 }
		#			}
		#		}
		#	}
		#	finish_click = {
        #        ai_will_do = {
        #            factor = 10
        #        }
        #    }
        }
 
        effects = {
			finish_click = {
				clr_country_flag = forming_government_2
				set_country_flag = has_coalition
				add_ruling_party_popularity = yes
				set_variable = { ROOT.NewCoalition = ROOT.Coalition }
				cleanup_coalition = yes
				update_coalition = yes
				set_parliament_graphics_2 = yes
		        # election_pulse = yes # EXPLANATION : For fireing specific events after a certain person becomes country leader
			}
			party1_click = { 
	#			ROOT ={
	#				add_political_power = -100
	#			}
				if = {
					limit = {
						has_country_flag = coalition_islamist
						has_country_flag = coalition_chosen
						check_variable = {
							var = ROOT.NewCoalition
							value = islamist_seats
							compare = greater_than_or_equals
						}
					}
					clr_country_flag = coalition_islamist
					clr_country_flag = coalition_chosen
					subtract_from_variable = {
						var = ROOT.NewCoalition
						value = islamist_seats
					}
				}
				else = {
					set_country_flag = coalition_islamist
					set_country_flag = coalition_chosen
					add_to_variable = {
						var = ROOT.NewCoalition
						value = islamist_seats
					}
				}
			}
			party2_click = { 
	#			ROOT ={
	#				add_political_power = -100
	#			}
				if = {
					limit = {
						has_country_flag = coalition_fascist
						has_country_flag = coalition_chosen
						check_variable = {
							var = ROOT.NewCoalition
							value = fascist_seats
							compare = greater_than_or_equals
						}
					}
					clr_country_flag = coalition_fascist
					clr_country_flag = coalition_chosen
					subtract_from_variable = {
						var = ROOT.NewCoalition
						value = fascist_seats
					}
				}
				else = {
					set_country_flag = coalition_fascist
					set_country_flag = coalition_chosen
					add_to_variable = {
						var = ROOT.NewCoalition
						value = fascist_seats
					}
				}
			}
			party3_click = { 
	#			ROOT ={
	#				add_political_power = -100
	#			}
				if = {
					limit = {
						has_country_flag = coalition_nationalist
						has_country_flag = coalition_chosen
						check_variable = {
							var = ROOT.NewCoalition
							value = nationalist_seats
							compare = greater_than_or_equals
						}
					}
					clr_country_flag = coalition_nationalist
					clr_country_flag = coalition_chosen
					subtract_from_variable = {
						var = ROOT.NewCoalition
						value = nationalist_seats
					}
				}
				else = {
					set_country_flag = coalition_nationalist
					set_country_flag = coalition_chosen
					add_to_variable = {
						var = ROOT.NewCoalition
						value = nationalist_seats
					}
				}
			}
			party4_click = { 
	#			ROOT ={
	#				add_political_power = -100
	#			}
				if = {
					limit = {
						has_country_flag = coalition_monarchist
						has_country_flag = coalition_chosen
						check_variable = {
							var = ROOT.NewCoalition
							value = monarchist_seats
							compare = greater_than_or_equals
						}
					}
					clr_country_flag = coalition_monarchist
					clr_country_flag = coalition_chosen
					subtract_from_variable = {
						var = ROOT.NewCoalition
						value = monarchist_seats
					}
				}
				else = {
					set_country_flag = coalition_monarchist
					set_country_flag = coalition_chosen
					add_to_variable = {
						var = ROOT.NewCoalition
						value = monarchist_seats
					}
				}
			}
			party5_click = { 
	#			ROOT ={
	#				add_political_power = -100
	#			}
				if = {
					limit = {
						has_country_flag = coalition_reactionary
						has_country_flag = coalition_chosen
						check_variable = {
							var = ROOT.NewCoalition
							value = reactionary_seats
							compare = greater_than_or_equals
						}
					}
					clr_country_flag = coalition_reactionary
					clr_country_flag = coalition_chosen
					subtract_from_variable = {
						var = ROOT.NewCoalition
						value = reactionary_seats
					}
				}
				else = {
					set_country_flag = coalition_reactionary
					set_country_flag = coalition_chosen
					add_to_variable = {
						var = ROOT.NewCoalition
						value = reactionary_seats
					}
				}
			}
			party6_click = { 
	#			ROOT ={
	#				add_political_power = -100
	#			}
				if = {
					limit = {
						has_country_flag = coalition_conservative
						has_country_flag = coalition_chosen
						check_variable = {
							var = ROOT.NewCoalition
							value = conservative_seats
							compare = greater_than_or_equals
						}
					}
					clr_country_flag = coalition_conservative
					clr_country_flag = coalition_chosen
					subtract_from_variable = {
						var = ROOT.NewCoalition
						value = conservative_seats
					}
				}
				else = {
					set_country_flag = coalition_conservative
					set_country_flag = coalition_chosen
					add_to_variable = {
						var = ROOT.NewCoalition
						value = conservative_seats
					}
				}
			}
			party7_click = { 
	#			ROOT ={
	#				add_political_power = -100
	#			}
				if = {
					limit = {
						has_country_flag = coalition_market_liberal
						has_country_flag = coalition_chosen
						check_variable = {
							var = ROOT.NewCoalition
							value = market_liberal_seats
							compare = greater_than_or_equals
						}
					}
					clr_country_flag = coalition_market_liberal
					clr_country_flag = coalition_chosen
					subtract_from_variable = {
						var = ROOT.NewCoalition
						value = market_liberal_seats
					}
				}
				else = {
					set_country_flag = coalition_market_liberal
					set_country_flag = coalition_chosen
					add_to_variable = {
						var = ROOT.NewCoalition
						value = market_liberal_seats
					}
				}
			}
			party8_click = { 
	#			ROOT ={
	#				add_political_power = -100
	#			}
				if = {
					limit = {
						has_country_flag = coalition_social_liberal
						has_country_flag = coalition_chosen
						check_variable = {
							var = ROOT.NewCoalition
							value = social_liberal_seats
							compare = greater_than_or_equals
						}
					}
					clr_country_flag = coalition_social_liberal
					clr_country_flag = coalition_chosen
					subtract_from_variable = {
						var = ROOT.NewCoalition
						value = social_liberal_seats
					}
				}
				else = {
					set_country_flag = coalition_social_liberal
					set_country_flag = coalition_chosen
					add_to_variable = {
						var = ROOT.NewCoalition
						value = social_liberal_seats
					}
				}
			}
			party9_click = { 
				if = {
					limit = {
						check_variable = { christian_democratic_seats < 1 }
					}
				if = {
					limit = {
						has_country_flag = coalition_social_democrat
						has_country_flag = coalition_chosen
						check_variable = {
							var = ROOT.NewCoalition
							value = social_democrat_seats
							compare = greater_than_or_equals
						}
					}
					clr_country_flag = coalition_social_democrat
					clr_country_flag = coalition_chosen
					subtract_from_variable = {
						var = ROOT.NewCoalition
						value = social_democrat_seats
					}
				}
				else = {
					set_country_flag = coalition_social_democrat
					set_country_flag = coalition_chosen
					add_to_variable = {
						var = ROOT.NewCoalition
						value = social_democrat_seats
					}
				}
			}
		}
			party10_click = { 
				if = {
					limit = {
					check_variable = { progressive_seats < 1 }						
					}
				
				if = {
					limit = {
						has_country_flag = coalition_progressive
						has_country_flag = coalition_chosen
						check_variable = {
							var = ROOT.NewCoalition
							value = progressive_seats
							compare = greater_than_or_equals
						}
					}
					clr_country_flag = coalition_progressive
					clr_country_flag = coalition_chosen
					subtract_from_variable = {
						var = ROOT.NewCoalition
						value = progressive_seats
					}
				}
				else = {

					set_country_flag = coalition_progressive
					set_country_flag = coalition_chosen
					add_to_variable = {
						var = ROOT.NewCoalition
						value = progressive_seats
					}
				}
			}
		}
			party11_click = { 
				if ={
					limit = {
						check_variable = { christian_democratic_seats < 1 }						
					}
				
				if = {
					limit = {
						has_country_flag = coalition_democratic_socialist
						has_country_flag = coalition_chosen
						check_variable = {
							var = ROOT.NewCoalition
							value = democratic_socialist_seats
							compare = greater_than_or_equals
						}
					}
					clr_country_flag = coalition_democratic_socialist
					clr_country_flag = coalition_chosen
					subtract_from_variable = {
						var = ROOT.NewCoalition
						value = democratic_socialist_seats
					}
				}
				else = {
					set_country_flag = coalition_democratic_socialist
					set_country_flag = coalition_chosen
					add_to_variable = {
						var = ROOT.NewCoalition
						value = democratic_socialist_seats
					}
				}
			}
		}
			party12_click = { 
				if = {
					limit = {
						check_variable = { communist_seats < 1 }
					}
				
				if = {
					limit = {
						has_country_flag = coalition_communist
						has_country_flag = coalition_chosen
						check_variable = {
							var = ROOT.NewCoalition
							value = communist_seats
							compare = greater_than_or_equals
						}
					}
					clr_country_flag = coalition_communist
					clr_country_flag = coalition_chosen
					subtract_from_variable = {
						var = ROOT.NewCoalition
						value = communist_seats
					}
				}
				else = {
					set_country_flag = coalition_communist
					set_country_flag = coalition_chosen
					add_to_variable = {
						var = ROOT.NewCoalition
						value = communist_seats
					}
				}
			}
		}
    }
        
		triggers = {
			party1_click_enabled = {
				check_variable = { islamist_seats > 5 }
			}
			party1_title_click_enabled = {
				check_variable = { islamist_seats > 5 }
			}
			party1_visible = {
				NOT = { has_country_flag = government_islamist }
				check_variable = { islamist_seats > 5 }
			}
			party1_title_visible = {
				NOT = { has_country_flag = government_islamist }
			}
			party1_accept_visible = {
				has_country_flag = coalition_islamist
				NOT = { has_country_flag = government_islamist }
			}
			party2_click_enabled = {
				check_variable = { fascist_seats > 5 }
			}
			party2_title_click_enabled = {
				check_variable = { fascist_seats > 5 }
			}
			party2_visible = {
				NOT = { has_country_flag = government_fascist }
				check_variable = { fascist_seats > 5 }
			}
			party2_title_visible = {
				NOT = { has_country_flag = government_fascist }
			}
			party2_accept_visible = {
				has_country_flag = coalition_fascist
				NOT = { has_country_flag = government_fascist }
			}
			party3_click_enabled = {
				check_variable = { nationalist_seats > 5 }
			}
			party3_title_click_enabled = {
				check_variable = { nationalist_seats > 5 }				
			}
			party3_visible = {
				NOT = { has_country_flag = government_nationalist }
				check_variable = { nationalist_seats > 5 }
			}
			party3_title_visible = {
				NOT = { has_country_flag = government_nationalist }
			}
			party3_accept_visible = {
				has_country_flag = coalition_nationalist
				NOT = { has_country_flag = government_nationalist }
			}
			party4_click_enabled = {
				check_variable = { monarchist_seats > 5 }
			}
			party4_title_click_enabled = {
				check_variable = { monarchist_seats > 5 }
			}
			party4_visible = {
				NOT = { has_country_flag = government_monarchist }
				check_variable = { monarchist_seats > 5 }
			}
			party4_title_visible = {
				NOT = { has_country_flag = government_monarchist }
			}
			party4_accept_visible = {
				has_country_flag = coalition_monarchist
				NOT = { has_country_flag = government_monarchist }
			}
			party5_click_enabled = {
				check_variable = { reactionary_seats > 5 }
			}
			party5_title_click_enabled = {
				check_variable = { reactionary_seats > 5 }
			}
			party5_visible = {
				check_variable = { reactionary_seats > 5 }
				NOT = { has_country_flag = government_reactionary }
			}
			party5_title_visible = {
				NOT = { has_country_flag = government_reactionary }
			}
			party5_accept_visible = {
				has_country_flag = coalition_reactionary
				NOT = { has_country_flag = government_reactionary }
			}
			party6_click_enabled = {
				check_variable = { conservative_seats > 5 }
			}
			party6_title_click_enabled = {
				check_variable = { conservative_seats > 5 }
			}
			party6_visible = {
				check_variable = { conservative_seats > 5 }
				NOT = { has_country_flag = government_conservative }
			}
			party6_title_visible = {
				NOT = { has_country_flag = government_conservative }
			}
			party6_accept_visible = {
				has_country_flag = coalition_conservative
				NOT = { has_country_flag = government_conservative }
			}
			party7_click_enabled = {
				check_variable = { market_liberal_seats > 5 }
			}
			party7_title_click_enabled = {
				check_variable = { market_liberal_seats > 5 }
			}
			party7_visible = {
				check_variable = { market_liberal_seats > 5 }
				NOT = { has_country_flag = government_market_liberal }
			}
			party7_title_visible = {
				NOT = { has_country_flag = government_market_liberal }
			}
			party7_accept_visible = {
				has_country_flag = coalition_market_liberal
				NOT = { has_country_flag = government_market_liberal }
			}
			party8_click_enabled = {
				check_variable = { christian_democratic_seats > 5 }
			}
			party8_title_click_enabled = {
				check_variable = { christian_democratic_seats > 5 }
			}
			party8_visible = {
				check_variable = { christian_democratic_seats > 5 }
				NOT = { has_country_flag = government_christian_democratic }
			}
			party8_title_visible = {
				NOT = { has_country_flag = government_christian_democratic }
			}
			party8_accept_visible = {
				NOT = { has_country_flag = government_christian_democratic }
				check_variable = { christian_democratic_seats > 5 }
			}
			party9_click_enabled = {
				check_variable = { social_liberal_seats > 5 }
			}
			party9_title_click_enabled = {
				check_variable = { social_liberal_seats > 5 }
			}
			party9_visible = {
				check_variable = { social_liberal_seats > 5 }
				NOT = { has_country_flag = government_social_liberal }
			}
			party9_title_visible = {
				NOT = { has_country_flag = government_social_liberal }
			}
			party9_accept_visible = {
				has_country_flag = social_liberal_seats
				NOT = { has_country_flag = government_social_liberal }
			}
			party10_click_enabled = {
				check_variable = { social_democrat_seats > 5 }
			}
			party10_title_click_enabled = {
				check_variable = { social_democrat_seats > 5 }
			}
			party10_visible = {
				check_variable = { social_democrat_seats > 5 }				
				NOT = { has_country_flag = government_democratic_socialist }
			}
			party10_title_visible = {
				NOT = { has_country_flag = government_democratic_socialist }
			}
			party10_accept_visible = {
				has_country_flag = coalition_progressive
				NOT = { has_country_flag = government_democratic_socialist } 
			}
			party11_click_enabled = {
				check_variable = { progressive_seats > 1 } 
			}
			party11_title_click_enabled = {
				check_variable = { progressive_seats > 1 }
			}
			party11_visible = {
				check_variable = { progressive_seats > 1 }
				NOT = { has_country_flag = government_democratic_socialist }
			}
			party11_title_visible = {
		#		check_variable = { progressive_seats > 1 }
				NOT = { has_country_flag = government_democratic_socialist }
			}
			party11_accept_visible = {
				has_country_flag = government_progressive
				NOT = { has_country_flag = government_democratic_socialist }
			}
			party12_click_enabled = {
			OR = {
				check_variable = { communist_seats > 5 }
				check_variable = { democratic_socialist_seats > 5 }
				}

			}
			party12_title_click_enabled = {
				check_variable = { communist_seats > 5 }
			}
			party12_visible = {
				check_variable = { communist_seats > 5 }
				NOT = { has_government = communism }
				NOT = {has_government = fascism}
			}
			party12_title_visible = {
				NOT = { has_government = communism }
			}
			party12_accept_visible = {
				has_country_flag = coalition_communist
				NOT = { has_government = communism }
			}
			finish_click_enabled = {
				OR = {
				has_country_flag = coalition_chosen
				always = yes			
				}		
			}		
        }
		properties = {
			party1_accept = {
				image = GFX_accept_decline_icon
				frame = 2
			}
			party2_accept = {
				image = GFX_accept_decline_icon
				frame = 2
			}
			party3_accept = {
				image = GFX_accept_decline_icon
				frame = 2
			}
			party4_accept = {
				image = GFX_accept_decline_icon
				frame = 2
			}
			party5_accept = {
				image = GFX_accept_decline_icon
				frame = 2
			}
			party6_accept = {
				image = GFX_accept_decline_icon
				frame = 2
			}
			party7_accept = {
				image = GFX_accept_decline_icon
				frame = 2
			}
			party8_accept = {
				image = GFX_accept_decline_icon
				frame = 2
			}
			party9_accept = {
				image = GFX_accept_decline_icon
				frame = 2
			}
			party10_accept = {
				image = GFX_accept_decline_icon
				frame = 2
			}
			party11_accept = {
				image = GFX_accept_decline_icon
				frame = 2
			}
			party12_accept = {
				image = GFX_accept_decline_icon
				frame = 2
			}
		}
	}
}