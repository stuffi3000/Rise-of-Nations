#	SHA_popular_support_get_better
#	SHA_popular_support_get_worse

#	TOGETHER WITH THAT ALSO:
# SHA_ps_improve_for_us_EXPL
# SHA_ps_improve_for_us_and_reduce_for_others_EXPL

# SHA_ps_reduce_for_us_EXPL
# SHA_ps_reduce_total_for_us_EXPL
# SHA_ps_reduce_for_us_and_improve_for_others_EXPL

# SHA_ps_reduce_for_them_EXPL
# SHA_ps_reduce_for_others_EXPL

#	SHA_to_CHI_effect_base_on_ps
#	SHA_to_PRC_effect_base_on_ps
#	SHA_to_MAN_effect_base_on_ps




##### POPULAR SUPPORT
SHA_popular_support_get_better = {

	hidden_effect = {
		if = {
			limit = { has_idea = SHA_popular_support_good_I4 }
			swap_ideas = {
				remove_idea = SHA_popular_support_good_I4
				add_idea = SHA_popular_support_good_I5
			}
		}
		if = {
			limit = { has_idea = SHA_popular_support_good_I3 }
			swap_ideas = {
				remove_idea = SHA_popular_support_good_I3
				add_idea = SHA_popular_support_good_I4
			}
		}
		if = {
			limit = { has_idea = SHA_popular_support_good_I2 }
			swap_ideas = {
				remove_idea = SHA_popular_support_good_I2
				add_idea = SHA_popular_support_good_I3
			}
		}
		if = {
			limit = { has_idea = SHA_popular_support_good_I1 }
			swap_ideas = {
				remove_idea = SHA_popular_support_good_I1
				add_idea = SHA_popular_support_good_I2
			}
		}
		if = {
			limit = { has_idea = SHA_popular_support_neutral_I0 }
			swap_ideas = {
				remove_idea = SHA_popular_support_neutral_I0
				add_idea = SHA_popular_support_good_I1
			}
		}
		if = {
			limit = { has_idea = SHA_popular_support_bad_I1 }
			swap_ideas = {
				remove_idea = SHA_popular_support_bad_I1
				add_idea = SHA_popular_support_neutral_I0
			}
		}
		if = {
			limit = { has_idea = SHA_popular_support_bad_I2 }
			swap_ideas = {
				remove_idea = SHA_popular_support_bad_I2
				add_idea = SHA_popular_support_bad_I1
			}
		}
		if = {
			limit = { has_idea = SHA_popular_support_bad_I3 }
			swap_ideas = {
				remove_idea = SHA_popular_support_bad_I3
				add_idea = SHA_popular_support_bad_I2
			}
		}
		if = {
			limit = { has_idea = SHA_popular_support_bad_I4 }
			swap_ideas = {
				remove_idea = SHA_popular_support_bad_I4
				add_idea = SHA_popular_support_bad_I3
			}
		}
		if = {
			limit = { has_idea = SHA_popular_support_bad_I5 }
			swap_ideas = {
				remove_idea = SHA_popular_support_bad_I5
				add_idea = SHA_popular_support_bad_I4
			}
		}
	}
}

SHA_popular_support_get_worse = {

	hidden_effect = {
		if = {
			limit = { has_idea = SHA_popular_support_bad_I5 }

			add_stability = -0.05
		}

		if = {
			limit = { has_idea = SHA_popular_support_bad_I4 }
			swap_ideas = {
				remove_idea = SHA_popular_support_bad_I4
				add_idea = SHA_popular_support_bad_I5
			}
		}
		if = {
			limit = { has_idea = SHA_popular_support_bad_I3 }
			swap_ideas = {
				remove_idea = SHA_popular_support_bad_I3
				add_idea = SHA_popular_support_bad_I4
			}
		}
		if = {
			limit = { has_idea = SHA_popular_support_bad_I2 }
			swap_ideas = {
				remove_idea = SHA_popular_support_bad_I2
				add_idea = SHA_popular_support_bad_I3
			}
		}
		if = {
			limit = { has_idea = SHA_popular_support_bad_I1 }
			swap_ideas = {
				remove_idea = SHA_popular_support_bad_I1
				add_idea = SHA_popular_support_bad_I2
			}
		}
		if = {
			limit = { has_idea = SHA_popular_support_neutral_I0 }
			swap_ideas = {
				remove_idea = SHA_popular_support_neutral_I0
				add_idea = SHA_popular_support_bad_I1
			}
		}
		if = {
			limit = { has_idea = SHA_popular_support_good_I1 }
			swap_ideas = {
				remove_idea = SHA_popular_support_good_I1
				add_idea = SHA_popular_support_neutral_I0
			}
		}
		if = {
			limit = { has_idea = SHA_popular_support_good_I2 }
			swap_ideas = {
				remove_idea = SHA_popular_support_good_I2
				add_idea = SHA_popular_support_good_I1
			}
		}
		if = {
			limit = { has_idea = SHA_popular_support_good_I3 }
			swap_ideas = {
				remove_idea = SHA_popular_support_good_I3
				add_idea = SHA_popular_support_good_I2
			}
		}
		if = {
			limit = { has_idea = SHA_popular_support_good_I4 }
			swap_ideas = {
				remove_idea = SHA_popular_support_good_I4
				add_idea = SHA_popular_support_good_I3
			}
		}
		if = {
			limit = { has_idea = SHA_popular_support_good_I5 }
			swap_ideas = {
				remove_idea = SHA_popular_support_good_I5
				add_idea = SHA_popular_support_good_I4
			}
		}
	}
}



##### EFEECTS based on lvl of POPULAR SUPPORT
# CHI
SHA_to_CHI_effect_base_on_ps = {
	if = {
		if = {
			limit = { has_idea = SHA_popular_support_good_I5 }

			set_temp_variable = { ROOT_ps_var = 11 }
		}
	}
	if = {
		if = {
			limit = { has_idea = SHA_popular_support_good_I4 }

			set_temp_variable = { ROOT_ps_var = 10 }
		}
	}
	if = {
		if = {
			limit = { has_idea = SHA_popular_support_good_I3 }

			set_temp_variable = { ROOT_ps_var = 9 }
		}
	}
	if = {
		if = {
			limit = { has_idea = SHA_popular_support_good_I2 }

			set_temp_variable = { ROOT_ps_var = 8 }
		}
	}
	if = {
		if = {
			limit = { has_idea = SHA_popular_support_good_I1 }

			set_temp_variable = { ROOT_ps_var = 7 }
		}
	}
	if = {
		if = {
			limit = { has_idea = SHA_popular_support_good_I0 }

			set_temp_variable = { ROOT_ps_var = 6 }
		}
	}
	if = {
		if = {
			limit = { has_idea = SHA_popular_support_neutral_I0 }

			set_temp_variable = { ROOT_ps_var = 5 }
		}
	}
	if = {
		if = {
			limit = { has_idea = SHA_popular_support_bad_I1 }

			set_temp_variable = { ROOT_ps_var = 4 }
		}
	}
	if = {
		if = {
			limit = { has_idea = SHA_popular_support_bad_I2 }

			set_temp_variable = { ROOT_ps_var = 3 }
		}
	}
	if = {
		if = {
			limit = { has_idea = SHA_popular_support_bad_I3 }

			set_temp_variable = { ROOT_ps_var = 2 }
		}
	}
	if = {
		if = {
			limit = { has_idea = SHA_popular_support_bad_I4 }

			set_temp_variable = { ROOT_ps_var = 1 }
		}
	}
	if = {
		if = {
			limit = { has_idea = SHA_popular_support_bad_I5 }

			set_temp_variable = { ROOT_ps_var = 0 }
		}
	}

	CHI = {
		if = {
			if = {
				limit = { has_idea = SHA_popular_support_good_I5 }

				set_temp_variable = { CHI_ps_var = 11 }
			}
		}
		if = {
			if = {
				limit = { has_idea = SHA_popular_support_good_I4 }

				set_temp_variable = { CHI_ps_var = 10 }
			}
		}
		if = {
			if = {
				limit = { has_idea = SHA_popular_support_good_I3 }

				set_temp_variable = { CHI_ps_var = 9 }
			}
		}
		if = {
			if = {
				limit = { has_idea = SHA_popular_support_good_I2 }

				set_temp_variable = { CHI_ps_var = 8 }
			}
		}
		if = {
			if = {
				limit = { has_idea = SHA_popular_support_good_I1 }

				set_temp_variable = { CHI_ps_var = 7 }
			}
		}
		if = {
			if = {
				limit = { has_idea = SHA_popular_support_good_I0 }

				set_temp_variable = { CHI_ps_var = 6 }
			}
		}
		if = {
			if = {
				limit = { has_idea = SHA_popular_support_neutral_I0 }

				set_temp_variable = { CHI_ps_var = 5 }
			}
		}
		if = {
			if = {
				limit = { has_idea = SHA_popular_support_bad_I1 }

				set_temp_variable = { CHI_ps_var = 4 }
			}
		}
		if = {
			if = {
				limit = { has_idea = SHA_popular_support_bad_I2 }

				set_temp_variable = { CHI_ps_var = 3 }
			}
		}
		if = {
			if = {
				limit = { has_idea = SHA_popular_support_bad_I3 }

				set_temp_variable = { CHI_ps_var = 2 }
			}
		}
		if = {
			if = {
				limit = { has_idea = SHA_popular_support_bad_I4 }

				set_temp_variable = { CHI_ps_var = 1 }
			}
		}
		if = {
			if = {
				limit = { has_idea = SHA_popular_support_bad_I5 }

				set_temp_variable = { CHI_ps_var = 0 }
			}
		}
	}

	# CALCULATING
	subtract_from_temp_variable = {
		ROOT_ps_var = CHI_ps_var
	}

	# BONUSES/NEGATIVES - always counting with ROOT (if + bonuses, if - negatives)
	# BONUSES
	if = {
		limit = {
			check_variable = {
				var = ROOT_ps_var
				value = 11
				compare = less_than_or_equals
			}
			check_variable = {
				var = ROOT_ps_var
				value = 10
				compare = greater_than
			}
		}

		custom_effect_tooltip = SHA_to_CHI_effect_base_on_ps_good_EXPL

		add_political_power = 100
		add_stability = 0.1
		add_war_support = 0.1
	}
	if = {
		limit = {
			check_variable = {
				var = ROOT_ps_var
				value = 9
				compare = less_than_or_equals
			}
			check_variable = {
				var = ROOT_ps_var
				value = 6
				compare = greater_than
			}
		}

		custom_effect_tooltip = SHA_to_CHI_effect_base_on_ps_good_EXPL

		add_political_power = 75
		add_stability = 0.075
		add_war_support = 0.075
	}
	if = {
		limit = {
			check_variable = {
				var = ROOT_ps_var
				value = 6
				compare = less_than_or_equals
			}
			check_variable = {
				var = ROOT_ps_var
				value = 4
				compare = greater_than
			}
		}

		custom_effect_tooltip = SHA_to_CHI_effect_base_on_ps_good_EXPL

		add_political_power = 50
		add_stability = 0.05
		add_war_support = 0.05
	}
	if = {
		limit = {
			check_variable = {
				var = ROOT_ps_var
				value = 3
				compare = less_than_or_equals
			}
			check_variable = {
				var = ROOT_ps_var
				value = 1
				compare = greater_than
			}
		}

		custom_effect_tooltip = SHA_to_CHI_effect_base_on_ps_good_EXPL

		add_political_power = 25
		add_stability = 0.025
		add_war_support = 0.025
	}

	# NEGATIVES
	if = {
		limit = {
			check_variable = {
				var = ROOT_ps_var
				value = -1
				compare = less_than_or_equals
			}
			check_variable = {
				var = ROOT_ps_var
				value = -3
				compare = greater_than
			}
		}

		custom_effect_tooltip = SHA_to_CHI_effect_base_on_ps_bad_EXPL

		add_political_power = -25
		add_stability = -0.025
		add_war_support = -0.025
	}
	if = {
		limit = {
			check_variable = {
				var = ROOT_ps_var
				value = -3
				compare = less_than_or_equals
			}
			check_variable = {
				var = ROOT_ps_var
				value = -6
				compare = greater_than
			}
		}

		custom_effect_tooltip = SHA_to_CHI_effect_base_on_ps_bad_EXPL

		add_political_power = -50
		add_stability = -0.05
		add_war_support = -0.05
	}
	if = {
		limit = {
			check_variable = {
				var = ROOT_ps_var
				value = -6
				compare = less_than_or_equals
			}
			check_variable = {
				var = ROOT_ps_var
				value = -9
				compare = greater_than
			}
		}

		custom_effect_tooltip = SHA_to_CHI_effect_base_on_ps_bad_EXPL

		add_political_power = -75
		add_stability = -0.075
		add_war_support = -0.075
	}
	if = {
		limit = {
			check_variable = {
				var = ROOT_ps_var
				value = -10
				compare = less_than_or_equals
			}
			check_variable = {
				var = ROOT_ps_var
				value = -11
				compare = greater_than_or_equals
			}
		}

		custom_effect_tooltip = SHA_to_CHI_effect_base_on_ps_bad_EXPL

		add_political_power = -100
		add_stability = -0.1
		add_war_support = -0.1
	}
}

# PRC
SHA_to_PRC_effect_base_on_ps = {
	if = {
		if = {
			limit = { has_idea = SHA_popular_support_good_I5 }

			set_temp_variable = { ROOT_ps_var = 11 }
		}
	}
	if = {
		if = {
			limit = { has_idea = SHA_popular_support_good_I4 }

			set_temp_variable = { ROOT_ps_var = 10 }
		}
	}
	if = {
		if = {
			limit = { has_idea = SHA_popular_support_good_I3 }

			set_temp_variable = { ROOT_ps_var = 9 }
		}
	}
	if = {
		if = {
			limit = { has_idea = SHA_popular_support_good_I2 }

			set_temp_variable = { ROOT_ps_var = 8 }
		}
	}
	if = {
		if = {
			limit = { has_idea = SHA_popular_support_good_I1 }

			set_temp_variable = { ROOT_ps_var = 7 }
		}
	}
	if = {
		if = {
			limit = { has_idea = SHA_popular_support_good_I0 }

			set_temp_variable = { ROOT_ps_var = 6 }
		}
	}
	if = {
		if = {
			limit = { has_idea = SHA_popular_support_neutral_I0 }

			set_temp_variable = { ROOT_ps_var = 5 }
		}
	}
	if = {
		if = {
			limit = { has_idea = SHA_popular_support_bad_I1 }

			set_temp_variable = { ROOT_ps_var = 4 }
		}
	}
	if = {
		if = {
			limit = { has_idea = SHA_popular_support_bad_I2 }

			set_temp_variable = { ROOT_ps_var = 3 }
		}
	}
	if = {
		if = {
			limit = { has_idea = SHA_popular_support_bad_I3 }

			set_temp_variable = { ROOT_ps_var = 2 }
		}
	}
	if = {
		if = {
			limit = { has_idea = SHA_popular_support_bad_I4 }

			set_temp_variable = { ROOT_ps_var = 1 }
		}
	}
	if = {
		if = {
			limit = { has_idea = SHA_popular_support_bad_I5 }

			set_temp_variable = { ROOT_ps_var = 0 }
		}
	}

	PRC = {
		if = {
			if = {
				limit = { has_idea = SHA_popular_support_good_I5 }

				set_temp_variable = { PRC_ps_var = 11 }
			}
		}
		if = {
			if = {
				limit = { has_idea = SHA_popular_support_good_I4 }

				set_temp_variable = { PRC_ps_var = 10 }
			}
		}
		if = {
			if = {
				limit = { has_idea = SHA_popular_support_good_I3 }

				set_temp_variable = { PRC_ps_var = 9 }
			}
		}
		if = {
			if = {
				limit = { has_idea = SHA_popular_support_good_I2 }

				set_temp_variable = { PRC_ps_var = 8 }
			}
		}
		if = {
			if = {
				limit = { has_idea = SHA_popular_support_good_I1 }

				set_temp_variable = { PRC_ps_var = 7 }
			}
		}
		if = {
			if = {
				limit = { has_idea = SHA_popular_support_good_I0 }

				set_temp_variable = { PRC_ps_var = 6 }
			}
		}
		if = {
			if = {
				limit = { has_idea = SHA_popular_support_neutral_I0 }

				set_temp_variable = { PRC_ps_var = 5 }
			}
		}
		if = {
			if = {
				limit = { has_idea = SHA_popular_support_bad_I1 }

				set_temp_variable = { PRC_ps_var = 4 }
			}
		}
		if = {
			if = {
				limit = { has_idea = SHA_popular_support_bad_I2 }

				set_temp_variable = { PRC_ps_var = 3 }
			}
		}
		if = {
			if = {
				limit = { has_idea = SHA_popular_support_bad_I3 }

				set_temp_variable = { PRC_ps_var = 2 }
			}
		}
		if = {
			if = {
				limit = { has_idea = SHA_popular_support_bad_I4 }

				set_temp_variable = { PRC_ps_var = 1 }
			}
		}
		if = {
			if = {
				limit = { has_idea = SHA_popular_support_bad_I5 }

				set_temp_variable = { PRC_ps_var = 0 }
			}
		}
	}

	# CALCULATING
	subtract_from_temp_variable = {
		ROOT_ps_var = PRC_ps_var
	}

	# BONUSES/NEGATIVES - always counting with ROOT (if + bonuses, if - negatives)
	# BONUSES
	if = {
		limit = {
			check_variable = {
				var = ROOT_ps_var
				value = 11
				compare = less_than_or_equals
			}
			check_variable = {
				var = ROOT_ps_var
				value = 10
				compare = greater_than
			}
		}

		custom_effect_tooltip = SHA_to_PRC_effect_base_on_ps_good_EXPL

		add_political_power = 100
		add_stability = 0.1
		add_war_support = 0.1
	}
	if = {
		limit = {
			check_variable = {
				var = ROOT_ps_var
				value = 9
				compare = less_than_or_equals
			}
			check_variable = {
				var = ROOT_ps_var
				value = 6
				compare = greater_than
			}
		}

		custom_effect_tooltip = SHA_to_PRC_effect_base_on_ps_good_EXPL

		add_political_power = 75
		add_stability = 0.075
		add_war_support = 0.075
	}
	if = {
		limit = {
			check_variable = {
				var = ROOT_ps_var
				value = 6
				compare = less_than_or_equals
			}
			check_variable = {
				var = ROOT_ps_var
				value = 4
				compare = greater_than
			}
		}

		custom_effect_tooltip = SHA_to_PRC_effect_base_on_ps_good_EXPL

		add_political_power = 50
		add_stability = 0.05
		add_war_support = 0.05
	}
	if = {
		limit = {
			check_variable = {
				var = ROOT_ps_var
				value = 3
				compare = less_than_or_equals
			}
			check_variable = {
				var = ROOT_ps_var
				value = 1
				compare = greater_than
			}
		}

		custom_effect_tooltip = SHA_to_PRC_effect_base_on_ps_good_EXPL

		add_political_power = 25
		add_stability = 0.025
		add_war_support = 0.025
	}

	# NEGATIVES
	if = {
		limit = {
			check_variable = {
				var = ROOT_ps_var
				value = -1
				compare = less_than_or_equals
			}
			check_variable = {
				var = ROOT_ps_var
				value = -3
				compare = greater_than
			}
		}

		custom_effect_tooltip = SHA_to_PRC_effect_base_on_ps_bad_EXPL

		add_political_power = -25
		add_stability = -0.025
		add_war_support = -0.025
	}
	if = {
		limit = {
			check_variable = {
				var = ROOT_ps_var
				value = -3
				compare = less_than_or_equals
			}
			check_variable = {
				var = ROOT_ps_var
				value = -6
				compare = greater_than
			}
		}

		custom_effect_tooltip = SHA_to_PRC_effect_base_on_ps_bad_EXPL

		add_political_power = -50
		add_stability = -0.05
		add_war_support = -0.05
	}
	if = {
		limit = {
			check_variable = {
				var = ROOT_ps_var
				value = -6
				compare = less_than_or_equals
			}
			check_variable = {
				var = ROOT_ps_var
				value = -9
				compare = greater_than
			}
		}

		custom_effect_tooltip = SHA_to_PRC_effect_base_on_ps_bad_EXPL

		add_political_power = -75
		add_stability = -0.075
		add_war_support = -0.075
	}
	if = {
		limit = {
			check_variable = {
				var = ROOT_ps_var
				value = -10
				compare = less_than_or_equals
			}
			check_variable = {
				var = ROOT_ps_var
				value = -11
				compare = greater_than_or_equals
			}
		}

		custom_effect_tooltip = SHA_to_PRC_effect_base_on_ps_bad_EXPL

		add_political_power = -100
		add_stability = -0.1
		add_war_support = -0.1
	}
}

# MAN
SHA_to_MAN_effect_base_on_ps = {
	if = {
		if = {
			limit = { has_idea = SHA_popular_support_good_I5 }

			set_temp_variable = { ROOT_ps_var = 11 }
		}
	}
	if = {
		if = {
			limit = { has_idea = SHA_popular_support_good_I4 }

			set_temp_variable = { ROOT_ps_var = 10 }
		}
	}
	if = {
		if = {
			limit = { has_idea = SHA_popular_support_good_I3 }

			set_temp_variable = { ROOT_ps_var = 9 }
		}
	}
	if = {
		if = {
			limit = { has_idea = SHA_popular_support_good_I2 }

			set_temp_variable = { ROOT_ps_var = 8 }
		}
	}
	if = {
		if = {
			limit = { has_idea = SHA_popular_support_good_I1 }

			set_temp_variable = { ROOT_ps_var = 7 }
		}
	}
	if = {
		if = {
			limit = { has_idea = SHA_popular_support_good_I0 }

			set_temp_variable = { ROOT_ps_var = 6 }
		}
	}
	if = {
		if = {
			limit = { has_idea = SHA_popular_support_neutral_I0 }

			set_temp_variable = { ROOT_ps_var = 5 }
		}
	}
	if = {
		if = {
			limit = { has_idea = SHA_popular_support_bad_I1 }

			set_temp_variable = { ROOT_ps_var = 4 }
		}
	}
	if = {
		if = {
			limit = { has_idea = SHA_popular_support_bad_I2 }

			set_temp_variable = { ROOT_ps_var = 3 }
		}
	}
	if = {
		if = {
			limit = { has_idea = SHA_popular_support_bad_I3 }

			set_temp_variable = { ROOT_ps_var = 2 }
		}
	}
	if = {
		if = {
			limit = { has_idea = SHA_popular_support_bad_I4 }

			set_temp_variable = { ROOT_ps_var = 1 }
		}
	}
	if = {
		if = {
			limit = { has_idea = SHA_popular_support_bad_I5 }

			set_temp_variable = { ROOT_ps_var = 0 }
		}
	}

	MAN = {
		if = {
			if = {
				limit = { has_idea = SHA_popular_support_good_I5 }

				set_temp_variable = { MAN_ps_var = 11 }
			}
		}
		if = {
			if = {
				limit = { has_idea = SHA_popular_support_good_I4 }

				set_temp_variable = { MAN_ps_var = 10 }
			}
		}
		if = {
			if = {
				limit = { has_idea = SHA_popular_support_good_I3 }

				set_temp_variable = { MAN_ps_var = 9 }
			}
		}
		if = {
			if = {
				limit = { has_idea = SHA_popular_support_good_I2 }

				set_temp_variable = { MAN_ps_var = 8 }
			}
		}
		if = {
			if = {
				limit = { has_idea = SHA_popular_support_good_I1 }

				set_temp_variable = { MAN_ps_var = 7 }
			}
		}
		if = {
			if = {
				limit = { has_idea = SHA_popular_support_good_I0 }

				set_temp_variable = { MAN_ps_var = 6 }
			}
		}
		if = {
			if = {
				limit = { has_idea = SHA_popular_support_neutral_I0 }

				set_temp_variable = { MAN_ps_var = 5 }
			}
		}
		if = {
			if = {
				limit = { has_idea = SHA_popular_support_bad_I1 }

				set_temp_variable = { MAN_ps_var = 4 }
			}
		}
		if = {
			if = {
				limit = { has_idea = SHA_popular_support_bad_I2 }

				set_temp_variable = { MAN_ps_var = 3 }
			}
		}
		if = {
			if = {
				limit = { has_idea = SHA_popular_support_bad_I3 }

				set_temp_variable = { MAN_ps_var = 2 }
			}
		}
		if = {
			if = {
				limit = { has_idea = SHA_popular_support_bad_I4 }

				set_temp_variable = { MAN_ps_var = 1 }
			}
		}
		if = {
			if = {
				limit = { has_idea = SHA_popular_support_bad_I5 }

				set_temp_variable = { MAN_ps_var = 0 }
			}
		}
	}

	# CALCULATING
	subtract_from_temp_variable = {
		ROOT_ps_var = MAN_ps_var
	}

	# BONUSES/NEGATIVES - always counting with ROOT (if + bonuses, if - negatives)
	# BONUSES
	if = {
		limit = {
			check_variable = {
				var = ROOT_ps_var
				value = 11
				compare = less_than_or_equals
			}
			check_variable = {
				var = ROOT_ps_var
				value = 10
				compare = greater_than
			}
		}

		custom_effect_tooltip = SHA_to_MAN_effect_base_on_ps_good_EXPL

		add_political_power = 100
		add_stability = 0.1
		add_war_support = 0.1
	}
	if = {
		limit = {
			check_variable = {
				var = ROOT_ps_var
				value = 9
				compare = less_than_or_equals
			}
			check_variable = {
				var = ROOT_ps_var
				value = 6
				compare = greater_than
			}
		}

		custom_effect_tooltip = SHA_to_MAN_effect_base_on_ps_good_EXPL

		add_political_power = 75
		add_stability = 0.075
		add_war_support = 0.075
	}
	if = {
		limit = {
			check_variable = {
				var = ROOT_ps_var
				value = 6
				compare = less_than_or_equals
			}
			check_variable = {
				var = ROOT_ps_var
				value = 4
				compare = greater_than
			}
		}

		custom_effect_tooltip = SHA_to_MAN_effect_base_on_ps_good_EXPL

		add_political_power = 50
		add_stability = 0.05
		add_war_support = 0.05
	}
	if = {
		limit = {
			check_variable = {
				var = ROOT_ps_var
				value = 3
				compare = less_than_or_equals
			}
			check_variable = {
				var = ROOT_ps_var
				value = 1
				compare = greater_than
			}
		}

		custom_effect_tooltip = SHA_to_MAN_effect_base_on_ps_good_EXPL

		add_political_power = 25
		add_stability = 0.025
		add_war_support = 0.025
	}

	# NEGATIVES
	if = {
		limit = {
			check_variable = {
				var = ROOT_ps_var
				value = -1
				compare = less_than_or_equals
			}
			check_variable = {
				var = ROOT_ps_var
				value = -3
				compare = greater_than
			}
		}

		custom_effect_tooltip = SHA_to_MAN_effect_base_on_ps_bad_EXPL

		add_political_power = -25
		add_stability = -0.025
		add_war_support = -0.025
	}
	if = {
		limit = {
			check_variable = {
				var = ROOT_ps_var
				value = -3
				compare = less_than_or_equals
			}
			check_variable = {
				var = ROOT_ps_var
				value = -6
				compare = greater_than
			}
		}

		custom_effect_tooltip = SHA_to_MAN_effect_base_on_ps_bad_EXPL

		add_political_power = -50
		add_stability = -0.05
		add_war_support = -0.05
	}
	if = {
		limit = {
			check_variable = {
				var = ROOT_ps_var
				value = -6
				compare = less_than_or_equals
			}
			check_variable = {
				var = ROOT_ps_var
				value = -9
				compare = greater_than
			}
		}

		custom_effect_tooltip = SHA_to_MAN_effect_base_on_ps_bad_EXPL

		add_political_power = -75
		add_stability = -0.075
		add_war_support = -0.075
	}
	if = {
		limit = {
			check_variable = {
				var = ROOT_ps_var
				value = -10
				compare = less_than_or_equals
			}
			check_variable = {
				var = ROOT_ps_var
				value = -11
				compare = greater_than_or_equals
			}
		}

		custom_effect_tooltip = SHA_to_MAN_effect_base_on_ps_bad_EXPL

		add_political_power = -100
		add_stability = -0.1
		add_war_support = -0.1
	}
}


PRC_create_wargoal_for_dongbei = {
	custom_effect_tooltip = PRC_create_wargoal_for_db_tt
	hidden_effect = {
		every_country = {
			limit = {
				any_owned_state = {
					OR = {
						region = 155
						region = 143
					}
				}
				NOT = { tag = ROOT }
			}
			ROOT = {
						create_wargoal = {			
				expire = 100
					target = PREV
					type = take_state_focus
				}
			}
		}
	}
}


### anchor_1 ###
gain_central_plain_wargoal = {
	custom_effect_tooltip = MCK_reclaim_central_plain_tt
	hidden_effect = {
		every_country = {
			limit = {
				any_owned_state = {
					OR = {
						region = 143
						region = 164
						region = 165
						region = 144
						region = 200
					}
					NOT = { state = 601 }
				}
				NOT = { tag = ROOT }
			}
			ROOT = {
						create_wargoal = {			
				expire = 100
					target = PREV
					type = take_state_focus
				}
			}
		}
	}
}
### anchor_2 ###

old_frontier_get_wargoal = {
	custom_effect_tooltip = MCK_restore_frontier_tt
	hidden_effect = {
		every_country = {
			limit = {
				any_owned_state = {
					OR = {
						region = 146
						region = 145
						region = 152
						state = 601
					}
					NOT = {
						state = 323
						state = 441
					}
				}
				NOT = { tag = ROOT }
			}
			ROOT = {
						create_wargoal = {			
				expire = 100
					target = PREV
					type = take_state_focus
				}
			}
		}
	}
}
### anchor_3 ###

gain_fareast_wargoal = {
	custom_effect_tooltip = PRC_get_wargoal_for_fareast_tt
	hidden_effect = {
		every_country = {
			limit = {
				any_owned_state = {
					region = 148
				}
				NOT = { tag = ROOT }
			}
			ROOT = {
						create_wargoal = {			
				expire = 100
					target = PREV
					type = take_state_focus
				}
			}
		}
	}
}
### anchor_4 ###

KMT_north_plan_wargoal = {
	custom_effect_tooltip = KMT_north_plan_effect_tt
	hidden_effect = {
		every_country = {
			limit = {
				any_owned_state = {
					OR = {
						region = 143
						region = 155
					}
				}
				NOT = {
					tag = ROOT
					is_chinese_nations = yes
				}
			}
			ROOT = {
						create_wargoal = {			
				expire = 100
					target = PREV
					type = take_state_focus
				}
			}
		}
	}
}
### anchor_5 ###

add_xian_rejected_num = {
	if = {
		limit = {
			has_country_flag = {
				flag = KMT_xian_rejected_num
				value < 2
			}
		}
		set_country_flag = {
			flag = KMT_xian_rejected_num
			value = 1
		}
		else = {
			modify_country_flag = {
				flag = KMT_xian_rejected_num
				value = 1
			}
		}
	}
}


withdraw_from_all_wars_with_puppet = {
	if = {
		limit = {
			has_government = neutrality
		}
		random_other_country = {
			limit = {
				has_government = neutrality
				has_war = no
				exists = yes
			}
			puppet = ROOT
			end_puppet = ROOT
		}
		if = {
			limit = {
				NOT = {
					any_country = {
						NOT = { tag = ROOT }
						has_government = neutrality
						has_war = no
						exists = yes
					}
				}
			}
			random_other_country = {
				limit = {
					has_war = no
				}
				puppet = ROOT
				end_puppet = ROOT
			}
		}
		add_popularity = {
			ideology = neutrality
			popularity = 0.95
		}
	}
	if = {
		limit = {
			has_government = fascism
		}
		random_other_country = {
			limit = {
				has_government = fascism
				has_war = no
				exists = yes
			}
			puppet = ROOT
			end_puppet = ROOT
		}
		if = {
			limit = {
				NOT = {
					any_country = {
						NOT = { tag = ROOT }
						has_government = fascism
						has_war = no
						exists = yes
					}
				}
			}
			random_other_country = {
				limit = {
					has_war = no
				}
				puppet = ROOT
				end_puppet = ROOT
			}
		}
		add_popularity = {
			ideology = fascism
			popularity = 0.95
		}
	}
	if = {
		limit = {
			has_government = communism
		}
		random_other_country = {
			limit = {
				has_government = communism
				has_war = no
				exists = yes
			}
			puppet = ROOT
			end_puppet = ROOT
		}
		if = {
			limit = {
				NOT = {
					any_country = {
						NOT = { tag = ROOT }
						has_government = communism
						has_war = no
						exists = yes
					}
				}
			}
			random_other_country = {
				limit = {
					has_war = no
				}
				puppet = ROOT
				end_puppet = ROOT
			}
		}
		add_popularity = {
			ideology = communism
			popularity = 0.95
		}
	}
	if = {
		limit = {
			has_government = democratic
		}
		random_other_country = {
			limit = {
				has_government = democratic
				has_war = no
				exists = yes
			}
			puppet = ROOT
			end_puppet = ROOT
		}
		if = {
			limit = {
				NOT = {
					any_country = {
						NOT = { tag = ROOT }
						has_government = democratic
						has_war = no
						exists = yes
					}
				}
			}
			random_other_country = {
				limit = {
					has_war = no
				}
				puppet = ROOT
				end_puppet = ROOT
			}
		}
		add_popularity = {
			ideology = democratic
			popularity = 0.95
		}
	}
	if = {
		limit = {
			is_in_faction = yes
		}
		random_country = {
			limit = {
				is_faction_leader = yes
				is_in_faction_with = ROOT
			}
			remove_from_faction = ROOT
		}
	}
}

#increase_jap_awareness = {
#	custom_effect_tooltip = increase_jap_awareness_tt
#	if = {
#		limit = {
#			has_country_flag = {
#				flag = MCK_jap_awareness_flag
#				value > 3
#			}
#			has_country_flag = {
#				flag = MCK_jap_awareness_flag
#				value < 5
#			}
#			has_idea = jap_aware_0
#			NOT = {
#				has_idea = jap_aware_1
#			}
#		}
#		swap_ideas = {
#			remove_idea = jap_aware_0
#			add_idea = jap_aware_1
#		}
#	}
#	if = {
#		limit = {
#			has_country_flag = {
#				flag = MCK_jap_awareness_flag
#				value > 8
#			}
#			has_country_flag = {
#				flag = MCK_jap_awareness_flag
#				value < 10
#			}
#			has_idea = jap_aware_1
#			NOT = {
#				has_idea = jap_aware_2
#			}
#		}
#		swap_ideas = {
#			remove_idea = jap_aware_1
#			add_idea = jap_aware_2
#		}
#	}
#	if = {
#		limit = {
#			has_country_flag = {
#				flag = MCK_jap_awareness_flag
#				value > 13
#			}
#			has_country_flag = {
#				flag = MCK_jap_awareness_flag
#				value < 15
#			}
#			has_idea = jap_aware_2
#			NOT = {
#				has_idea = jap_aware_3
#			}
#		}
#		swap_ideas = {
#			remove_idea = jap_aware_2
#			add_idea = jap_aware_3
#		}
#	}
#	if = {
#		limit = {
#			has_country_flag = {
#				flag = MCK_jap_awareness_flag
#				value > 18
#			}
#			has_country_flag = {
#				flag = MCK_jap_awareness_flag
#				value < 20
#			}
#			has_idea = jap_aware_3
#		}
#		remove_ideas = jap_aware_3
#		add_ideas = aware_unavailable_idea
#		add_ideas = aware_unavailable_idea
#		custom_effect_tooltip = MCK_jap_will_demand_submission_tt
#		JAP = { country_event = jap.79 }
#	}
#	modify_country_flag = {
#		flag = MCK_jap_awareness_flag
#		value = 1
#	}
#}

#increase_jap_awareness2 = {
#	custom_effect_tooltip = increase_jap_awareness2_tt
#	if = {
#		limit = {
#			has_country_flag = {
#				flag = MCK_jap_awareness_flag
#				value > 2
#			}
#			has_country_flag = {
#				flag = MCK_jap_awareness_flag
#				value < 5
#			}
#			has_idea = jap_aware_0
#			NOT = {
#				has_idea = jap_aware_1
#			}
#		}
#		swap_ideas = {
#			remove_idea = jap_aware_0
#			add_idea = jap_aware_1
#		}
#	}
#	if = {
#		limit = {
#			has_country_flag = {
#				flag = MCK_jap_awareness_flag
#				value > 7
#			}
#			has_country_flag = {
#				flag = MCK_jap_awareness_flag
#				value < 10
#			}
#			has_idea = jap_aware_1
#			NOT = {
#				has_idea = jap_aware_2
#			}
#		}
#		swap_ideas = {
#			remove_idea = jap_aware_1
#			add_idea = jap_aware_2
#		}
#	}
#	if = {
#		limit = {
#			has_country_flag = {
#				flag = MCK_jap_awareness_flag
#				value > 12
#			}
#			has_country_flag = {
#				flag = MCK_jap_awareness_flag
#				value < 15
#			}
#			has_idea = jap_aware_2
#			NOT = {
#				has_idea = jap_aware_3
#			}
#		}
#		swap_ideas = {
#			remove_idea = jap_aware_2
#			add_idea = jap_aware_3
#		}
#	}
#	if = {
#		limit = {
#			has_country_flag = {
#				flag = MCK_jap_awareness_flag
#				value > 17
#			}
#			has_country_flag = {
#				flag = MCK_jap_awareness_flag
#				value < 20
#			}
#			has_idea = jap_aware_3
#		}
#		remove_ideas = jap_aware_3
#		add_ideas = aware_unavailable_idea
#		custom_effect_tooltip = MCK_jap_will_demand_submission_tt
#		JAP = { country_event = jap.79 }
#	}
#	modify_country_flag = {
#		flag = MCK_jap_awareness_flag
#		value = 2
#	}
#}

#increase_jap_awareness3 = {
#	custom_effect_tooltip = increase_jap_awareness3_tt
#	if = {
#		limit = {
#			has_country_flag = {
#				flag = MCK_jap_awareness_flag
#				value > 1
#			}
#			has_country_flag = {
#				flag = MCK_jap_awareness_flag
#				value < 5
#			}
#			has_idea = jap_aware_0
#			NOT = {
#				has_idea = jap_aware_1
#			}
#		}
#		swap_ideas = {
#			remove_idea = jap_aware_0
#			add_idea = jap_aware_1
#		}
#	}
#	if = {
#		limit = {
#			has_country_flag = {
#				flag = MCK_jap_awareness_flag
#				value > 6
#			}
#			has_country_flag = {
#				flag = MCK_jap_awareness_flag
#				value < 10
#			}
#			has_idea = jap_aware_1
#			NOT = {
#				has_idea = jap_aware_2
#			}
#		}
#		swap_ideas = {
#			remove_idea = jap_aware_1
#			add_idea = jap_aware_2
#		}
#	}
#	if = {
#		limit = {
#			has_country_flag = {
#				flag = MCK_jap_awareness_flag
#				value > 11
#			}
#			has_country_flag = {
#				flag = MCK_jap_awareness_flag
#				value < 15
#			}
#			has_idea = jap_aware_2
#			NOT = {
#				has_idea = jap_aware_3
#			}
#		}
#		swap_ideas = {
#			remove_idea = jap_aware_2
#			add_idea = jap_aware_3
#		}
#	}
#	if = {
#		limit = {
#			has_country_flag = {
#				flag = MCK_jap_awareness_flag
#				value > 16
#			}
#			has_country_flag = {
#				flag = MCK_jap_awareness_flag
#				value < 20
#			}
#			has_idea = jap_aware_3
#		}
#		remove_ideas = jap_aware_3
#		add_ideas = aware_unavailable_idea
#		custom_effect_tooltip = MCK_jap_will_demand_submission_tt
#		JAP = { country_event = jap.79 }
#	}
#	modify_country_flag = {
#		flag = MCK_jap_awareness_flag
#		value = 3
#	}
#}

#increase_jap_awareness4 = {
#	custom_effect_tooltip = increase_jap_awareness4_tt
#	if = {
#		limit = {
#			has_country_flag = {
#				flag = MCK_jap_awareness_flag
#				value > 0
#			}
#			has_country_flag = {
#				flag = MCK_jap_awareness_flag
#				value < 5
#			}
#			has_idea = jap_aware_0
#			NOT = {
#				has_idea = jap_aware_1
#			}
#		}
#		swap_ideas = {
#			remove_idea = jap_aware_0
#			add_idea = jap_aware_1
#		}
#	}
#	if = {
#		limit = {
#			has_country_flag = {
#				flag = MCK_jap_awareness_flag
#				value > 5
#			}
#			has_country_flag = {
#				flag = MCK_jap_awareness_flag
#				value < 10
#			}
#			has_idea = jap_aware_1
#			NOT = {
#				has_idea = jap_aware_2
#			}
#		}
#		swap_ideas = {
#			remove_idea = jap_aware_1
#			add_idea = jap_aware_2
#		}
#	}
#	if = {
#		limit = {
#			has_country_flag = {
#				flag = MCK_jap_awareness_flag
#				value > 10
#			}
#			has_country_flag = {
#				flag = MCK_jap_awareness_flag
#				value < 15
#			}
#			has_idea = jap_aware_2
#			NOT = {
#				has_idea = jap_aware_3
#			}
#		}
#		swap_ideas = {
#			remove_idea = jap_aware_2
#			add_idea = jap_aware_3
#		}
#	}
#	if = {
#		limit = {
#			has_country_flag = {
#				flag = MCK_jap_awareness_flag
#				value > 15
#			}
#			has_country_flag = {
#				flag = MCK_jap_awareness_flag
#				value < 20
#			}
#			has_idea = jap_aware_3
#		}
#		remove_ideas = jap_aware_3
#		add_ideas = aware_unavailable_idea
#		custom_effect_tooltip = MCK_jap_will_demand_submission_tt
#		JAP = { country_event = jap.79 }
#	}
#	modify_country_flag = {
#		flag = MCK_jap_awareness_flag
#		value = 4
#	}
#}


KMT_take_pacific_wargoal = {
	custom_effect_tooltip = KMT_take_pacific_tt
	hidden_effect = {
		if = {
			limit = {
				526 = {
					owner = {
						NOT = {
							tag = ROOT
							is_puppet_of = ROOT
						}
					}
				}
			}
			if = {
				limit = {
					526 = {
						owner = { is_puppet = no }
					}
				}
				526 = {
					owner = {
						save_event_target_as = KMTtakepac_526_owner
					}
				}
				else = {
					526 = {
						owner = {
							overlord = {
								save_event_target_as = KMTtakepac_526_owner
							}
						}
					}
				}
			}
		}
		if = {
			limit = {
				524 = {
					owner = {
						NOT = {
							tag = ROOT
							is_puppet_of = ROOT
						}
					}
				}
			}
			if = {
				limit = {
					524 = {
						owner = { is_puppet = no }
					}
				}
				524 = {
					owner = {
						save_event_target_as = KMTtakepac_524_owner
					}
				}
				else = {
					524 = {
						owner = {
							overlord = {
								save_event_target_as = KMTtakepac_524_owner
							}
						}
					}
				}
			}
		}
		if = {
			limit = {
				528 = {
					owner = {
						NOT = {
							tag = ROOT
							is_puppet_of = ROOT
						}
					}
				}
			}
			if = {
				limit = {
					528 = {
						owner = { is_puppet = no }
					}
				}
				528 = {
					owner = {
						save_event_target_as = KMTtakepac_528_owner
					}
				}
				else = {
					528 = {
						owner = {
							overlord = {
								save_event_target_as = KMTtakepac_528_owner
							}
						}
					}
				}
			}
		}
		if = {
			limit = {
				529 = {
					owner = {
						NOT = {
							tag = ROOT
							is_puppet_of = ROOT
						}
					}
				}
			}
			if = {
				limit = {
					529 = {
						owner = { is_puppet = no }
					}
				}
				529 = {
					owner = {
						save_event_target_as = KMTtakepac_529_owner
					}
				}
				else = {
					529 = {
						owner = {
							overlord = {
								save_event_target_as = KMTtakepac_529_owner
							}
						}
					}
				}
			}
		}
		if = {
			limit = {
				530 = {
					owner = {
						NOT = {
							tag = ROOT
							is_puppet_of = ROOT
						}
					}
				}
			}
			if = {
				limit = {
					530 = {
						owner = { is_puppet = no }
					}
				}
				530 = {
					owner = {
						save_event_target_as = KMTtakepac_530_owner
					}
				}
				else = {
					530 = {
						owner = {
							overlord = {
								save_event_target_as = KMTtakepac_530_owner
							}
						}
					}
				}
			}
		}
		if = {
			limit = {
				531 = {
					owner = {
						NOT = {
							tag = ROOT
							is_puppet_of = ROOT
						}
					}
				}
			}
			if = {
				limit = {
					531 = {
						owner = { is_puppet = no }
					}
				}
				531 = {
					owner = {
						save_event_target_as = KMTtakepac_531_owner
					}
				}
				else = {
					531 = {
						owner = {
							overlord = {
								save_event_target_as = KMTtakepac_531_owner
							}
						}
					}
				}
			}
		}
		if = {
			limit = {
				532 = {
					owner = {
						NOT = {
							tag = ROOT
							is_puppet_of = ROOT
						}
					}
				}
			}
			if = {
				limit = {
					532 = {
						owner = { is_puppet = no }
					}
				}
				532 = {
					owner = {
						save_event_target_as = KMTtakepac_532_owner
					}
				}
				else = {
					532 = {
						owner = {
							overlord = {
								save_event_target_as = KMTtakepac_532_owner
							}
						}
					}
				}
			}
		}
		if = {
			limit = {
				282 = {
					owner = {
						NOT = {
							tag = ROOT
							is_puppet_of = ROOT
						}
					}
				}
			}
			if = {
				limit = {
					282 = {
						owner = { is_puppet = no }
					}
				}
				282 = {
					owner = {
						save_event_target_as = KMTtakepac_282_owner
					}
				}
				else = {
					282 = {
						owner = {
							overlord = {
								save_event_target_as = KMTtakepac_282_owner
							}
						}
					}
				}
			}
		}
		if = {
			limit = {
				535 = {
					owner = {
						NOT = {
							tag = ROOT
							is_puppet_of = ROOT
						}
					}
				}
			}
			if = {
				limit = {
					535 = {
						owner = { is_puppet = no }
					}
				}
				535 = {
					owner = {
						save_event_target_as = KMTtakepac_535_owner
					}
				}
				else = {
					535 = {
						owner = {
							overlord = {
								save_event_target_as = KMTtakepac_535_owner
							}
						}
					}
				}
			}
		}
		if = {
			limit = {
				534 = {
					owner = {
						NOT = {
							tag = ROOT
							is_puppet_of = ROOT
						}
					}
				}
			}
			if = {
				limit = {
					534 = {
						owner = { is_puppet = no }
					}
				}
				534 = {
					owner = {
						save_event_target_as = KMTtakepac_534_owner
					}
				}
				else = {
					534 = {
						owner = {
							overlord = {
								save_event_target_as = KMTtakepac_534_owner
							}
						}
					}
				}
			}
		}
		if = {
			limit = {
				533 = {
					owner = {
						NOT = {
							tag = ROOT
							is_puppet_of = ROOT
						}
					}
				}
			}
			if = {
				limit = {
					533 = {
						owner = { is_puppet = no }
					}
				}
				533 = {
					owner = {
						save_event_target_as = KMTtakepac_533_owner
					}
				}
				else = {
					533 = {
						owner = {
							overlord = {
								save_event_target_as = KMTtakepac_533_owner
							}
						}
					}
				}
			}
		}
		if = {
			limit = {
				536 = {
					owner = {
						NOT = {
							tag = ROOT
							is_puppet_of = ROOT
						}
					}
				}
			}
			if = {
				limit = {
					536 = {
						owner = { is_puppet = no }
					}
				}
				536 = {
					owner = {
						save_event_target_as = KMTtakepac_536_owner
					}
				}
				else = {
					536 = {
						owner = {
							overlord = {
								save_event_target_as = KMTtakepac_536_owner
							}
						}
					}
				}
			}
		}
		if = {
			limit = {
				555 = {
					owner = {
						NOT = {
							tag = ROOT
							is_puppet_of = ROOT
						}
					}
				}
			}
			if = {
				limit = {
					555 = {
						owner = { is_puppet = no }
					}
				}
				555 = {
					owner = {
						save_event_target_as = KMTtakepac_555_owner
					}
				}
				else = {
					555 = {
						owner = {
							overlord = {
								save_event_target_as = KMTtakepac_555_owner
							}
						}
					}
				}
			}
		}
		if = {
			limit = {
				645 = {
					owner = {
						NOT = {
							tag = ROOT
							is_puppet_of = ROOT
						}
					}
				}
			}
			if = {
				limit = {
					645 = {
						owner = { is_puppet = no }
					}
				}
				645 = {
					owner = {
						save_event_target_as = KMTtakepac_645_owner
					}
				}
				else = {
					645 = {
						owner = {
							overlord = {
								save_event_target_as = KMTtakepac_645_owner
							}
						}
					}
				}
			}
		}
		if = {
			limit = {
				525 = {
					owner = {
						NOT = {
							tag = ROOT
							is_puppet_of = ROOT
						}
					}
				}
			}
			if = {
				limit = {
					525 = {
						owner = { is_puppet = no }
					}
				}
				525 = {
					owner = {
						save_event_target_as = KMTtakepac_525_owner
					}
				}
				else = {
					525 = {
						owner = {
							overlord = {
								save_event_target_as = KMTtakepac_525_owner
							}
						}
					}
				}
			}
		}
		if = {
			limit = {
				527 = {
					owner = {
						NOT = {
							tag = ROOT
							is_puppet_of = ROOT
						}
					}
				}
			}
			if = {
				limit = {
					527 = {
						owner = { is_puppet = no }
					}
				}
				527 = {
					owner = {
						save_event_target_as = KMTtakepac_527_owner
					}
				}
				else = {
					527 = {
						owner = {
							overlord = {
								save_event_target_as = KMTtakepac_527_owner
							}
						}
					}
				}
			}
		}
		if = {
			limit = {
				648 = {
					owner = {
						NOT = {
							tag = ROOT
							is_puppet_of = ROOT
						}
					}
				}
			}
			if = {
				limit = {
					648 = {
						owner = { is_puppet = no }
					}
				}
				648 = {
					owner = {
						save_event_target_as = KMTtakepac_648_owner
					}
				}
				else = {
					648 = {
						owner = {
							overlord = {
								save_event_target_as = KMTtakepac_648_owner
							}
						}
					}
				}
			}
		}
		if = {
			limit = {
				646 = {
					owner = {
						NOT = {
							tag = ROOT
							is_puppet_of = ROOT
						}
					}
				}
			}
			if = {
				limit = {
					646 = {
						owner = { is_puppet = no }
					}
				}
				646 = {
					owner = {
						save_event_target_as = KMTtakepac_646_owner
					}
				}
				else = {
					646 = {
						owner = {
							overlord = {
								save_event_target_as = KMTtakepac_646_owner
							}
						}
					}
				}
			}
		}
		if = {
			limit = {
				638 = {
					owner = {
						NOT = {
							tag = ROOT
							is_puppet_of = ROOT
						}
					}
				}
			}
			if = {
				limit = {
					638 = {
						owner = { is_puppet = no }
					}
				}
				638 = {
					owner = {
						save_event_target_as = KMTtakepac_638_owner
					}
				}
				else = {
					638 = {
						owner = {
							overlord = {
								save_event_target_as = KMTtakepac_638_owner
							}
						}
					}
				}
			}
		}
		if = {
			limit = {
				647 = {
					owner = {
						NOT = {
							tag = ROOT
							is_puppet_of = ROOT
						}
					}
				}
			}
			if = {
				limit = {
					647 = {
						owner = { is_puppet = no }
					}
				}
				647 = {
					owner = {
						save_event_target_as = KMTtakepac_647_owner
					}
				}
				else = {
					647 = {
						owner = {
							overlord = {
								save_event_target_as = KMTtakepac_647_owner
							}
						}
					}
				}
			}
		}
		if = {
			limit = {
				684 = {
					owner = {
						NOT = {
							tag = ROOT
							is_puppet_of = ROOT
						}
					}
				}
			}
			if = {
				limit = {
					684 = {
						owner = { is_puppet = no }
					}
				}
				684 = {
					owner = {
						save_event_target_as = KMTtakepac_684_owner
					}
				}
				else = {
					684 = {
						owner = {
							overlord = {
								save_event_target_as = KMTtakepac_684_owner
							}
						}
					}
				}
			}
		}
		if = {
			limit = {
				633 = {
					owner = {
						NOT = {
							tag = ROOT
							is_puppet_of = ROOT
						}
					}
				}
			}
			if = {
				limit = {
					633 = {
						owner = { is_puppet = no }
					}
				}
				633 = {
					owner = {
						save_event_target_as = KMTtakepac_633_owner
					}
				}
				else = {
					633 = {
						owner = {
							overlord = {
								save_event_target_as = KMTtakepac_633_owner
							}
						}
					}
				}
			}
		}
		if = {
			limit = {
				632 = {
					owner = {
						NOT = {
							tag = ROOT
							is_puppet_of = ROOT
						}
					}
				}
			}
			if = {
				limit = {
					632 = {
						owner = { is_puppet = no }
					}
				}
				632 = {
					owner = {
						save_event_target_as = KMTtakepac_632_owner
					}
				}
				else = {
					632 = {
						owner = {
							overlord = {
								save_event_target_as = KMTtakepac_632_owner
							}
						}
					}
				}
			}
		}
		if = {
			limit = {
				725 = {
					owner = {
						NOT = {
							tag = ROOT
							is_puppet_of = ROOT
						}
					}
				}
			}
			if = {
				limit = {
					725 = {
						owner = { is_puppet = no }
					}
				}
				725 = {
					owner = {
						save_event_target_as = KMTtakepac_725_owner
					}
				}
				else = {
					725 = {
						owner = {
							overlord = {
								save_event_target_as = KMTtakepac_725_owner
							}
						}
					}
				}
			}
		}
		if = {
			limit = {
				639 = {
					owner = {
						NOT = {
							tag = ROOT
							is_puppet_of = ROOT
						}
					}
				}
			}
			if = {
				limit = {
					639 = {
						owner = { is_puppet = no }
					}
				}
				639 = {
					owner = {
						save_event_target_as = KMTtakepac_639_owner
					}
				}
				else = {
					639 = {
						owner = {
							overlord = {
								save_event_target_as = KMTtakepac_639_owner
							}
						}
					}
				}
			}
		}
		if = {
			limit = {
				631 = {
					owner = {
						NOT = {
							tag = ROOT
							is_puppet_of = ROOT
						}
					}
				}
			}
			if = {
				limit = {
					631 = {
						owner = { is_puppet = no }
					}
				}
				631 = {
					owner = {
						save_event_target_as = KMTtakepac_631_owner
					}
				}
				else = {
					631 = {
						owner = {
							overlord = {
								save_event_target_as = KMTtakepac_631_owner
							}
						}
					}
				}
			}
		}
		if = {
			limit = {
				642 = {
					owner = {
						NOT = {
							tag = ROOT
							is_puppet_of = ROOT
						}
					}
				}
			}
			if = {
				limit = {
					642 = {
						owner = { is_puppet = no }
					}
				}
				642 = {
					owner = {
						save_event_target_as = KMTtakepac_642_owner
					}
				}
				else = {
					642 = {
						owner = {
							overlord = {
								save_event_target_as = KMTtakepac_642_owner
							}
						}
					}
				}
			}
		}
		if = {
			limit = {
				727 = {
					owner = {
						NOT = {
							tag = ROOT
							is_puppet_of = ROOT
						}
					}
				}
			}
			if = {
				limit = {
					727 = {
						owner = { is_puppet = no }
					}
				}
				727 = {
					owner = {
						save_event_target_as = KMTtakepac_727_owner
					}
				}
				else = {
					727 = {
						owner = {
							overlord = {
								save_event_target_as = KMTtakepac_727_owner
							}
						}
					}
				}
			}
		}
		if = {
			limit = {
				630 = {
					owner = {
						NOT = {
							tag = ROOT
							is_puppet_of = ROOT
						}
					}
				}
			}
			if = {
				limit = {
					630 = {
						owner = { is_puppet = no }
					}
				}
				630 = {
					owner = {
						save_event_target_as = KMTtakepac_630_owner
					}
				}
				else = {
					630 = {
						owner = {
							overlord = {
								save_event_target_as = KMTtakepac_630_owner
							}
						}
					}
				}
			}
		}
		if = {
			limit = {
				629 = {
					owner = {
						NOT = {
							tag = ROOT
							is_puppet_of = ROOT
						}
					}
				}
			}
			if = {
				limit = {
					629 = {
						owner = { is_puppet = no }
					}
				}
				629 = {
					owner = {
						save_event_target_as = KMTtakepac_629_owner
					}
				}
				else = {
					629 = {
						owner = {
							overlord = {
								save_event_target_as = KMTtakepac_629_owner
							}
						}
					}
				}
			}
		}
		if = {
			limit = {
				643 = {
					owner = {
						NOT = {
							tag = ROOT
							is_puppet_of = ROOT
						}
					}
				}
			}
			if = {
				limit = {
					643 = {
						owner = { is_puppet = no }
					}
				}
				643 = {
					owner = {
						save_event_target_as = KMTtakepac_643_owner
					}
				}
				else = {
					643 = {
						owner = {
							overlord = {
								save_event_target_as = KMTtakepac_643_owner
							}
						}
					}
				}
			}
		}
		if = {
			limit = {
				726 = {
					owner = {
						NOT = {
							tag = ROOT
							is_puppet_of = ROOT
						}
					}
				}
			}
			if = {
				limit = {
					726 = {
						owner = { is_puppet = no }
					}
				}
				726 = {
					owner = {
						save_event_target_as = KMTtakepac_726_owner
					}
				}
				else = {
					726 = {
						owner = {
							overlord = {
								save_event_target_as = KMTtakepac_726_owner
							}
						}
					}
				}
			}
		}
		if = {
			limit = {
				641 = {
					owner = {
						NOT = {
							tag = ROOT
							is_puppet_of = ROOT
						}
					}
				}
			}
			if = {
				limit = {
					641 = {
						owner = { is_puppet = no }
					}
				}
				641 = {
					owner = {
						save_event_target_as = KMTtakepac_641_owner
					}
				}
				else = {
					641 = {
						owner = {
							overlord = {
								save_event_target_as = KMTtakepac_641_owner
							}
						}
					}
				}
			}
		}
		if = {
			limit = {
				636 = {
					owner = {
						NOT = {
							tag = ROOT
							is_puppet_of = ROOT
						}
					}
				}
			}
			if = {
				limit = {
					636 = {
						owner = { is_puppet = no }
					}
				}
				636 = {
					owner = {
						save_event_target_as = KMTtakepac_636_owner
					}
				}
				else = {
					636 = {
						owner = {
							overlord = {
								save_event_target_as = KMTtakepac_636_owner
							}
						}
					}
				}
			}
		}
		if = {
			limit = {
				635 = {
					owner = {
						NOT = {
							tag = ROOT
							is_puppet_of = ROOT
						}
					}
				}
			}
			if = {
				limit = {
					635 = {
						owner = { is_puppet = no }
					}
				}
				635 = {
					owner = {
						save_event_target_as = KMTtakepac_635_owner
					}
				}
				else = {
					635 = {
						owner = {
							overlord = {
								save_event_target_as = KMTtakepac_635_owner
							}
						}
					}
				}
			}
		}
		if = {
			limit = {
				737 = {
					owner = {
						NOT = {
							tag = ROOT
							is_puppet_of = ROOT
						}
					}
				}
			}
			if = {
				limit = {
					737 = {
						owner = { is_puppet = no }
					}
				}
				737 = {
					owner = {
						save_event_target_as = KMTtakepac_737_owner
					}
				}
				else = {
					737 = {
						owner = {
							overlord = {
								save_event_target_as = KMTtakepac_737_owner
							}
						}
					}
				}
			}
		}
		if = {
			limit = {
				634 = {
					owner = {
						NOT = {
							tag = ROOT
							is_puppet_of = ROOT
						}
					}
				}
			}
			if = {
				limit = {
					634 = {
						owner = { is_puppet = no }
					}
				}
				634 = {
					owner = {
						save_event_target_as = KMTtakepac_634_owner
					}
				}
				else = {
					634 = {
						owner = {
							overlord = {
								save_event_target_as = KMTtakepac_634_owner
							}
						}
					}
				}
			}
		}
		if = {
			limit = {
				523 = {
					owner = {
						NOT = {
							tag = ROOT
							is_puppet_of = ROOT
						}
					}
				}
			}
			if = {
				limit = {
					523 = {
						owner = { is_puppet = no }
					}
				}
				523 = {
					owner = {
						save_event_target_as = KMTtakepac_523_owner
					}
				}
				else = {
					523 = {
						owner = {
							overlord = {
								save_event_target_as = KMTtakepac_523_owner
							}
						}
					}
				}
			}
		}
		if = {
			limit = {
				517 = {
					owner = {
						NOT = {
							tag = ROOT
							is_puppet_of = ROOT
						}
					}
				}
			}
			if = {
				limit = {
					517 = {
						owner = { is_puppet = no }
					}
				}
				517 = {
					owner = {
						save_event_target_as = KMTtakepac_517_owner
					}
				}
				else = {
					517 = {
						owner = {
							overlord = {
								save_event_target_as = KMTtakepac_517_owner
							}
						}
					}
				}
			}
		}
		if = {
			limit = {
				285 = {
					owner = {
						NOT = {
							tag = ROOT
							is_puppet_of = ROOT
						}
					}
				}
			}
			if = {
				limit = {
					285 = {
						owner = { is_puppet = no }
					}
				}
				285 = {
					owner = {
						save_event_target_as = KMTtakepac_285_owner
					}
				}
				else = {
					285 = {
						owner = {
							overlord = {
								save_event_target_as = KMTtakepac_285_owner
							}
						}
					}
				}
			}
		}
		if = {
			limit = {
				521 = {
					owner = {
						NOT = {
							tag = ROOT
							is_puppet_of = ROOT
						}
					}
				}
			}
			if = {
				limit = {
					521 = {
						owner = { is_puppet = no }
					}
				}
				521 = {
					owner = {
						save_event_target_as = KMTtakepac_521_owner
					}
				}
				else = {
					521 = {
						owner = {
							overlord = {
								save_event_target_as = KMTtakepac_521_owner
							}
						}
					}
				}
			}
		}
		if = {
			limit = {
				674 = {
					owner = {
						NOT = {
							tag = ROOT
							is_puppet_of = ROOT
						}
					}
				}
			}
			if = {
				limit = {
					674 = {
						owner = { is_puppet = no }
					}
				}
				674 = {
					owner = {
						save_event_target_as = KMTtakepac_674_owner
					}
				}
				else = {
					674 = {
						owner = {
							overlord = {
								save_event_target_as = KMTtakepac_674_owner
							}
						}
					}
				}
			}
		}
		if = {
			limit = {
				519 = {
					owner = {
						NOT = {
							tag = ROOT
							is_puppet_of = ROOT
						}
					}
				}
			}
			if = {
				limit = {
					519 = {
						owner = { is_puppet = no }
					}
				}
				519 = {
					owner = {
						save_event_target_as = KMTtakepac_519_owner
					}
				}
				else = {
					519 = {
						owner = {
							overlord = {
								save_event_target_as = KMTtakepac_519_owner
							}
						}
					}
				}
			}
		}
		if = {
			limit = {
				522 = {
					owner = {
						NOT = {
							tag = ROOT
							is_puppet_of = ROOT
						}
					}
				}
			}
			if = {
				limit = {
					522 = {
						owner = { is_puppet = no }
					}
				}
				522 = {
					owner = {
						save_event_target_as = KMTtakepac_522_owner
					}
				}
				else = {
					522 = {
						owner = {
							overlord = {
								save_event_target_as = KMTtakepac_522_owner
							}
						}
					}
				}
			}
		}
		if = {
			limit = {
				520 = {
					owner = {
						NOT = {
							tag = ROOT
							is_puppet_of = ROOT
						}
					}
				}
			}
			if = {
				limit = {
					520 = {
						owner = { is_puppet = no }
					}
				}
				520 = {
					owner = {
						save_event_target_as = KMTtakepac_520_owner
					}
				}
				else = {
					520 = {
						owner = {
							overlord = {
								save_event_target_as = KMTtakepac_520_owner
							}
						}
					}
				}
			}
		}
		if = {
			limit = {
				518 = {
					owner = {
						NOT = {
							tag = ROOT
							is_puppet_of = ROOT
						}
					}
				}
			}
			if = {
				limit = {
					518 = {
						owner = { is_puppet = no }
					}
				}
				518 = {
					owner = {
						save_event_target_as = KMTtakepac_518_owner
					}
				}
				else = {
					518 = {
						owner = {
							overlord = {
								save_event_target_as = KMTtakepac_518_owner
							}
						}
					}
				}
			}
		}
		if = {
			limit = {
				284 = {
					owner = {
						NOT = {
							tag = ROOT
							is_puppet_of = ROOT
						}
					}
				}
			}
			if = {
				limit = {
					284 = {
						owner = { is_puppet = no }
					}
				}
				284 = {
					owner = {
						save_event_target_as = KMTtakepac_284_owner
					}
				}
				else = {
					284 = {
						owner = {
							overlord = {
								save_event_target_as = KMTtakepac_284_owner
							}
						}
					}
				}
			}
		}
		if = {
			limit = {
				723 = {
					owner = {
						NOT = {
							tag = ROOT
							is_puppet_of = ROOT
						}
					}
				}
			}
			if = {
				limit = {
					723 = {
						owner = { is_puppet = no }
					}
				}
				723 = {
					owner = {
						save_event_target_as = KMTtakepac_723_owner
					}
				}
				else = {
					723 = {
						owner = {
							overlord = {
								save_event_target_as = KMTtakepac_723_owner
							}
						}
					}
				}
			}
		}
		if = {
			limit = {
				669 = {
					owner = {
						NOT = {
							tag = ROOT
							is_puppet_of = ROOT
						}
					}
				}
			}
			if = {
				limit = {
					669 = {
						owner = { is_puppet = no }
					}
				}
				669 = {
					owner = {
						save_event_target_as = KMTtakepac_669_owner
					}
				}
				else = {
					669 = {
						owner = {
							overlord = {
								save_event_target_as = KMTtakepac_669_owner
							}
						}
					}
				}
			}
		}
	}
}

KMT_take_SEA_wargoal = {
	custom_effect_tooltip = KMT_take_SEA_tt
	hidden_effect = {
		if = {
			limit = {
				524 = {
					owner = {
						NOT = {
							tag = ROOT
							is_puppet_of = ROOT
						}
					}
				}
			}
			if = {
				limit = {
					524 = {
						owner = { is_puppet = no }
					}
				}
				524 = {
					owner = {
						save_event_target_as = KMTtakeSEA_524_owner
					}
				}
				else = {
					524 = {
						owner = {
							overlord = {
								save_event_target_as = KMTtakeSEA_524_owner
							}
						}
					}
				}
			}
		}
		if = {
			limit = {
				593 = {
					owner = {
						NOT = {
							tag = ROOT
							is_puppet_of = ROOT
						}
					}
				}
			}
			if = {
				limit = {
					593 = {
						owner = { is_puppet = no }
					}
				}
				593 = {
					owner = {
						save_event_target_as = KMTtakeSEA_593_owner
					}
				}
				else = {
					593 = {
						owner = {
							overlord = {
								save_event_target_as = KMTtakeSEA_593_owner
							}
						}
					}
				}
			}
		}
		if = {
			limit = {
				592 = {
					owner = {
						NOT = {
							tag = ROOT
							is_puppet_of = ROOT
						}
					}
				}
			}
			if = {
				limit = {
					592 = {
						owner = { is_puppet = no }
					}
				}
				592 = {
					owner = {
						save_event_target_as = KMTtakeSEA_592_owner
					}
				}
				else = {
					592 = {
						owner = {
							overlord = {
								save_event_target_as = KMTtakeSEA_592_owner
							}
						}
					}
				}
			}
		}
		if = {
			limit = {
				591 = {
					owner = {
						NOT = {
							tag = ROOT
							is_puppet_of = ROOT
						}
					}
				}
			}
			if = {
				limit = {
					591 = {
						owner = { is_puppet = no }
					}
				}
				591 = {
					owner = {
						save_event_target_as = KMTtakeSEA_591_owner
					}
				}
				else = {
					591 = {
						owner = {
							overlord = {
								save_event_target_as = KMTtakeSEA_591_owner
							}
						}
					}
				}
			}
		}
		if = {
			limit = {
				594 = {
					owner = {
						NOT = {
							tag = ROOT
							is_puppet_of = ROOT
						}
					}
				}
			}
			if = {
				limit = {
					594 = {
						owner = { is_puppet = no }
					}
				}
				594 = {
					owner = {
						save_event_target_as = KMTtakeSEA_594_owner
					}
				}
				else = {
					594 = {
						owner = {
							overlord = {
								save_event_target_as = KMTtakeSEA_594_owner
							}
						}
					}
				}
			}
		}
		if = {
			limit = {
				599 = {
					owner = {
						NOT = {
							tag = ROOT
							is_puppet_of = ROOT
						}
					}
				}
			}
			if = {
				limit = {
					599 = {
						owner = { is_puppet = no }
					}
				}
				599 = {
					owner = {
						save_event_target_as = KMTtakeSEA_599_owner
					}
				}
				else = {
					599 = {
						owner = {
							overlord = {
								save_event_target_as = KMTtakeSEA_599_owner
							}
						}
					}
				}
			}
		}
		if = {
			limit = {
				671 = {
					owner = {
						NOT = {
							tag = ROOT
							is_puppet_of = ROOT
						}
					}
				}
			}
			if = {
				limit = {
					671 = {
						owner = { is_puppet = no }
					}
				}
				671 = {
					owner = {
						save_event_target_as = KMTtakeSEA_671_owner
					}
				}
				else = {
					671 = {
						owner = {
							overlord = {
								save_event_target_as = KMTtakeSEA_671_owner
							}
						}
					}
				}
			}
		}
		if = {
			limit = {
				286 = {
					owner = {
						NOT = {
							tag = ROOT
							is_puppet_of = ROOT
						}
					}
				}
			}
			if = {
				limit = {
					286 = {
						owner = { is_puppet = no }
					}
				}
				286 = {
					owner = {
						save_event_target_as = KMTtakeSEA_286_owner
					}
				}
				else = {
					286 = {
						owner = {
							overlord = {
								save_event_target_as = KMTtakeSEA_286_owner
							}
						}
					}
				}
			}
		}
		if = {
			limit = {
				286 = {
					owner = {
						NOT = {
							tag = ROOT
							is_puppet_of = ROOT
						}
					}
				}
			}
			if = {
				limit = {
					286 = {
						owner = { is_puppet = no }
					}
				}
				286 = {
					owner = {
						save_event_target_as = KMTtakeSEA_286_owner
					}
				}
				else = {
					286 = {
						owner = {
							overlord = {
								save_event_target_as = KMTtakeSEA_286_owner
							}
						}
					}
				}
			}
		}
		if = {
			limit = {
				670 = {
					owner = {
						NOT = {
							tag = ROOT
							is_puppet_of = ROOT
						}
					}
				}
			}
			if = {
				limit = {
					670 = {
						owner = { is_puppet = no }
					}
				}
				670 = {
					owner = {
						save_event_target_as = KMTtakeSEA_670_owner
					}
				}
				else = {
					670 = {
						owner = {
							overlord = {
								save_event_target_as = KMTtakeSEA_670_owner
							}
						}
					}
				}
			}
		}
		if = {
			limit = {
				741 = {
					owner = {
						NOT = {
							tag = ROOT
							is_puppet_of = ROOT
						}
					}
				}
			}
			if = {
				limit = {
					741 = {
						owner = { is_puppet = no }
					}
				}
				741 = {
					owner = {
						save_event_target_as = KMTtakeSEA_741_owner
					}
				}
				else = {
					741 = {
						owner = {
							overlord = {
								save_event_target_as = KMTtakeSEA_741_owner
							}
						}
					}
				}
			}
		}
		if = {
			limit = {
				289 = {
					owner = {
						NOT = {
							tag = ROOT
							is_puppet_of = ROOT
						}
					}
				}
			}
			if = {
				limit = {
					289 = {
						owner = { is_puppet = no }
					}
				}
				289 = {
					owner = {
						save_event_target_as = KMTtakeSEA_289_owner
					}
				}
				else = {
					289 = {
						owner = {
							overlord = {
								save_event_target_as = KMTtakeSEA_289_owner
							}
						}
					}
				}
			}
		}
		if = {
			limit = {
				724 = {
					owner = {
						NOT = {
							tag = ROOT
							is_puppet_of = ROOT
						}
					}
				}
			}
			if = {
				limit = {
					724 = {
						owner = { is_puppet = no }
					}
				}
				724 = {
					owner = {
						save_event_target_as = KMTtakeSEA_724_owner
					}
				}
				else = {
					724 = {
						owner = {
							overlord = {
								save_event_target_as = KMTtakeSEA_724_owner
							}
						}
					}
				}
			}
		}
		if = {
			limit = {
				336 = {
					owner = {
						NOT = {
							tag = ROOT
							is_puppet_of = ROOT
						}
					}
				}
			}
			if = {
				limit = {
					336 = {
						owner = { is_puppet = no }
					}
				}
				336 = {
					owner = {
						save_event_target_as = KMTtakeSEA_336_owner
					}
				}
				else = {
					336 = {
						owner = {
							overlord = {
								save_event_target_as = KMTtakeSEA_336_owner
							}
						}
					}
				}
			}
		}
		if = {
			limit = {
				672 = {
					owner = {
						NOT = {
							tag = ROOT
							is_puppet_of = ROOT
						}
					}
				}
			}
			if = {
				limit = {
					672 = {
						owner = { is_puppet = no }
					}
				}
				672 = {
					owner = {
						save_event_target_as = KMTtakeSEA_672_owner
					}
				}
				else = {
					672 = {
						owner = {
							overlord = {
								save_event_target_as = KMTtakeSEA_672_owner
							}
						}
					}
				}
			}
		}
		if = {
			limit = {
				333 = {
					owner = {
						NOT = {
							tag = ROOT
							is_puppet_of = ROOT
						}
					}
				}
			}
			if = {
				limit = {
					333 = {
						owner = { is_puppet = no }
					}
				}
				333 = {
					owner = {
						save_event_target_as = KMTtakeSEA_333_owner
					}
				}
				else = {
					333 = {
						owner = {
							overlord = {
								save_event_target_as = KMTtakeSEA_333_owner
							}
						}
					}
				}
			}
		}
		if = {
			limit = {
				334 = {
					owner = {
						NOT = {
							tag = ROOT
							is_puppet_of = ROOT
						}
					}
				}
			}
			if = {
				limit = {
					334 = {
						owner = { is_puppet = no }
					}
				}
				334 = {
					owner = {
						save_event_target_as = KMTtakeSEA_334_owner
					}
				}
				else = {
					334 = {
						owner = {
							overlord = {
								save_event_target_as = KMTtakeSEA_334_owner
							}
						}
					}
				}
			}
		}
		if = {
			limit = {
				335 = {
					owner = {
						NOT = {
							tag = ROOT
							is_puppet_of = ROOT
						}
					}
				}
			}
			if = {
				limit = {
					335 = {
						owner = { is_puppet = no }
					}
				}
				335 = {
					owner = {
						save_event_target_as = KMTtakeSEA_335_owner
					}
				}
				else = {
					335 = {
						owner = {
							overlord = {
								save_event_target_as = KMTtakeSEA_335_owner
							}
						}
					}
				}
			}
		}
		if = {
			limit = {
				626 = {
					owner = {
						NOT = {
							tag = ROOT
							is_puppet_of = ROOT
						}
					}
				}
			}
			if = {
				limit = {
					626 = {
						owner = { is_puppet = no }
					}
				}
				626 = {
					owner = {
						save_event_target_as = KMTtakeSEA_626_owner
					}
				}
				else = {
					626 = {
						owner = {
							overlord = {
								save_event_target_as = KMTtakeSEA_626_owner
							}
						}
					}
				}
			}
		}
		if = {
			limit = {
				623 = {
					owner = {
						NOT = {
							tag = ROOT
							is_puppet_of = ROOT
						}
					}
				}
			}
			if = {
				limit = {
					623 = {
						owner = { is_puppet = no }
					}
				}
				623 = {
					owner = {
						save_event_target_as = KMTtakeSEA_623_owner
					}
				}
				else = {
					623 = {
						owner = {
							overlord = {
								save_event_target_as = KMTtakeSEA_623_owner
							}
						}
					}
				}
			}
		}
		if = {
			limit = {
				327 = {
					owner = {
						NOT = {
							tag = ROOT
							is_puppet_of = ROOT
						}
					}
				}
			}
			if = {
				limit = {
					327 = {
						owner = { is_puppet = no }
					}
				}
				327 = {
					owner = {
						save_event_target_as = KMTtakeSEA_327_owner
					}
				}
				else = {
					327 = {
						owner = {
							overlord = {
								save_event_target_as = KMTtakeSEA_327_owner
							}
						}
					}
				}
			}
		}
		if = {
			limit = {
				624 = {
					owner = {
						NOT = {
							tag = ROOT
							is_puppet_of = ROOT
						}
					}
				}
			}
			if = {
				limit = {
					624 = {
						owner = { is_puppet = no }
					}
				}
				624 = {
					owner = {
						save_event_target_as = KMTtakeSEA_624_owner
					}
				}
				else = {
					624 = {
						owner = {
							overlord = {
								save_event_target_as = KMTtakeSEA_624_owner
							}
						}
					}
				}
			}
		}
		if = {
			limit = {
				628 = {
					owner = {
						NOT = {
							tag = ROOT
							is_puppet_of = ROOT
						}
					}
				}
			}
			if = {
				limit = {
					628 = {
						owner = { is_puppet = no }
					}
				}
				628 = {
					owner = {
						save_event_target_as = KMTtakeSEA_628_owner
					}
				}
				else = {
					628 = {
						owner = {
							overlord = {
								save_event_target_as = KMTtakeSEA_628_owner
							}
						}
					}
				}
			}
		}
		if = {
			limit = {
				625 = {
					owner = {
						NOT = {
							tag = ROOT
							is_puppet_of = ROOT
						}
					}
				}
			}
			if = {
				limit = {
					625 = {
						owner = { is_puppet = no }
					}
				}
				625 = {
					owner = {
						save_event_target_as = KMTtakeSEA_625_owner
					}
				}
				else = {
					625 = {
						owner = {
							overlord = {
								save_event_target_as = KMTtakeSEA_625_owner
							}
						}
					}
				}
			}
		}
		if = {
			limit = {
				627 = {
					owner = {
						NOT = {
							tag = ROOT
							is_puppet_of = ROOT
						}
					}
				}
			}
			if = {
				limit = {
					627 = {
						owner = { is_puppet = no }
					}
				}
				627 = {
					owner = {
						save_event_target_as = KMTtakeSEA_627_owner
					}
				}
				else = {
					627 = {
						owner = {
							overlord = {
								save_event_target_as = KMTtakeSEA_627_owner
							}
						}
					}
				}
			}
		}
		if = {
			limit = {
				673 = {
					owner = {
						NOT = {
							tag = ROOT
							is_puppet_of = ROOT
						}
					}
				}
			}
			if = {
				limit = {
					673 = {
						owner = { is_puppet = no }
					}
				}
				673 = {
					owner = {
						save_event_target_as = KMTtakeSEA_673_owner
					}
				}
				else = {
					673 = {
						owner = {
							overlord = {
								save_event_target_as = KMTtakeSEA_673_owner
							}
						}
					}
				}
			}
		}
		if = {
			limit = {
				668 = {
					owner = {
						NOT = {
							tag = ROOT
							is_puppet_of = ROOT
						}
					}
				}
			}
			if = {
				limit = {
					668 = {
						owner = { is_puppet = no }
					}
				}
				668 = {
					owner = {
						save_event_target_as = KMTtakeSEA_668_owner
					}
				}
				else = {
					668 = {
						owner = {
							overlord = {
								save_event_target_as = KMTtakeSEA_668_owner
							}
						}
					}
				}
			}
		}
		if = {
			limit = {
				669 = {
					owner = {
						NOT = {
							tag = ROOT
							is_puppet_of = ROOT
						}
					}
				}
			}
			if = {
				limit = {
					669 = {
						owner = { is_puppet = no }
					}
				}
				669 = {
					owner = {
						save_event_target_as = KMTtakeSEA_669_owner
					}
				}
				else = {
					669 = {
						owner = {
							overlord = {
								save_event_target_as = KMTtakeSEA_669_owner
							}
						}
					}
				}
			}
		}
		if = {
			limit = {
				667 = {
					owner = {
						NOT = {
							tag = ROOT
							is_puppet_of = ROOT
						}
					}
				}
			}
			if = {
				limit = {
					667 = {
						owner = { is_puppet = no }
					}
				}
				667 = {
					owner = {
						save_event_target_as = KMTtakeSEA_667_owner
					}
				}
				else = {
					667 = {
						owner = {
							overlord = {
								save_event_target_as = KMTtakeSEA_667_owner
							}
						}
					}
				}
			}
		}
		if = {
			limit = {
				721 = {
					owner = {
						NOT = {
							tag = ROOT
							is_puppet_of = ROOT
						}
					}
				}
			}
			if = {
				limit = {
					721 = {
						owner = { is_puppet = no }
					}
				}
				721 = {
					owner = {
						save_event_target_as = KMTtakeSEA_721_owner
					}
				}
				else = {
					721 = {
						owner = {
							overlord = {
								save_event_target_as = KMTtakeSEA_721_owner
							}
						}
					}
				}
			}
		}
	}
}

get_usa_supplies = {
	if = {
		limit = {
			USA = {
				has_tech = infantry_weapons
				NOT = {
					has_tech = infantry_weapons1
				}
			}
		}
		add_equipment_to_stockpile = { type = infantry_equipment_0 amount = 10000 producer = USA }
	}
	if = {
		limit = {
			USA = {
				has_tech = infantry_weapons1
				NOT = {
					has_tech = improved_infantry_weapons
				}
			}
		}
		add_equipment_to_stockpile = { type = infantry_equipment_1 amount = 10000 producer = USA }
	}
	if = {
		limit = {
			USA = {
				has_tech = improved_infantry_weapons
				NOT = {
					has_tech = advanced_infantry_weapons
				}
			}
		}
		add_equipment_to_stockpile = { type = infantry_equipment_2 amount = 10000 producer = USA }
	}
	if = {
		limit = {
			USA = {
				has_tech = advanced_infantry_weapons
			}
		}
		add_equipment_to_stockpile = { type = infantry_equipment_3 amount = 10000 producer = USA }
	}
	if = {
		limit = {
			USA = {
				has_tech = tech_support
			}
		}
		add_equipment_to_stockpile = { type = support_equipment_1 amount = 7500 producer = USA }
	}
	# if = {
	# 	limit = {
	# 		USA = {
	# 			has_tech = gwtank
	# 			NOT = {
	# 				has_tech = basic_light_tank
	# 			}
	# 		}
	# 	}
	# 	add_equipment_to_stockpile = { type = gw_tank_equipment amount = 3500 producer = USA }
	# }
	if = {
		limit = {
			USA = {
				has_tech = basic_light_tank
				NOT = {
					OR = {
						has_tech = improved_light_tank
						has_tech = improved_light_tank_chassis
					}
				}
			}
		}
		add_equipment_to_stockpile = { type = light_tank_equipment_1 amount = 3500 producer = USA }
	}
	if = {
		limit = {
			USA = {
				OR = {
					has_tech = improved_light_tank
					has_tech = improved_light_tank_chassis
				}
				NOT = {
					OR = {
						has_tech = advanced_light_tank
						has_tech = advanced_light_tank_chassis
					}
				}
			}
		}
		add_equipment_to_stockpile = { type = light_tank_equipment_2 amount = 3500 producer = USA }
	}
	if = {
		limit = {
			USA = {
				OR = {
					has_tech = improved_light_tank
					has_tech = improved_light_tank_chassis
				}
			}
		}
		add_equipment_to_stockpile = { type = light_tank_equipment_3 amount = 3500 producer = USA }
	}
	if = {
		limit = {
			USA = {
				OR = {
					has_tech = basic_medium_tank
					has_tech = basic_medium_tank_chassis
				}
				NOT = {
					has_tech = improved_medium_tank
				}
			}
		}
		add_equipment_to_stockpile = { type = medium_tank_equipment_1 amount = 2000 producer = USA }
	}
	if = {
		limit = {
			USA = {
				has_tech = improved_medium_tank
				NOT = {
					OR = {
						has_tech = advanced_medium_tank
						has_tech = advanced_medium_tank_chassis
					}
				}
			}
		}
		add_equipment_to_stockpile = { type = medium_tank_equipment_2 amount = 2000 producer = USA }
	}
	if = {
		limit = {
			USA = {
				OR = {
					has_tech = advanced_medium_tank
					has_tech = advanced_medium_tank_chassis
				}
			}
		}
		add_equipment_to_stockpile = { type = medium_tank_equipment_3 amount = 2000 producer = USA }
	}
	if = {
		limit = {
			USA = {
				OR = {
					has_tech = basic_heavy_tank
					has_tech = basic_heavy_tank_chassis
				}
				NOT = {
					OR = {
						has_tech = improved_heavy_tank
						has_tech = improved_heavy_tank_chassis
					}
				}
			}
		}
		add_equipment_to_stockpile = { type = heavy_tank_equipment_1 amount = 500 producer = USA }
	}
	if = {
		limit = {
			USA = {
				OR = {
					has_tech = improved_heavy_tank
					has_tech = improved_heavy_tank_chassis
				}
				NOT = {
					OR = {
						has_tech = advanced_heavy_tank
						has_tech = advanced_heavy_tank_chassis
					}
				}
			}
		}
		add_equipment_to_stockpile = { type = heavy_tank_equipment_2 amount = 500 producer = USA }
	}
	if = {
		limit = {
			USA = {
				OR = {
					has_tech = advanced_heavy_tank
					has_tech = advanced_heavy_tank_chassis
				}
			}
		}
		add_equipment_to_stockpile = { type = heavy_tank_equipment_3 amount = 500 producer = USA }
	}
	if = {
		limit = {
			USA = {
				OR = {
					has_tech = main_battle_tank
					has_tech = main_battle_tank_chassis
				}
			}
		}
		add_equipment_to_stockpile = { type = modern_tank_equipment_1 amount = 100 producer = USA }
	}
	if = {
		limit = {
			USA = {
				OR = {has_tech = super_heavy_tank has_tech = super_heavy_tank_chassis}
			}
		}
		add_equipment_to_stockpile = { type = super_heavy_tank_equipment_1 amount = 200 producer = USA }
	}
	if = {
		limit = {
			USA = {
				has_tech = early_fighter
				NOT = {
					has_tech = fighter1
				}
			}
		}
		add_equipment_to_stockpile = { type = fighter_equipment_0 amount = 1000 producer = USA }
	}
	if = {
		limit = {
			USA = {
				has_tech = fighter1
				NOT = {
					has_tech = fighter2
				}
			}
		}
		add_equipment_to_stockpile = { type = fighter_equipment_1 amount = 1000 producer = USA }
	}
	if = {
		limit = {
			USA = {
				has_tech = fighter2
				NOT = {
					has_tech = fighter3
				}
			}
		}
		add_equipment_to_stockpile = { type = fighter_equipment_2 amount = 1000 producer = USA }
	}
	if = {
		limit = {
			USA = {
				has_tech = fighter3
			}
		}
		add_equipment_to_stockpile = { type = fighter_equipment_3 amount = 1000 producer = USA }
	}
	if = {
		limit = {
			USA = {
				has_tech = jet_fighter1
				NOT = {
					has_tech = jet_fighter2
				}
			}
		}
		add_equipment_to_stockpile = { type = jet_fighter_equipment_1 amount = 300 producer = USA }
	}
	if = {
		limit = {
			USA = {
				has_tech = jet_fighter2
			}
		}
		add_equipment_to_stockpile = { type = jet_fighter_equipment_2 amount = 300 producer = USA }
	}
	if = {
		limit = {
			USA = {
				has_tech = CAS1
				NOT = {
					has_tech = CAS2
				}
			}
		}
		add_equipment_to_stockpile = { type = CAS_equipment_1 amount = 1000 producer = USA }
	}
	if = {
		limit = {
			USA = {
				has_tech = CAS2
				NOT = {
					has_tech = CAS3
				}
			}
		}
		add_equipment_to_stockpile = { type = CAS_equipment_2 amount = 1000 producer = USA }
	}
	if = {
		limit = {
			USA = {
				has_tech = CAS3
			}
		}
		add_equipment_to_stockpile = { type = CAS_equipment_3 amount = 1000 producer = USA }
	}
	if = {
		limit = {
			USA = {
				has_tech = naval_bomber1
				NOT = {
					has_tech = naval_bomber2
				}
			}
		}
		add_equipment_to_stockpile = { type = nav_bomber_equipment_1 amount = 100 producer = USA }
	}
	if = {
		limit = {
			USA = {
				has_tech = naval_bomber2
				NOT = {
					has_tech = naval_bomber3
				}
			}
		}
		add_equipment_to_stockpile = { type = nav_bomber_equipment_2 amount = 100 producer = USA }
	}
	if = {
		limit = {
			USA = {
				has_tech = naval_bomber3
			}
		}
		add_equipment_to_stockpile = { type = nav_bomber_equipment_3 amount = 100 producer = USA }
	}
	if = {
		limit = {
			USA = {
				has_tech = naval_bomber1
				NOT = {
					has_tech = naval_bomber2
				}
			}
		}
		add_equipment_to_stockpile = { type = nav_bomber_equipment_1 amount = 100 producer = USA }
	}
	if = {
		limit = {
			USA = {
				has_tech = naval_bomber2
				NOT = {
					has_tech = naval_bomber3
				}
			}
		}
		add_equipment_to_stockpile = { type = nav_bomber_equipment_2 amount = 100 producer = USA }
	}
	if = {
		limit = {
			USA = {
				has_tech = naval_bomber3
			}
		}
		add_equipment_to_stockpile = { type = nav_bomber_equipment_3 amount = 100 producer = USA }
	}
	if = {
		limit = {
			USA = {
				has_tech = heavy_fighter1
				NOT = {
					has_tech = heavy_fighter2
				}
			}
		}
		add_equipment_to_stockpile = { type = heavy_fighter_equipment_1 amount = 500 producer = USA }
	}
	if = {
		limit = {
			USA = {
				has_tech = heavy_fighter2
				NOT = {
					has_tech = heavy_fighter2
				}
			}
		}
		add_equipment_to_stockpile = { type = heavy_fighter_equipment_2 amount = 500 producer = USA }
	}
	if = {
		limit = {
			USA = {
				has_tech = heavy_fighter3
			}
		}
		add_equipment_to_stockpile = { type = heavy_fighter_equipment_3 amount = 500 producer = USA }
	}
	if = {
		limit = {
			USA = {
				has_tech = tactical_bomber1
				NOT = {
					has_tech = tactical_bomber2
				}
			}
		}
		add_equipment_to_stockpile = { type = tac_bomber_equipment_1 amount = 500 producer = USA }
	}
	if = {
		limit = {
			USA = {
				has_tech = tactical_bomber2
				NOT = {
					has_tech = tactical_bomber3
				}
			}
		}
		add_equipment_to_stockpile = { type = tac_bomber_equipment_2 amount = 500 producer = USA }
	}
	if = {
		limit = {
			USA = {
				has_tech = tactical_bomber3
			}
		}
		add_equipment_to_stockpile = { type = tac_bomber_equipment_3 amount = 500 producer = USA }
	}
	if = {
		limit = {
			USA = {
				has_tech = jet_tactical_bomber1
				NOT = {
					has_tech = jet_tactical_bomber2
				}
			}
		}
		add_equipment_to_stockpile = { type = jet_tac_bomber_equipment_1 amount = 50 producer = USA }
	}
	if = {
		limit = {
			USA = {
				has_tech = jet_tactical_bomber2
			}
		}
		add_equipment_to_stockpile = { type = jet_tac_bomber_equipment_2 amount = 50 producer = USA }
	}
	if = {
		limit = {
			USA = {
				has_tech = strategic_bomber1
				NOT = {
					has_tech = strategic_bomber2
				}
			}
		}
		add_equipment_to_stockpile = { type = strat_bomber_equipment_1 amount = 100 producer = USA }
	}
	if = {
		limit = {
			USA = {
				has_tech = strategic_bomber2
				NOT = {
					has_tech = strategic_bomber3
				}
			}
		}
		add_equipment_to_stockpile = { type = strat_bomber_equipment_1 amount = 100 producer = USA }
	}
	if = {
		limit = {
			USA = {
				has_tech = strategic_bomber3
			}
		}
		add_equipment_to_stockpile = { type = strat_bomber_equipment_1 amount = 100 producer = USA }
	}
	if = {
		limit = {
			USA = {
				has_tech = jet_strategic_bomber1
			}
		}
		add_equipment_to_stockpile = { type = jet_strat_bomber_equipment_1 amount = 10 producer = USA }
	}
}


KMT_pro_jap_focus_civil_war = {
	if = {
		limit = {
			fascism < 0.2
		}
		start_civil_war = {
			ideology = neutrality
			capital = 765
			size = 0.5
			keep_unit_leaders_trigger = { has_unit_leader_flag = KMT_will_stay_after_pro_jap_coup }
			ruling_party = fascism
		}
		else = {
			if = {
				limit = {
					fascism < 0.3
				}
				start_civil_war = {
					ideology = neutrality
					capital = 765
					size = 0.75
					keep_unit_leaders_trigger = { has_unit_leader_flag = KMT_will_stay_after_pro_jap_coup }
					ruling_party = fascism
				}
				else = {
					if = {
						limit = {
							fascism < 0.4
						}
						start_civil_war = {
							ideology = neutrality
							capital = 765
							size = 0.4
							keep_unit_leaders_trigger = { has_unit_leader_flag = KMT_will_stay_after_pro_jap_coup }
							ruling_party = fascism
						}
						else = {
							if = {
								limit = {
									fascism < 0.5
								}
								start_civil_war = {
									ideology = neutrality
									capital = 765
									size = 0.65
									keep_unit_leaders_trigger = { has_unit_leader_flag = KMT_will_stay_after_pro_jap_coup }
									ruling_party = fascism
								}
								else = {
									if = {
										limit = {
											fascism < 0.6
										}
										start_civil_war = {
											ideology = neutrality
											capital = 765
											size = 0.3
											keep_unit_leaders_trigger = { has_unit_leader_flag = KMT_will_stay_after_pro_jap_coup }
											ruling_party = fascism
										}
										else = {
											if = {
												limit = {
													fascism < 0.7
												}
												start_civil_war = {
													ideology = neutrality
													capital = 765
													size = 0.55
													keep_unit_leaders_trigger = { has_unit_leader_flag = KMT_will_stay_after_pro_jap_coup }
													ruling_party = fascism
												}
												else = {
													start_civil_war = {
														ideology = neutrality
														capital = 765
														size = 0.2
														keep_unit_leaders_trigger = { has_unit_leader_flag = KMT_will_stay_after_pro_jap_coup }
														ruling_party = fascism
													}
												}
											}
										}
									}
								}
							}
						}
					}
				}
			}
		}
	}
}

KMT_pro_jap_finish = {
	set_country_flag = KMT_pro_japanese_coup
	hidden_effect = {
		if = {
			limit = {
				NOT = {
					has_country_flag = KMT_completed_pro_jap_focus
				}
			}
			unlock_national_focus = KMT_support_pro_japanese_faction
		}
	}
	every_country = {
		limit = {
			is_puppet_of = ROOT
		}
		ROOT = {
			end_puppet = PREV
		}
	}
	if = {
		limit = {
			has_idea = KMT_pro_jap_propaganda
		}
		remove_ideas = KMT_pro_jap_propaganda
	}
	if = {
		limit = {
			has_idea = KMT_pro_jap_propaganda_2
		}
		remove_ideas = KMT_pro_jap_propaganda_2
	}
	set_party_name = { ideology = fascism long_name = KMT_wjw name = KMT_wjw }
	create_country_leader = {
		name = "Wang Jingwei"
		desc = "POLITICS_WANG_JINGWEI_DESC"
		picture = "INT/China_Wang_Jingwei.dds"
		expire = "1965.1.1"
		ideology = fascism_ideology
		id = 1100
		traits = {
			#
		}
	}
	if = {
		limit = {
			has_country_leader = {
				name = "Chiang Kai-shek"
				ruling_only = yes
			}
		}
		if = {
			limit = {
				OR = {
					AND = {
						has_country_flag = {
							flag = KMT_pro_jap_action_count
							value > 0
						}
						has_country_flag = {
							flag = KMT_pro_jap_action_count
							value < 3
						}
					}
					has_country_flag = KMT_xian_CHI_kill_chiang
				}
			}
			kill_country_leader = yes
			else = {
				hidden_effect = {
					retire_country_leader = yes
				}
			}
		}
	}
	if = {
		limit = { has_unit_leader = 1001 }
		remove_unit_leader = 1001
	}
	KMT_pro_jap_focus_civil_war = yes
	hidden_effect = {
		# every_state = {
		# 	limit = {
		# 		is_core_of = ROOT
		# 	}
		# 	add_core_of = HYQ
		# }
		random_country = {
			limit = {
				original_tag = CHI
				NOT = { tag = CHI }
				has_civil_war = yes
			}
			every_state = {
				limit = {
					is_core_of = PREV
				}
				remove_core_of = PREV
			}
			# every_unit_leader = {
			# 	set_nationality = HYQ
			# }
		}
		# every_owned_state = {
		# 	limit = {
		# 		is_capital = no
		# 	}
		# 	HYQ = {
		# 		transfer_state = PREV
		# 	}
		# }
		# HYQ = {
		# 	country_event = { id = kmt.431 }
		# 	declare_war_on = {
		# 		target = ROOT
		# 		type = civil_war
		# 	}
		# }
		# if = {
		# 	limit = {
		# 		has_country_flag = {
		# 			flag = KMT_pro_jap_action_count
		# 			value > 0
		# 		}
		# 		598 = {
		# 			owner = { tag = HYQ }
		# 		}
		# 	}
		# 	transfer_state = 598
		# }
		if = {
			limit = {
				has_country_flag = {
					flag = KMT_pro_jap_action_count
					value > 1
				}
			}
			# if = {
			# 	limit = {
			# 		606 = {
			# 			owner = { tag = HYQ }
			# 		}
			# 	}
			# 	transfer_state = 606
			# }
			# if = {
			# 	limit = {
			# 		749 = {
			# 			owner = { tag = HYQ }
			# 		}
			# 	}
			# 	transfer_state = 749
			# }
		}
		# if = {
		# 	limit = {
		# 		has_country_flag = {
		# 			flag = KMT_pro_jap_action_count
		# 			value > 2
		# 		}
		# 		596 = {
		# 			owner = { tag = HYQ }
		# 		}
		# 	}
		# 	transfer_state = 596
		# }
		# every_unit_leader = {
		# 	limit = {
		# 		NOT = {
		# 			has_unit_leader_flag = KMT_will_stay_after_pro_jap_coup
		# 		}
		# 	}
		# 	set_nationality = HYQ
		# }
	}
	custom_effect_tooltip = KMT_coup_new_line_tt
	# HYQ = {
	# 	add_ideas = cg_true
	# 	set_capital = {
	# 		state = 613
	# 	}
	# 	if = {
	# 		limit = {
	# 			CHI = { has_country_flag = KMT_pro_jap_bribe_officials }
	# 		}
	# 		add_stability = -0.1
	# 		add_war_support = -0.05
	# 	}
	# 	if = {
	# 		limit = {
	# 			CHI = { has_country_flag = KMT_pro_jap_infiltrated_gov }
	# 		}
	# 		add_timed_idea = {
	# 			idea = KMT_pro_jap_infiltrated_gov_idea
	# 			days = 120
	# 		}
	# 	}
	# 	if = {
	# 		limit = {
	# 			CHI = { has_country_flag = KMT_pro_jap_contacted_hyq }
	# 		}
	# 		add_timed_idea = {
	# 			idea = KMT_pro_jap_contacted_hyq_idea
	# 			days = 120
	# 		}
	# 	}
	# }
	custom_effect_tooltip = KMT_coup_new_line_tt
	if = {
		limit = {
			has_country_flag = KMT_pro_jap_bribe_officials
		}
		set_stability = 0.45
		add_political_power = 75
		else = {
			set_stability = 0.4
		}
	}
	if = {
		limit = {
			has_country_flag = KMT_pro_jap_contacted_hyq
		}
		custom_effect_tooltip = KMT_pro_jap_contacted_hyq_more_troops_tt
		hidden_effect = {
			division_template = {
				name = "He Yingqin Bu"
				regiments = {
					infantry = { x = 0 y = 0 }
					infantry = { x = 0 y = 1 }
					infantry = { x = 1 y = 0 }
					infantry = { x = 1 y = 1 }
				}
			}
			random_owned_controlled_state = {
				prioritize = { 613 }
				create_unit = {
					division = "name = \"He Yingqin Bu\" division_template = \"He Yingqin Bu\" start_experience_factor = 0.25 start_equipment_factor = 0.9"
					owner = CHI
				}
				create_unit = {
					division = "name = \"He Yingqin Bu\" division_template = \"He Yingqin Bu\" start_experience_factor = 0.25 start_equipment_factor = 0.9"
					owner = CHI
				}
			}
		}
	}
	set_war_support = 0.50

	custom_effect_tooltip = KMT_coup_new_line_tt
	if = {
		limit = {
			has_country_flag = {
				flag = KMT_pro_jap_action_count
				value < 1
			}
		}
		set_political_power = 50
		# HYQ = {
		# 	add_timed_idea = {
		# 		idea = KMT_pro_jap_HYQ_penalty_unexpected
		# 		days = 15
		# 	}
		# }
		else = {
			if = {
				limit = {
					has_country_flag = {
						flag = KMT_pro_jap_action_count
						value < 2
					}
				}
				set_political_power = 150
				# HYQ = {
				# 	add_timed_idea = {
				# 		idea = KMT_pro_jap_HYQ_penalty_unexpected_2
				# 		days = 45
				# 	}
				# }
				else = {
					if = {
						limit = {
							has_country_flag = {
								flag = KMT_pro_jap_action_count
								value < 3
							}
						}
						set_political_power = 250
						add_stability = -0.05
						else = {
							if = {
								limit = {
									has_country_flag = {
										flag = KMT_pro_jap_action_count
										value < 4
									}
								}
								set_political_power = 350
								add_timed_idea = {
									idea = KMT_pro_jap_ROOT_penalty
									days = 90
								}
								add_stability = -0.1
							}
						}
					}
				}
			}
		}
	}
	hidden_effect = {
		remove_opinion_modifier = {
			modifier = hostile_status
			target = JAP
		}
		JAP = {
			remove_opinion_modifier = {
				modifier = hostile_status
				target = ROOT
			}
		}
		add_ideas = cg_false
		add_ideas = cu_not_chinese_nation
		set_politics = {
			ruling_party = fascism
		}
		set_popularities = {
			democratic = 2
			fascism = 95
			communism = 0
			neutrality = 3
		}
		if = {
			limit = {
				has_idea = KMT_government_reforming
			}
			remove_ideas = KMT_government_reforming
		}
		if = {
			limit = {
				PRC = {
					exists = yes
					NOT = {
						OR = {
							has_war_together_with = CHI
							# has_war_together_with = HYQ
							is_in_faction_with = CHI
							# is_in_faction_with = HYQ
							has_war_with = CHI
							# has_war_with = HYQ
						}
					}
				}
			}
			PRC = { country_event = { id = kmt.433 hours = 5 } }
		}
		if = {
			limit = {
				JAP = {
					exists = yes
					NOT = {
						OR = {
							has_war_together_with = CHI
							# has_war_together_with = HYQ
							is_in_faction_with = CHI
							# is_in_faction_with = HYQ
							has_war_with = CHI
							# has_war_with = HYQ
						}
					}
				}
			}
			JAP = { country_event = { id = kmt.433 hours = 5 } }
		}
		every_country = {
			limit = {
				OR = {
					#has_idea = cg_warlords
					#has_idea = cg_displaced_warlords
					tag = PGR
					tag = ZXL
					tag = MEN
				}
				NOT = {
					OR = {
						has_war_together_with = CHI
						# has_war_together_with = HYQ
						is_in_faction_with = CHI
						# is_in_faction_with = HYQ
						has_war_with = CHI
						# has_war_with = HYQ
					}
				}
				NOT = {
					is_puppet_of = JAP
					is_puppet_of = CHI
					# is_puppet_of = HYQ
				}
			}
			country_event = { id = kmt.433 hours = 5 }
		}
		# HYQ = {
		# 	add_ideas = KMT_xian_firm_stance
		# }
		if = {
			limit = {
				OR = {
					AND = {
						has_country_flag = {
							flag = KMT_pro_jap_action_count
							value > 0
						}
						has_country_flag = {
							flag = KMT_pro_jap_action_count
							value < 3
						}
					}
					CHI = {
						has_country_flag = KMT_xian_CHI_kill_chiang
					}
				}
				# HYQ = {
				# 	has_country_leader = {
				# 		name = "Chiang Kai-shek"
				# 		ruling_only = yes
				# 	}
				# }
			}
			# HYQ = {
			# 	kill_country_leader = yes
			# 	create_country_leader = {
			# 		name = "Feng Yuxiang"
			# 		picture = "gfx/leaders/kmt_mod/Portrait_Feng_Yuxiang.dds"
			# 		desc = "POLITICS_FENG_YUXIANG_DESC"
			# 		expire = "1965.1.1"
			# 		ideology = oligarchism
			# 		traits = {
			# 			#
			# 		}
			# 	}
			# }
		}
		if = {
			limit = {
				has_country_flag = KMT_pro_jap_local_militias
			}
			if = {
				limit = {
					has_country_flag = {
						flag = KMT_pro_jap_action_count
						value < 2
					}
				}
				load_oob = "CHI_support_pro_jap_1_action"
				else = {
					if = {
						limit = {
							has_country_flag = {
								flag = KMT_pro_jap_action_count
								value < 3
							}
						}
						load_oob = "CHI_support_pro_jap_2_action"
						if = {
							limit = {
								has_country_flag = {
									flag = KMT_pro_jap_action_count
									value < 4
								}
							}
							load_oob = "CHI_support_pro_jap_3_action"
						}
					}
				}
			}
		}
	}
}


KMT_red_coup_effect = {
	set_country_flag = KMT_red_coup_finish
	hidden_effect = {
		every_country = {
			limit = {
				is_puppet_of = ROOT
			}
			ROOT = {
				end_puppet = PREV
			}
		}
	}
	if = {
		limit = {
			communism < 0.1
		}
		country_event = { id = kmt.481 }
		if = {
			limit = {
				has_government = neutrality
			}
			start_civil_war = {
				ideology = neutrality
				ruling_party = communism
				keep_unit_leaders = { 1033 1034 1035 1036 1037 1038 1039 }
				size = 0.9
			}
			else = {
				if = {
					limit = {
						has_government = democratic
					}
					start_civil_war = {
						ideology = democratic
						ruling_party = communism
						keep_unit_leaders = { 1033 1034 1035 1036 1037 1038 1039 }
						size = 0.9
					}
					else = {
						if = {
							limit = {
								has_government = fascism
							}
							start_civil_war = {
								ideology = fascism
								ruling_party = communism
								keep_unit_leaders = { 1033 1034 1035 1036 1037 1038 1039 }
								size = 0.9
							}
						}
					}
				}
			}
		}
		if = {
			limit = {
				has_global_flag = KMT_PRC_agrees_to_work_with_us
			}
			add_ideas = KMT_peasants_revolution_1
			else = {
				add_ideas = KMT_revolution_1
			}
		}
		else = {
			if = {
				limit = {
					communism < 0.2
				}
				random_list = {
					90 = {
						country_event = { id = kmt.480 }
						if = {
							limit = {
								has_government = neutrality
							}
							start_civil_war = {
								ideology = neutrality
								ruling_party = communism
								keep_unit_leaders = { 1033 1034 1035 1036 1037 1038 1039 }
								size = 0.75
							}
							else = {
								if = {
									limit = {
										has_government = democratic
									}
									start_civil_war = {
										ideology = democratic
										ruling_party = communism
										keep_unit_leaders = { 1033 1034 1035 1036 1037 1038 1039 }
										size = 0.75
									}
									else = {
										if = {
											limit = {
												has_government = fascism
											}
											start_civil_war = {
												ideology = fascism
												ruling_party = communism
												keep_unit_leaders = { 1033 1034 1035 1036 1037 1038 1039 }
												size = 0.75
											}
										}
									}
								}
							}
						}
						if = {
							limit = {
								has_global_flag = KMT_PRC_agrees_to_work_with_us
							}
							add_ideas = KMT_peasants_revolution_2
							else = {
								add_ideas = KMT_revolution_2
							}
						}
						custom_effect_tooltip = KMT_coup_new_line_tt
					}
					10 = {
						country_event = { id = kmt.481 }
						set_politics = {
							ruling_party = communism
						}
						add_timed_idea = {
							idea = KMT_triumphant_revolution
							days = 720
						}
						custom_effect_tooltip = KMT_coup_new_line_tt
					}
				}
				else = {
					if = {
						limit = {
							communism < 0.3
						}
						random_list = {
							80 = {
								country_event = { id = kmt.480 }
								if = {
									limit = {
										has_government = neutrality
									}
									start_civil_war = {
										ideology = neutrality
										ruling_party = communism
										keep_unit_leaders = { 1033 1034 1035 1036 1037 1038 1039 }
										size = 0.65
									}
									else = {
										if = {
											limit = {
												has_government = democratic
											}
											start_civil_war = {
												ideology = democratic
												ruling_party = communism
												keep_unit_leaders = { 1033 1034 1035 1036 1037 1038 1039 }
												size = 0.65
											}
											else = {
												if = {
													limit = {
														has_government = fascism
													}
													start_civil_war = {
														ideology = fascism
														ruling_party = communism
														keep_unit_leaders = { 1033 1034 1035 1036 1037 1038 1039 }
														size = 0.65
													}
												}
											}
										}
									}
								}
								if = {
									limit = {
										has_global_flag = KMT_PRC_agrees_to_work_with_us
									}
									add_ideas = KMT_peasants_revolution_3
									else = {
										add_ideas = KMT_revolution_3
									}
								}
								custom_effect_tooltip = KMT_coup_new_line_tt
							}
							20 = {
								country_event = { id = kmt.481 }
								set_politics = {
									ruling_party = communism
								}
								add_timed_idea = {
									idea = KMT_triumphant_revolution
									days = 720
								}
								custom_effect_tooltip = KMT_coup_new_line_tt
							}
						}
						else = {
							if = {
								limit = {
									communism < 0.4
								}
								random_list = {
									70 = {
										country_event = { id = kmt.480 }
										if = {
											limit = {
												has_government = neutrality
											}
											start_civil_war = {
												ideology = neutrality
												ruling_party = communism
												keep_unit_leaders = { 1033 1034 1035 1036 1037 1038 1039 }
												size = 0.55
											}
											else = {
												if = {
													limit = {
														has_government = democratic
													}
													start_civil_war = {
														ideology = democratic
														ruling_party = communism
														keep_unit_leaders = { 1033 1034 1035 1036 1037 1038 1039 }
														size = 0.55
													}
													else = {
														if = {
															limit = {
																has_government = fascism
															}
															start_civil_war = {
																ideology = fascism
																ruling_party = communism
																keep_unit_leaders = { 1033 1034 1035 1036 1037 1038 1039 }
																size = 0.55
															}
														}
													}
												}
											}
										}
										if = {
											limit = {
												has_global_flag = KMT_PRC_agrees_to_work_with_us
											}
											add_ideas = KMT_peasants_revolution_4
											else = {
												add_ideas = KMT_revolution_4
											}
										}
										custom_effect_tooltip = KMT_coup_new_line_tt
									}
									30 = {
										country_event = { id = kmt.481 }
										set_politics = {
											ruling_party = communism
										}
										add_timed_idea = {
											idea = KMT_triumphant_revolution
											days = 720
										}
										custom_effect_tooltip = KMT_coup_new_line_tt
									}
								}
								else = {
									if = {
										limit = {
											communism < 0.5
										}
										random_list = {
											60 = {
												country_event = { id = kmt.480 }
												if = {
													limit = {
														has_government = neutrality
													}
													start_civil_war = {
														ideology = neutrality
														ruling_party = communism
														keep_unit_leaders = { 1033 1034 1035 1036 1037 1038 1039 }
														size = 0.45
													}
													else = {
														if = {
															limit = {
																has_government = democratic
															}
															start_civil_war = {
																ideology = democratic
																ruling_party = communism
																keep_unit_leaders = { 1033 1034 1035 1036 1037 1038 1039 }
																size = 0.45
															}
															else = {
																if = {
																	limit = {
																		has_government = fascism
																	}
																	start_civil_war = {
																		ideology = fascism
																		ruling_party = communism
																		keep_unit_leaders = { 1033 1034 1035 1036 1037 1038 1039 }
																		size = 0.45
																	}
																}
															}
														}
													}
												}
												if = {
													limit = {
														has_global_flag = KMT_PRC_agrees_to_work_with_us
													}
													add_ideas = KMT_peasants_revolution_5
													else = {
														add_ideas = KMT_revolution_5
													}
												}
												custom_effect_tooltip = KMT_coup_new_line_tt
											}
											40 = {
												country_event = { id = kmt.481 }
												set_politics = {
													ruling_party = communism
												}
												add_timed_idea = {
													idea = KMT_triumphant_revolution
													days = 720
												}
												custom_effect_tooltip = KMT_coup_new_line_tt
											}
										}
										else = {
											if = {
												limit = {
													communism < 0.6
												}
												random_list = {
													50 = {
														country_event = { id = kmt.480 }
														if = {
															limit = {
																has_government = neutrality
															}
															start_civil_war = {
																ideology = neutrality
																ruling_party = communism
																keep_unit_leaders = { 1033 1034 1035 1036 1037 1038 1039 }
																size = 0.35
															}
															else = {
																if = {
																	limit = {
																		has_government = democratic
																	}
																	start_civil_war = {
																		ideology = democratic
																		ruling_party = communism
																		keep_unit_leaders = { 1033 1034 1035 1036 1037 1038 1039 }
																		size = 0.35
																	}
																	else = {
																		if = {
																			limit = {
																				has_government = fascism
																			}
																			start_civil_war = {
																				ideology = fascism
																				ruling_party = communism
																				keep_unit_leaders = { 1033 1034 1035 1036 1037 1038 1039 }
																				size = 0.35
																			}
																		}
																	}
																}
															}
														}
														if = {
															limit = {
																has_global_flag = KMT_PRC_agrees_to_work_with_us
															}
															add_ideas = KMT_peasants_revolution_6
															else = {
																add_ideas = KMT_revolution_6
															}
														}
														custom_effect_tooltip = KMT_coup_new_line_tt
													}
													50 = {
														country_event = { id = kmt.481 }
														set_politics = {
															ruling_party = communism
														}
														add_timed_idea = {
															idea = KMT_triumphant_revolution
															days = 720
														}
														custom_effect_tooltip = KMT_coup_new_line_tt
													}
												}
												else = {
													if = {
														limit = {
															communism < 0.7
														}
														random_list = {
															35 = {
																country_event = { id = kmt.480 }
																if = {
																	limit = {
																		has_government = neutrality
																	}
																	start_civil_war = {
																		ideology = neutrality
																		ruling_party = communism
																		keep_unit_leaders = { 1033 1034 1035 1036 1037 1038 1039 }
																		size = 0.25
																	}
																	else = {
																		if = {
																			limit = {
																				has_government = democratic
																			}
																			start_civil_war = {
																				ideology = democratic
																				ruling_party = communism
																				keep_unit_leaders = { 1033 1034 1035 1036 1037 1038 1039 }
																				size = 0.25
																			}
																			else = {
																				if = {
																					limit = {
																						has_government = fascism
																					}
																					start_civil_war = {
																						ideology = fascism
																						ruling_party = communism
																						keep_unit_leaders = { 1033 1034 1035 1036 1037 1038 1039 }
																						size = 0.25
																					}
																				}
																			}
																		}
																	}
																}
																if = {
																	limit = {
																		has_global_flag = KMT_PRC_agrees_to_work_with_us
																	}
																	add_ideas = KMT_peasants_revolution_7
																	else = {
																		add_ideas = KMT_revolution_7
																	}
																}
																custom_effect_tooltip = KMT_coup_new_line_tt
															}
															65 = {
																country_event = { id = kmt.481 }
																set_politics = {
																	ruling_party = communism
																}
																add_timed_idea = {
																	idea = KMT_triumphant_revolution
																	days = 720
																}
																custom_effect_tooltip = KMT_coup_new_line_tt
															}
														}
														else = {
															if = {
																limit = {
																	communism < 0.8
																}
																random_list = {
																	20 = {
																		country_event = { id = kmt.480 }
																		if = {
																			limit = {
																				has_government = neutrality
																			}
																			start_civil_war = {
																				ideology = neutrality
																				ruling_party = communism
																				keep_unit_leaders = { 1033 1034 1035 1036 1037 1038 1039 }
																				size = 0.25
																			}
																			else = {
																				if = {
																					limit = {
																						has_government = democratic
																					}
																					start_civil_war = {
																						ideology = democratic
																						ruling_party = communism
																						keep_unit_leaders = { 1033 1034 1035 1036 1037 1038 1039 }
																						size = 0.25
																					}
																					else = {
																						if = {
																							limit = {
																								has_government = fascism
																							}
																							start_civil_war = {
																								ideology = fascism
																								ruling_party = communism
																								keep_unit_leaders = { 1033 1034 1035 1036 1037 1038 1039 }
																								size = 0.25
																							}
																						}
																					}
																				}
																			}
																		}
																		if = {
																			limit = {
																				has_global_flag = KMT_PRC_agrees_to_work_with_us
																			}
																			add_ideas = KMT_peasants_revolution_7
																			else = {
																				add_ideas = KMT_revolution_7
																			}
																		}
																		custom_effect_tooltip = KMT_coup_new_line_tt
																	}
																	80 = {
																		country_event = { id = kmt.481 }
																		set_politics = {
																			ruling_party = communism
																		}
																		add_timed_idea = {
																			idea = KMT_triumphant_revolution
																			days = 720
																		}
																		custom_effect_tooltip = KMT_coup_new_line_tt
																	}
																}
																else = {
																	if = {
																		limit = {
																			communism < 0.9
																		}
																		random_list = {
																			10 = {
																				country_event = { id = kmt.480 }
																				if = {
																					limit = {
																						has_government = neutrality
																					}
																					start_civil_war = {
																						ideology = neutrality
																						ruling_party = communism
																						keep_unit_leaders = { 1033 1034 1035 1036 1037 1038 1039 }
																						size = 0.25
																					}
																					else = {
																						if = {
																							limit = {
																								has_government = democratic
																							}
																							start_civil_war = {
																								ideology = democratic
																								ruling_party = communism
																								keep_unit_leaders = { 1033 1034 1035 1036 1037 1038 1039 }
																								size = 0.25
																							}
																							else = {
																								if = {
																									limit = {
																										has_government = fascism
																									}
																									start_civil_war = {
																										ideology = fascism
																										ruling_party = communism
																										keep_unit_leaders = { 1033 1034 1035 1036 1037 1038 1039 }
																										size = 0.25
																									}
																								}
																							}
																						}
																					}
																				}
																				if = {
																					limit = {
																						has_global_flag = KMT_PRC_agrees_to_work_with_us
																					}
																					add_ideas = KMT_peasants_revolution_7
																					else = {
																						add_ideas = KMT_revolution_7
																					}
																				}
																				custom_effect_tooltip = KMT_coup_new_line_tt
																			}
																			90 = {
																				country_event = { id = kmt.481 }
																				set_politics = {
																					ruling_party = communism
																				}
																				add_timed_idea = {
																					idea = KMT_triumphant_revolution
																					days = 720
																				}
																				custom_effect_tooltip = KMT_coup_new_line_tt
																			}
																		}
																		else = {
																			country_event = { id = kmt.481 }
																			set_politics = {
																				ruling_party = communism
																			}
																			add_timed_idea = {
																				idea = KMT_triumphant_revolution
																				days = 720
																			}
																		}
																	}
																}
															}
														}
													}
												}
											}
										}
									}
								}
							}
						}
					}
				}
			}
		}
	}
	add_popularity = {
		ideology = communism
		popularity = 0.95
	}
	if = {
		limit = {
			has_global_flag = KMT_coup_more_pp
		}
		add_political_power = 200
	}
	if = {
		limit = {
			has_global_flag = KMT_coup_chen_duxiu_leader
		}
		set_party_name = { ideology = communism long_name = KMT_new_cpc name = KMT_new_cpc_short }
		create_country_leader = {
			name = "Chen Duxiu"
			desc = "POLITICS_CHEN_DUXIU_DESC"
			picture = "gfx/leaders/kmt_mod/Portrait_Chen_Duxiu.dds"
			expire = "1965.1.1"
			ideology = leninism
			traits = {
				PRC_trotskyist
			}
		}
	}
	if = {
		limit = {
			has_global_flag = KMT_coup_get_reinforcements
		}
		division_template = {
			name = "Zhong Gong Yuan Jun"
			regiments = {
				infantry = { x = 0 y = 0 }
				infantry = { x = 0 y = 1 }
				infantry = { x = 1 y = 0 }
				infantry = { x = 1 y = 1 }
			}
		}
		random_owned_controlled_state = {
			prioritize = { 613 }
			create_unit = {
				division = "name = \"Zhong Gong Yuan Jun\" division_template = \"Zhong Gong Yuan Jun\" start_experience_factor = 0.3"
				owner = CHI
			}
			create_unit = {
				division = "name = \"Zhong Gong Yuan Jun\" division_template = \"Zhong Gong Yuan Jun\" start_experience_factor = 0.3"
				owner = CHI
			}
		}
	}
	hidden_effect = {
		if = {
			limit = {
				has_idea = KMT_government_reforming
			}
			remove_ideas = KMT_government_reforming
		}
		if = { limit = { has_unit_leader = 1001 } remove_unit_leader = 1001 }
		if = { limit = { has_unit_leader = 10011 } remove_unit_leader = 10011 }
		every_state = {
			limit = {
				is_core_of = CHI
			}
			# add_core_of = HYQ
		}
		if = {
			limit = {
				has_civil_war = yes
			}
			random_country = {
				limit = {
					original_tag = CHI
					NOT = { tag = CHI }
				}
				every_state = {
					limit = {
						is_core_of = PREV
					}
					remove_core_of = PREV
				}
				# HYQ = {
				# 	annex_country = {
				# 		target = PREV
				# 		transfer_troops = yes
				# 	}
				# 	declare_war_on = {
				# 		target = ROOT
				# 		type = civil_war
				# 	}
				# 	set_politics = {
				# 		ruling_party = neutrality
				# 		elections_allowed = no
				# 	}
				# 	set_popularities = {
				# 		democratic = 5
				# 		fascism = 5
				# 		communism = 1
				# 		neutrality = 89
				# 	}
				# 	if = {
				# 		limit = {
				# 			NOT = {
				# 				has_global_flag = cks_killed_xian
				# 			}
				# 		}
				# 		create_country_leader = {
				# 			name = "Chiang Kai-shek"
				# 			picture = "gfx/leaders/CHI/Portrait_China_Chiang_Kai_Shek.dds"
				# 			desc = "POLITICS_CHIANG_KAI-SHEK_DESC_DESC"
				# 			expire = "1965.1.1"
				# 			ideology = despotism
				# 			traits = {
				# 				KMT_cks_generallissimo
				# 			}
				# 		}
				# 		else = {
				# 			create_country_leader = {
				# 				name = "Feng Yuxiang"
				# 				picture = "gfx/leaders/kmt_mod/Portrait_Feng_Yuxiang.dds"
				# 				desc = "POLITICS_FENG_YUXIANG_DESC"
				# 				expire = "1965.1.1"
				# 				ideology = oligarchism
				# 				traits = {
				# 					#
				# 				}
				# 			}
				# 		}
				# 	}
				# }
			}
			if = {
				limit = {
					PRC = {
						exists = yes
						NOT = {
							OR = {
								has_war_together_with = CHI
								# has_war_together_with = HYQ
								is_in_faction_with = CHI
								# is_in_faction_with = HYQ
								has_war_with = CHI
								# has_war_with = HYQ
							}
						}
					}
				}
				PRC = { country_event = { id = kmt.482 hours = 2 } }
			}
			if = {
				limit = {
					JAP = {
						exists = yes
						NOT = {
							OR = {
								has_war_together_with = CHI
								# has_war_together_with = HYQ
								is_in_faction_with = CHI
								# is_in_faction_with = HYQ
								has_war_with = CHI
								# has_war_with = HYQ
							}
						}
					}
				}
				JAP = { country_event = { id = kmt.482 hours = 5 } }
			}
			every_country = {
				limit = {
					OR = {
						#has_idea = cg_warlords
						#has_idea = cg_displaced_warlords
						tag = PGR
						tag = ZXL
						tag = MEN
					}
					NOT = {
						OR = {
							has_war_together_with = CHI
							# has_war_together_with = HYQ
							is_in_faction_with = CHI
							# is_in_faction_with = HYQ
							has_war_with = CHI
							# has_war_with = HYQ
						}
					}
					NOT = {
						is_puppet_of = JAP
						is_puppet_of = CHI
						# is_puppet_of = HYQ
					}
				}
				country_event = { id = kmt.482 hours = 5 }
			}
			# every_unit_leader = {
			# 	limit = {
			# 		OR = {
			# 			has_id = 1001
			# 			has_id = 1003
			# 			has_id = 1005
			# 			has_id = 1016
			# 			has_id = 1019
			# 			has_id = 1022
			# 		}
			# 	}
			# 	set_nationality = HYQ
			# }
			# random_country = {
			# 	limit = {
			# 		original_tag = CHI
			# 		NOT = { tag = ROOT }
			# 	}
			# 	every_unit_leader = {
			# 		set_nationality = HYQ
			# 	}
			# }
		}
	}
}

KMT_red_coup_effect_procrastinated = {
	set_country_flag = KMT_red_coup_finish
	hidden_effect = {
		every_country = {
			limit = {
				is_puppet_of = ROOT
			}
			ROOT = {
				end_puppet = PREV
			}
		}
	}
	if = {
		limit = {
			communism < 0.1
		}
		if = {
			limit = {
				has_government = neutrality
			}
			start_civil_war = {
				ideology = neutrality
				ruling_party = communism
				keep_unit_leaders = { 1033 1034 1035 1036 1037 1038 1039 }
				size = 0.9
			}
			else = {
				if = {
					limit = {
						has_government = democratic
					}
					start_civil_war = {
						ideology = democratic
						ruling_party = communism
						keep_unit_leaders = { 1033 1034 1035 1036 1037 1038 1039 }
						size = 0.9
					}
					else = {
						if = {
							limit = {
								has_government = fascism
							}
							start_civil_war = {
								ideology = fascism
								ruling_party = communism
								keep_unit_leaders = { 1033 1034 1035 1036 1037 1038 1039 }
								size = 0.9
							}
						}
					}
				}
			}
		}
		if = {
			limit = {
				has_global_flag = KMT_PRC_agrees_to_work_with_us
			}
			add_ideas = KMT_peasants_revolution_1
			else = {
				add_ideas = KMT_revolution_1
			}
		}
		else = {
			if = {
				limit = {
					communism < 0.2
				}
				if = {
					limit = {
						has_government = neutrality
					}
					start_civil_war = {
						ideology = neutrality
						ruling_party = communism
						keep_unit_leaders = { 1033 1034 1035 1036 1037 1038 1039 }
						size = 0.7
					}
					else = {
						if = {
							limit = {
								has_government = democratic
							}
							start_civil_war = {
								ideology = democratic
								ruling_party = communism
								keep_unit_leaders = { 1033 1034 1035 1036 1037 1038 1039 }
								size = 0.7
							}
							else = {
								if = {
									limit = {
										has_government = fascism
									}
									start_civil_war = {
										ideology = fascism
										ruling_party = communism
										keep_unit_leaders = { 1033 1034 1035 1036 1037 1038 1039 }
										size = 0.7
									}
								}
							}
						}
					}
				}
				if = {
					limit = {
						has_global_flag = KMT_PRC_agrees_to_work_with_us
					}
					add_ideas = KMT_peasants_revolution_2
					else = {
						add_ideas = KMT_revolution_2
					}
				}
				else = {
					if = {
						limit = {
							communism < 0.3
						}
						if = {
							limit = {
								has_government = neutrality
							}
							start_civil_war = {
								ideology = neutrality
								ruling_party = communism
								keep_unit_leaders = { 1033 1034 1035 1036 1037 1038 1039 }
								size = 0.6
							}
							else = {
								if = {
									limit = {
										has_government = democratic
									}
									start_civil_war = {
										ideology = democratic
										ruling_party = communism
										keep_unit_leaders = { 1033 1034 1035 1036 1037 1038 1039 }
										size = 0.6
									}
									else = {
										if = {
											limit = {
												has_government = fascism
											}
											start_civil_war = {
												ideology = fascism
												ruling_party = communism
												keep_unit_leaders = { 1033 1034 1035 1036 1037 1038 1039 }
												size = 0.6
											}
										}
									}
								}
							}
						}
						if = {
							limit = {
								has_global_flag = KMT_PRC_agrees_to_work_with_us
							}
							add_ideas = KMT_peasants_revolution_3
							else = {
								add_ideas = KMT_revolution_3
							}
						}
						else = {
							if = {
								limit = {
									communism < 0.4
								}
								if = {
									limit = {
										has_government = neutrality
									}
									start_civil_war = {
										ideology = neutrality
										ruling_party = communism
										keep_unit_leaders = { 1033 1034 1035 1036 1037 1038 1039 }
										size = 0.5
									}
									else = {
										if = {
											limit = {
												has_government = democratic
											}
											start_civil_war = {
												ideology = democratic
												ruling_party = communism
												keep_unit_leaders = { 1033 1034 1035 1036 1037 1038 1039 }
												size = 0.5
											}
											else = {
												if = {
													limit = {
														has_government = fascism
													}
													start_civil_war = {
														ideology = fascism
														ruling_party = communism
														keep_unit_leaders = { 1033 1034 1035 1036 1037 1038 1039 }
														size = 0.5
													}
												}
											}
										}
									}
								}
								if = {
									limit = {
										has_global_flag = KMT_PRC_agrees_to_work_with_us
									}
									add_ideas = KMT_peasants_revolution_4
									else = {
										add_ideas = KMT_revolution_4
									}
								}
								else = {
									if = {
										limit = {
											has_government = neutrality
										}
										start_civil_war = {
											ideology = neutrality
											ruling_party = communism
											keep_unit_leaders = { 1033 1034 1035 1036 1037 1038 1039 }
											size = 0.4
										}
										else = {
											if = {
												limit = {
													has_government = democratic
												}
												start_civil_war = {
													ideology = democratic
													ruling_party = communism
													keep_unit_leaders = { 1033 1034 1035 1036 1037 1038 1039 }
													size = 0.4
												}
												else = {
													if = {
														limit = {
															has_government = fascism
														}
														start_civil_war = {
															ideology = fascism
															ruling_party = communism
															keep_unit_leaders = { 1033 1034 1035 1036 1037 1038 1039 }
															size = 0.4
														}
													}
												}
											}
										}
									}
									if = {
										limit = {
											has_global_flag = KMT_PRC_agrees_to_work_with_us
										}
										add_ideas = KMT_peasants_revolution_5
										else = {
											add_ideas = KMT_revolution_5
										}
									}
								}
							}
						}
					}
				}
			}
		}
	}
	if = {
		limit = {
			has_global_flag = KMT_coup_more_pp
		}
		add_political_power = 100
	}
	if = {
		limit = {
			has_global_flag = KMT_coup_chen_duxiu_leader
		}
		set_party_name = { ideology = communism long_name = KMT_new_cpc name = KMT_new_cpc_short }
		create_country_leader = {
			name = "Chen Duxiu"
			desc = "POLITICS_CHEN_DUXIU_DESC"
			picture = "gfx/leaders/kmt_mod/Portrait_Chen_Duxiu.dds"
			expire = "1965.1.1"
			ideology = leninism
			traits = {
				PRC_trotskyist
			}
		}
	}
	if = {
		limit = {
			has_global_flag = KMT_coup_get_reinforcements
		}
		division_template = {
			name = "Zhong Gong Yuan Jun"
			regiments = {
				infantry = { x = 0 y = 0 }
				infantry = { x = 0 y = 1 }
				infantry = { x = 1 y = 0 }
				infantry = { x = 1 y = 1 }
			}
		}
		random_owned_controlled_state = {
			prioritize = { 613 }
			create_unit = {
				division = "name = \"Zhong Gong Yuan Jun\" division_template = \"Zhong Gong Yuan Jun\" start_experience_factor = 0.3"
				owner = CHI
			}
			create_unit = {
				division = "name = \"Zhong Gong Yuan Jun\" division_template = \"Zhong Gong Yuan Jun\" start_experience_factor = 0.3"
				owner = CHI
			}
		}
	}
	hidden_effect = {
		if = {
			limit = {
				has_idea = KMT_government_reforming
			}
			remove_ideas = KMT_government_reforming
		}
		if = { limit = { has_unit_leader = 1001 } remove_unit_leader = 1001 }
		if = { limit = { has_unit_leader = 10011 } remove_unit_leader = 10011 }
		# every_state = {
		# 	limit = {
		# 		is_core_of = CHI
		# 	}
		# 	add_core_of = HYQ
		# }
		if = {
			limit = {
				has_civil_war = yes
			}
			random_country = {
				limit = {
					original_tag = CHI
					NOT = { tag = CHI }
				}
				every_state = {
					limit = {
						is_core_of = PREV
					}
					remove_core_of = PREV
				}
				# HYQ = {
				# 	annex_country = {
				# 		target = PREV
				# 		transfer_troops = yes
				# 	}
				# 	declare_war_on = {
				# 		target = ROOT
				# 		type = civil_war
				# 	}
				# 	set_politics = {
				# 		ruling_party = neutrality
				# 		elections_allowed = no
				# 	}
				# 	set_popularities = {
				# 		democratic = 5
				# 		fascism = 5
				# 		communism = 1
				# 		neutrality = 89
				# 	}
				# 	if = {
				# 		limit = {
				# 			NOT = {
				# 				has_global_flag = cks_killed_xian
				# 			}
				# 		}
				# 		create_country_leader = {
				# 			name = "Chiang Kai-shek"
				# 			picture = "gfx/leaders/CHI/Portrait_China_Chiang_Kai_Shek.dds"
				# 			desc = "POLITICS_CHIANG_KAI-SHEK_DESC_DESC"
				# 			expire = "1965.1.1"
				# 			ideology = despotism
				# 			traits = {
				# 				KMT_cks_generallissimo
				# 			}
				# 		}
				# 		else = {
				# 			create_country_leader = {
				# 				name = "Feng Yuxiang"
				# 				picture = "gfx/leaders/kmt_mod/Portrait_Feng_Yuxiang.dds"
				# 				desc = "POLITICS_FENG_YUXIANG_DESC"
				# 				expire = "1965.1.1"
				# 				ideology = oligarchism
				# 				traits = {
				# 					#
				# 				}
				# 			}
				# 		}
				# 	}
				# }
			}
			if = {
				limit = {
					PRC = {
						exists = yes
						NOT = {
							OR = {
								has_war_together_with = CHI
								# has_war_together_with = HYQ
								is_in_faction_with = CHI
								# is_in_faction_with = HYQ
								has_war_with = CHI
								# has_war_with = HYQ
							}
						}
					}
				}
				PRC = { country_event = { id = kmt.482 hours = 2 } }
			}
			if = {
				limit = {
					JAP = {
						exists = yes
						NOT = {
							OR = {
								has_war_together_with = CHI
								# has_war_together_with = HYQ
								is_in_faction_with = CHI
								# is_in_faction_with = HYQ
								has_war_with = CHI
								# has_war_with = HYQ
							}
						}
					}
				}
				JAP = { country_event = { id = kmt.482 hours = 5 } }
			}
			every_country = {
				limit = {
					OR = {
						#has_idea = cg_warlords
						#has_idea = cg_displaced_warlords
						tag = PGR
						tag = ZXL
						tag = MEN
					}
					NOT = {
						OR = {
							has_war_together_with = CHI
							# has_war_together_with = HYQ
							is_in_faction_with = CHI
							# is_in_faction_with = HYQ
							has_war_with = CHI
							# has_war_with = HYQ
						}
					}
					NOT = {
						is_puppet_of = JAP
						is_puppet_of = CHI
						# is_puppet_of = HYQ
					}
				}
				country_event = { id = kmt.482 hours = 5 }
			}
			# random_unit_leader = {
			# 	limit = {
			# 		OR = {
			# 			has_id = 1001
			# 			has_id = 1003
			# 			has_id = 1005
			# 			has_id = 1016
			# 			has_id = 1019
			# 			has_id = 1022
			# 		}
			# 	}
			# set_nationality = HYQ
			# }
			# random_country = {
			# 	limit = {
			# 		original_tag = CHI
			# 		NOT = { tag = CHI }
			# 	}
			# 	every_unit_leader = {
			# 		set_nationality = HYQ
			# 	}
			# }
		}
	}
}

oust_the_coloniser_effect = {
			create_wargoal = {			
				expire = 100
		target = HOL
		type = take_state_focus
		generator = { 334 }
	}
	every_country = {
		limit = {
			any_owned_state = {
				is_on_continent = asia
			}
			capital_scope = {
				NOT = {
					is_on_continent = asia
				}
			}
			NOT = {
				tag = SOV
			}
		}
		ROOT = {
					create_wargoal = {			
				expire = 100
				target = PREV
				type = topple_government
			}
		}
	}
	every_country = {
		limit = {
			capital_scope = {
				is_on_continent = asia
			}
			is_puppet = yes
			overlord = {
				capital_scope = {
					NOT = {
						is_on_continent = asia
					}
				}
			}
		}
		overlord = {
			ROOT = {
						create_wargoal = {			
				expire = 100
					target = PREV
					type = topple_government
				}
			}
		}
	}
	if = {
		limit = {
			any_state = {
				is_on_continent = asia
				is_owned_by = POR
			}
		}
		POR = { country_event = { id = kmt.251 } }
	}
}

#KMT_own_fighter_assembly = {
#	if = {
#		limit = {
#			has_completed_focus = KMT_setup_camco_assembly_plants
#			OR = {
#				burma_road_ok = yes
#				yunnan_bahn_ok = yes
#			}
#		}
#
#	}
#}

foreign_supply_effect = {
	if = {
		limit = {
			ENG = {
				is_puppet = no
				has_capitulated = no
			}
			has_global_flag = KMT_ENG_agreed_to_assist
		}
		if = {
			limit = {
				ENG = {
					has_tech = advanced_infantry_weapons
					has_opinion = {
						target = ROOT
						value > 84
					}
				}
			}
			add_equipment_to_stockpile = { type = infantry_equipment_3 amount = 200 producer = ENG }
			else = {
				if = {
					limit = {
						ENG = {
							has_tech = improved_infantry_weapons
							has_opinion = {
								target = ROOT
								value > 64
							}
						}
					}
					add_equipment_to_stockpile = { type = infantry_equipment_2 amount = 200 producer = ENG }
					else = {
						if = {
							limit = {
								ENG = {
									has_opinion = {
										target = ROOT
										value > 44
									}
								}
							}
							add_equipment_to_stockpile = { type = infantry_equipment_1 amount = 200 producer = ENG }
							else = {
								add_equipment_to_stockpile = { type = infantry_equipment_0 amount = 200 producer = ENG }
							}
						}
					}
				}
			}
		}
		if = {
			limit = {
				USA = {
					has_tech = tech_support
					has_opinion = {
						target = ROOT
						value > 14
					}
				}
			}
			add_equipment_to_stockpile = { type = support_equipment_1 amount = 100 producer = ENG }
		}
		if = {
			limit = {
				ENG = {
					has_tech = fighter3
					has_opinion = {
						target = ROOT
						value > 84
					}
				}
			}
			add_equipment_to_stockpile = { type = fighter_equipment_3 amount = 8 producer = ENG }
			else = {
				if = {
					limit = {
						ENG = {
							has_tech = fighter2
							has_opinion = {
								target = ROOT
								value > 64
							}
						}
					}
					add_equipment_to_stockpile = { type = fighter_equipment_2 amount = 8 producer = ENG }
					else = {
						if = {
							limit = {
								ENG = {
									has_tech = fighter1
									has_opinion = {
										target = ROOT
										value > 44
									}
								}
							}
							add_equipment_to_stockpile = { type = fighter_equipment_1 amount = 8 producer = ENG }
							else = {
								if = {
									limit = {
										ENG = {
											has_tech = early_fighter
											has_opinion = {
												target = ROOT
												value > 24
											}
										}
									}
									add_equipment_to_stockpile = { type = fighter_equipment_0 amount = 8 producer = ENG }
								}
							}
						}
					}
				}
			}
		}
		if = {
			limit = {
				ENG = {
					OR = {
						has_tech = advanced_light_tank
						has_tech = advanced_light_tank_chassis
					}
					has_opinion = {
						target = ROOT
						value > 94
					}
				}
			}
			add_equipment_to_stockpile = { type = light_tank_equipment_3 amount = 8 producer = ENG }
			else = {
				if = {
					limit = {
						ENG = {
							OR = {
								has_tech = improved_light_tank
								has_tech = improved_light_tank_chassis
							}
							has_opinion = {
								target = ROOT
								value > 84
							}
						}
					}
					add_equipment_to_stockpile = { type = light_tank_equipment_2 amount = 8 producer = ENG }
					else = {
						if = {
							limit = {
								ENG = {
									has_tech = basic_light_tank
									has_opinion = {
										target = ROOT
										value > 74
									}
								}
							}
							add_equipment_to_stockpile = { type = light_tank_equipment_1 amount = 8 producer = ENG }
							else = {
								if = {
									limit = {
										ENG = {
											#has_tech = gwtank
											has_opinion = {
												target = ROOT
												value > 64
											}
										}
									}
									add_equipment_to_stockpile = { type = gw_tank_equipment amount = 8 producer = ENG }
								}
							}
						}
					}
				}
			}
		}
	}
	if = {
		limit = {
			USA = {
				is_puppet = no
				has_capitulated = no
			}
			has_global_flag = KMT_USA_agreed_to_assist
		}
		if = {
			limit = {
				USA = {
					has_tech = advanced_infantry_weapons
					has_opinion = {
						target = ROOT
						value > 84
					}
				}
			}
			add_equipment_to_stockpile = { type = infantry_equipment_3 amount = 200 producer = USA }
			else = {
				if = {
					limit = {
						USA = {
							has_tech = improved_infantry_weapons
							has_opinion = {
								target = ROOT
								value > 64
							}
						}
					}
					add_equipment_to_stockpile = { type = infantry_equipment_2 amount = 200 producer = USA }
					else = {
						if = {
							limit = {
								USA = {
									has_tech = infantry_weapons1
									has_opinion = {
										target = ROOT
										value > 64
									}
								}
							}
							add_equipment_to_stockpile = { type = infantry_equipment_1 amount = 200 producer = USA }
							else = {
								add_equipment_to_stockpile = { type = infantry_equipment_0 amount = 200 producer = USA }
							}
						}
					}
				}
			}
		}
		if = {
			limit = {
				USA = {
					has_tech = tech_support
					has_opinion = {
						target = ROOT
						value > 14
					}
				}
			}
			add_equipment_to_stockpile = { type = support_equipment_1 amount = 100 producer = USA }
		}
		if = {
			limit = {
				USA = {
					has_tech = fighter3
					has_opinion = {
						target = ROOT
						value > 84
					}
				}
			}
			add_equipment_to_stockpile = { type = fighter_equipment_3 amount = 8 producer = USA }
			else = {
				if = {
					limit = {
						USA = {
							has_tech = fighter2
							has_opinion = {
								target = ROOT
								value > 64
							}
						}
					}
					add_equipment_to_stockpile = { type = fighter_equipment_2 amount = 8 producer = USA }
					else = {
						if = {
							limit = {
								USA = {
									has_tech = fighter1
									has_opinion = {
										target = ROOT
										value > 44
									}
								}
							}
							add_equipment_to_stockpile = { type = fighter_equipment_1 amount = 8 producer = USA }
							else = {
								if = {
									limit = {
										USA = {
											has_tech = early_fighter
											has_opinion = {
												target = ROOT
												value > 24
											}
										}
									}
									add_equipment_to_stockpile = { type = fighter_equipment_0 amount = 8 producer = USA }
								}
							}
						}
					}
				}
			}
		}
		if = {
			limit = {
				USA = {
					OR = {
						has_tech = advanced_light_tank
						has_tech = advanced_light_tank_chassis
					}
					has_opinion = {
						target = ROOT
						value > 94
					}
				}
			}
			add_equipment_to_stockpile = { type = light_tank_equipment_3 amount = 8 producer = USA }
			else = {
				if = {
					limit = {
						USA = {
							OR = {
								has_tech = improved_light_tank
								has_tech = improved_light_tank_chassis
							}
							has_opinion = {
								target = ROOT
								value > 84
							}
						}
					}
					add_equipment_to_stockpile = { type = light_tank_equipment_2 amount = 8 producer = USA }
					else = {
						if = {
							limit = {
								USA = {
									has_tech = basic_light_tank
									has_opinion = {
										target = ROOT
										value > 74
									}
								}
							}
							add_equipment_to_stockpile = { type = light_tank_equipment_1 amount = 8 producer = USA }
							else = {
								if = {
									limit = {
										USA = {
											#has_tech = gwtank
											has_opinion = {
												target = ROOT
												value > 64
											}
										}
									}
									add_equipment_to_stockpile = { type = gw_tank_equipment amount = 8 producer = USA }
								}
							}
						}
					}
				}
			}
		}
	}
	if = {
		limit = {
			FRA = {
				is_puppet = no
				has_capitulated = no
			}
			has_global_flag = KMT_FRA_agreed_to_assist
		}
		if = {
			limit = {
				FRA = {
					has_tech = advanced_infantry_weapons
					has_opinion = {
						target = ROOT
						value > 84
					}
				}
			}
			add_equipment_to_stockpile = { type = infantry_equipment_3 amount = 200 producer = FRA }
			else = {
				if = {
					limit = {
						FRA = {
							has_tech = improved_infantry_weapons
							has_opinion = {
								target = ROOT
								value > 64
							}
						}
					}
					add_equipment_to_stockpile = { type = infantry_equipment_2 amount = 200 producer = FRA }
					else = {
						if = {
							limit = {
								FRA = {
									has_tech = infantry_weapons1
									has_opinion = {
										target = ROOT
										value > 64
									}
								}
							}
							add_equipment_to_stockpile = { type = infantry_equipment_1 amount = 200 producer = FRA }
							else = {
								add_equipment_to_stockpile = { type = infantry_equipment_0 amount = 200 producer = FRA }
							}
						}
					}
				}
			}
		}
		if = {
			limit = {
				FRA = {
					has_tech = tech_support
					has_opinion = {
						target = ROOT
						value > 14
					}
				}
			}
			add_equipment_to_stockpile = { type = support_equipment_1 amount = 100 producer = FRA }
		}
		if = {
			limit = {
				FRA = {
					has_tech = fighter3
					has_opinion = {
						target = ROOT
						value > 84
					}
				}
			}
			add_equipment_to_stockpile = { type = fighter_equipment_3 amount = 8 producer = FRA }
			else = {
				if = {
					limit = {
						FRA = {
							has_tech = fighter2
							has_opinion = {
								target = ROOT
								value > 64
							}
						}
					}
					add_equipment_to_stockpile = { type = fighter_equipment_2 amount = 8 producer = FRA }
					else = {
						if = {
							limit = {
								FRA = {
									has_tech = fighter1
									has_opinion = {
										target = ROOT
										value > 44
									}
								}
							}
							add_equipment_to_stockpile = { type = fighter_equipment_1 amount = 8 producer = FRA }
							else = {
								if = {
									limit = {
										FRA = {
											has_tech = early_fighter
											has_opinion = {
												target = ROOT
												value > 24
											}
										}
									}
									add_equipment_to_stockpile = { type = fighter_equipment_0 amount = 8 producer = FRA }
								}
							}
						}
					}
				}
			}
		}
		if = {
			limit = {
				FRA = {
					OR = {
						has_tech = advanced_light_tank
						has_tech = advanced_light_tank_chassis
					}
					has_opinion = {
						target = ROOT
						value > 94
					}
				}
			}
			add_equipment_to_stockpile = { type = light_tank_equipment_3 amount = 8 producer = FRA }
			else = {
				if = {
					limit = {
						FRA = {
							OR = {
								has_tech = improved_light_tank
								has_tech = improved_light_tank_chassis
							}
							has_opinion = {
								target = ROOT
								value > 84
							}
						}
					}
					add_equipment_to_stockpile = { type = light_tank_equipment_2 amount = 8 producer = FRA }
					else = {
						if = {
							limit = {
								FRA = {
									has_tech = basic_light_tank
									has_opinion = {
										target = ROOT
										value > 74
									}
								}
							}
							add_equipment_to_stockpile = { type = light_tank_equipment_1 amount = 8 producer = FRA }
							else = {
								if = {
									limit = {
										FRA = {
											#has_tech = gwtank
											has_opinion = {
												target = ROOT
												value > 64
											}
										}
									}
									add_equipment_to_stockpile = { type = gw_tank_equipment amount = 8 producer = FRA }
								}
							}
						}
					}
				}
			}
		}
	}
	if = {
		limit = {
			GER = {
				is_puppet = no
				has_capitulated = no
			}
			has_global_flag = KMT_german_approved_global
		}
		if = {
			limit = {
				GER = {
					has_tech = advanced_infantry_weapons
					has_opinion = {
						target = ROOT
						value > 84
					}
				}
			}
			add_equipment_to_stockpile = { type = infantry_equipment_3 amount = 200 producer = GER }
			else = {
				if = {
					limit = {
						GER = {
							has_tech = improved_infantry_weapons
							has_opinion = {
								target = ROOT
								value > 64
							}
						}
					}
					add_equipment_to_stockpile = { type = infantry_equipment_2 amount = 200 producer = GER }
					else = {
						if = {
							limit = {
								GER = {
									has_tech = infantry_weapons1
									has_opinion = {
										target = ROOT
										value > 64
									}
								}
							}
							add_equipment_to_stockpile = { type = infantry_equipment_1 amount = 200 producer = GER }
							else = {
								add_equipment_to_stockpile = { type = infantry_equipment_0 amount = 200 producer = GER }
							}
						}
					}
				}
			}
		}
		if = {
			limit = {
				GER = {
					has_tech = tech_support
					has_opinion = {
						target = ROOT
						value > 14
					}
				}
			}
			add_equipment_to_stockpile = { type = support_equipment_1 amount = 100 producer = GER }
		}
		if = {
			limit = {
				GER = {
					has_tech = fighter3
					has_opinion = {
						target = ROOT
						value > 84
					}
				}
			}
			add_equipment_to_stockpile = { type = fighter_equipment_3 amount = 8 producer = GER }
			else = {
				if = {
					limit = {
						GER = {
							has_tech = fighter2
							has_opinion = {
								target = ROOT
								value > 64
							}
						}
					}
					add_equipment_to_stockpile = { type = fighter_equipment_2 amount = 8 producer = GER }
					else = {
						if = {
							limit = {
								GER = {
									has_tech = fighter1
									has_opinion = {
										target = ROOT
										value > 44
									}
								}
							}
							add_equipment_to_stockpile = { type = fighter_equipment_1 amount = 8 producer = GER }
							else = {
								if = {
									limit = {
										GER = {
											has_tech = early_fighter
											has_opinion = {
												target = ROOT
												value > 24
											}
										}
									}
									add_equipment_to_stockpile = { type = fighter_equipment_0 amount = 8 producer = GER }
								}
							}
						}
					}
				}
			}
		}
		if = {
			limit = {
				GER = {
					OR = {
						has_tech = advanced_light_tank
						has_tech = advanced_light_tank_chassis
					}
					has_opinion = {
						target = ROOT
						value > 94
					}
				}
			}
			add_equipment_to_stockpile = { type = light_tank_equipment_3 amount = 8 producer = GER }
			else = {
				if = {
					limit = {
						GER = {
							OR = {
								has_tech = improved_light_tank
								has_tech = improved_light_tank_chassis
							}
							has_opinion = {
								target = ROOT
								value > 84
							}
						}
					}
					add_equipment_to_stockpile = { type = light_tank_equipment_2 amount = 8 producer = GER }
					else = {
						if = {
							limit = {
								GER = {
									has_tech = basic_light_tank
									has_opinion = {
										target = ROOT
										value > 74
									}
								}
							}
							add_equipment_to_stockpile = { type = light_tank_equipment_1 amount = 8 producer = GER }
							else = {
								if = {
									limit = {
										GER = {
											#has_tech = gwtank
											has_opinion = {
												target = ROOT
												value > 64
											}
										}
									}
									add_equipment_to_stockpile = { type = gw_tank_equipment amount = 8 producer = GER }
								}
							}
						}
					}
				}
			}
		}
	}
}

KMT_evacuate_industry_to_the_rear = {
	set_temp_variable = {
		var = af_to_move
		value = arms_factory_level
	}
	if = {
		limit = {
			check_variable = { af_to_move > 5 }
		}
		multiply_variable = {
			var = af_to_move
			value = global.CHI_industrial_evacuations_amount_factor3
		}
		else = {
			if = {
				limit = {
					check_variable = { af_to_move > 4 }
				}
				multiply_variable = {
					var = af_to_move
					value = global.CHI_industrial_evacuations_amount_factor2
				}
				else = {
					if = {
						limit = {
							check_variable = { af_to_move > 3 }
						}
						multiply_variable = {
							var = af_to_move
							value = global.CHI_industrial_evacuations_amount_factor
						}
					}
				}
			}
		}
	}

	set_temp_variable = {
		var = ic_to_move
		value = industrial_complex_level
	}
	if = {
		limit = {
			check_variable = { ic_to_move > 5 }
		}
		multiply_variable = {
			var = ic_to_move
			value = global.CHI_industrial_evacuations_amount_factor3
		}
		else = {
			if = {
				limit = {
					check_variable = { ic_to_move > 4 }
				}
				multiply_variable = {
					var = ic_to_move
					value = global.CHI_industrial_evacuations_amount_factor2
				}
				else = {
					if = {
						limit = {
							check_variable = { ic_to_move > 3 }
						}
						multiply_variable = {
							var = ic_to_move
							value = global.CHI_industrial_evacuations_amount_factor
						}
					}
				}
			}
		}
	}
	remove_building = {
		type = arms_factory
		level = af_to_move
	}
	remove_building = {
		type = industrial_complex
		level = ic_to_move
	}

	#Move AF
	ROOT = {
		if = {
			limit = {
				605 = {
					OR = {
						AND = {
							is_fully_controlled_by = ROOT
							is_owned_by = ROOT
							any_neighbor_state = {
								is_controlled_by = ROOT
							}
						}
						AND = {
							CONTROLLER = {
								#has_idea = cu_is_warlord
								has_war_together_with = ROOT
								has_full_control_of_state = PREV
								owns_state = PREV
							}
							any_neighbor_state = {
								CONTROLLER = {
									NOT = { has_war_with = ROOT }
									NOT = { has_war_with = PREV }
								}
							}
						}
					}
					free_building_slots = {
						building = arms_factory
						size > 2
						include_locked = yes
					}
				}
			}
			605 = {
				add_extra_state_shared_building_slots = af_to_move
				add_building_construction = {
					type = arms_factory
					level = af_to_move
					instant_build = yes
				}
				CONTROLLER = { set_country_flag = CHI_industrial_evacuations_moved_AF }
			}
			else = {
				if = {
					limit = {
						748 = {
							OR = {
								AND = {
									is_fully_controlled_by = ROOT
									is_owned_by = ROOT
									any_neighbor_state = {
										is_controlled_by = ROOT
									}
								}
								AND = {
									CONTROLLER = {
										#has_idea = cu_is_warlord
										has_war_together_with = ROOT
										has_full_control_of_state = PREV
										owns_state = PREV
									}
									any_neighbor_state = {
										CONTROLLER = {
											NOT = { has_war_with = ROOT }
											NOT = { has_war_with = PREV }
										}
									}
								}
							}
							free_building_slots = {
								building = arms_factory
								size > 2
								include_locked = yes
							}
						}
					}
					748 = {
						add_extra_state_shared_building_slots = af_to_move
						add_building_construction = {
							type = arms_factory
							level = af_to_move
							instant_build = yes
						}
						CONTROLLER = { set_country_flag = CHI_industrial_evacuations_moved_AF }
					}
					else = {
						if = {
							limit = {
								603 = {
									OR = {
										AND = {
											is_fully_controlled_by = ROOT
											is_owned_by = ROOT
											any_neighbor_state = {
												is_controlled_by = ROOT
											}
										}
										AND = {
											CONTROLLER = {
												#has_idea = cu_is_warlord
												has_war_together_with = ROOT
												has_full_control_of_state = PREV
												owns_state = PREV
											}
											any_neighbor_state = {
												CONTROLLER = {
													NOT = { has_war_with = ROOT }
													NOT = { has_war_with = PREV }
												}
											}
										}
									}
									free_building_slots = {
										building = arms_factory
										size > 2
										include_locked = yes
									}
								}
							}
							603 = {
								add_extra_state_shared_building_slots = af_to_move
								add_building_construction = {
									type = arms_factory
									level = af_to_move
									instant_build = yes
								}
								CONTROLLER = { set_country_flag = CHI_industrial_evacuations_moved_AF }
							}
							else = {
								random_owned_controlled_state = {
									prioritize = { 605 748 603 }
									limit = {
										OR = {
											is_fully_controlled_by = ROOT
											CONTROLLER = {
												#has_idea = cu_is_warlord
												has_war_together_with = ROOT
												has_full_control_of_state = PREV
											}
										}
										any_neighbor_state = {
											OR = {
												is_controlled_by = ROOT
												CONTROLLER = {
													#has_idea = cu_is_warlord
													has_war_together_with = ROOT
													has_full_control_of_state = PREV
												}
											}
										}
										free_building_slots = {
											building = arms_factory
											size > 2
											include_locked = yes
										}
									}
									add_extra_state_shared_building_slots = af_to_move
									add_building_construction = {
										type = arms_factory
										level = af_to_move
										instant_build = yes
									}
									CONTROLLER = { set_country_flag = CHI_industrial_evacuations_moved_AF }
								}
							}
						}
					}
				}
			}
		}

		#If no states are really safe or all safe are filled
		#Move to random controlled state
		if = {
			limit = {
				NOT = { has_country_flag = CHI_industrial_evacuations_moved_AF }
				NOT = {
					any_state = {
						OR = {
							AND = {
								is_fully_controlled_by = ROOT
								is_owned_by = ROOT
							}
							CONTROLLER = {
								#has_idea = cu_is_warlord
								has_war_together_with = ROOT
								has_full_control_of_state = PREV
								owns_state = PREV
							}
						}
						any_neighbor_state = {
							OR = {
								is_controlled_by = ROOT
								CONTROLLER = {
									NOT = { has_war_with = ROOT }
									NOT = { has_war_with = PREV }
								}
							}
						}
						free_building_slots = {
							building = arms_factory
							size > 2
							include_locked = yes
						}
					}
				}
			}
			random_owned_controlled_state = {
				prioritize = { 605 748 603 }
				limit = {
					OR = {
						AND = {
							is_controlled_by = ROOT
							is_owned_by = ROOT
						}
						CONTROLLER = {
							#has_idea = cu_is_warlord
							has_war_together_with = ROOT
							owns_state = PREV
						}
					}
					free_building_slots = {
						building = arms_factory
						size > 2
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = af_to_move
				add_building_construction = {
					type = arms_factory
					level = af_to_move
					instant_build = yes
				}
			}
		}
		clr_country_flag = CHI_industrial_evacuations_moved_AF


		#Move IC
		if = {
			limit = {
				605 = {
					OR = {
						AND = {
							is_fully_controlled_by = ROOT
							is_owned_by = ROOT
							any_neighbor_state = {
								is_controlled_by = ROOT
							}
						}
						AND = {
							CONTROLLER = {
								#has_idea = cu_is_warlord
								has_war_together_with = ROOT
								has_full_control_of_state = PREV
								owns_state = PREV
							}
							any_neighbor_state = {
								CONTROLLER = {
									NOT = { has_war_with = ROOT }
									NOT = { has_war_with = PREV }
								}
							}
						}
					}
					free_building_slots = {
						building = industrial_complex
						size > 2
						include_locked = yes
					}
				}
			}
			605 = {
				add_extra_state_shared_building_slots = ic_to_move
				add_building_construction = {
					type = industrial_complex
					level = ic_to_move
					instant_build = yes
				}
				CONTROLLER = { set_country_flag = CHI_industrial_evacuations_moved_IC }
			}
			else = {
				if = {
					limit = {
						748 = {
							OR = {
								AND = {
									is_fully_controlled_by = ROOT
									is_owned_by = ROOT
									any_neighbor_state = {
										is_controlled_by = ROOT
									}
								}
								AND = {
									CONTROLLER = {
										#has_idea = cu_is_warlord
										has_war_together_with = ROOT
										has_full_control_of_state = PREV
										owns_state = PREV
									}
									any_neighbor_state = {
										CONTROLLER = {
											NOT = { has_war_with = ROOT }
											NOT = { has_war_with = PREV }
										}
									}
								}
							}
							free_building_slots = {
								building = industrial_complex
								size > 2
								include_locked = yes
							}
						}
					}
					748 = {
						add_extra_state_shared_building_slots = ic_to_move
						add_building_construction = {
							type = industrial_complex
							level = ic_to_move
							instant_build = yes
						}
						CONTROLLER = { set_country_flag = CHI_industrial_evacuations_moved_IC }
					}
					else = {
						if = {
							limit = {
								603 = {
									OR = {
										AND = {
											is_fully_controlled_by = ROOT
											is_owned_by = ROOT
											any_neighbor_state = {
												is_controlled_by = ROOT
											}
										}
										AND = {
											CONTROLLER = {
												#has_idea = cu_is_warlord
												has_war_together_with = ROOT
												has_full_control_of_state = PREV
												owns_state = PREV
											}
											any_neighbor_state = {
												CONTROLLER = {
													NOT = { has_war_with = ROOT }
													NOT = { has_war_with = PREV }
												}
											}
										}
									}
									free_building_slots = {
										building = industrial_complex
										size > 2
										include_locked = yes
									}
								}
							}
							603 = {
								add_extra_state_shared_building_slots = ic_to_move
								add_building_construction = {
									type = industrial_complex
									level = ic_to_move
									instant_build = yes
								}
								CONTROLLER = { set_country_flag = CHI_industrial_evacuations_moved_IC }
							}
							else = {
								random_owned_controlled_state = {
									prioritize = { 605 748 603 }
									limit = {
										OR = {
											is_fully_controlled_by = ROOT
											CONTROLLER = {
												#has_idea = cu_is_warlord
												has_war_together_with = ROOT
												has_full_control_of_state = PREV
											}
										}
										any_neighbor_state = {
											OR = {
												is_controlled_by = ROOT
												CONTROLLER = {
													#has_idea = cu_is_warlord
													has_war_together_with = ROOT
													has_full_control_of_state = PREV
												}
											}
										}
										free_building_slots = {
											building = industrial_complex
											size > 2
											include_locked = yes
										}
									}
									add_extra_state_shared_building_slots = ic_to_move
									add_building_construction = {
										type = industrial_complex
										level = ic_to_move
										instant_build = yes
									}
									CONTROLLER = { set_country_flag = CHI_industrial_evacuations_moved_IC }
								}
							}
						}
					}
				}
			}
		}

		#If no states are really safe or all safe are filled
		#Move to random controlled state
		if = {
			limit = {
				NOT = { has_country_flag = CHI_industrial_evacuations_moved_IC }
				NOT = {
					any_state = {
						OR = {
							AND = {
								is_fully_controlled_by = ROOT
								is_owned_by = ROOT
							}
							CONTROLLER = {
								#has_idea = cu_is_warlord
								has_war_together_with = ROOT
								has_full_control_of_state = PREV
								owns_state = PREV
							}
						}
						any_neighbor_state = {
							OR = {
								is_controlled_by = ROOT
								CONTROLLER = {
									NOT = { has_war_with = ROOT }
									NOT = { has_war_with = PREV }
								}
							}
						}
						free_building_slots = {
							building = industrial_complex
							size > 2
							include_locked = yes
						}
					}
				}
			}
			random_owned_controlled_state = {
				prioritize = { 605 748 603 }
				limit = {
					OR = {
						AND = {
							is_controlled_by = ROOT
							is_owned_by = ROOT
						}
						CONTROLLER = {
							#has_idea = cu_is_warlord
							has_war_together_with = ROOT
							owns_state = PREV
						}
					}
					free_building_slots = {
						building = industrial_complex
						size > 2
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = ic_to_move
				add_building_construction = {
					type = industrial_complex
					level = ic_to_move
					instant_build = yes
				}
			}
		}
		clr_country_flag = CHI_industrial_evacuations_moved_IC
	}
}

PRC_guerrilla_cell_sabotage_effect = {
	set_temp_variable = { var = PRC_target_state_cell_strength_temp value = PRC_state_guerrilla_cell_strength }
	set_temp_variable = { var = PRC_target_state_cell_strength_cost_temp value = 0 }
	if = {
		limit = {
			check_variable = { PRC_target_state_infra_level_temp < PRC_target_state_cell_strength_temp }
		}
		add_to_temp_variable = { var = PRC_target_state_cell_strength_cost_temp value = infrastructure_level }
		damage_building = {
			type = infrastructure
			damage = 10
		}
		subtract_from_temp_variable = { var = PRC_target_state_cell_strength_temp value = PRC_target_state_infra_level_temp }
		if = {
			limit = {
				arms_factory > 0
				check_variable = { PRC_target_state_cell_strength_temp > 1 }
			}
			damage_building = {
				type = arms_factory
				damage = 1
			}
			add_to_temp_variable = { var = PRC_target_state_cell_strength_cost_temp value = 2 }
			subtract_from_temp_variable = { var = PRC_target_state_cell_strength_temp value = 2 }
			if = {
				limit = {
					industrial_complex > 0
					check_variable = { PRC_target_state_cell_strength_temp > 1 }
				}
				damage_building = {
					type = industrial_complex
					damage = 1
				}
				add_to_temp_variable = { var = PRC_target_state_cell_strength_cost_temp value = 2 }
				subtract_from_temp_variable = { var = PRC_target_state_cell_strength_temp value = 2 }
				if = {
					limit = {
						dockyard > 0
						check_variable = { PRC_target_state_cell_strength_temp > 1 }
					}
					damage_building = {
						type = dockyard
						damage = 1
					}
					add_to_temp_variable = { var = PRC_target_state_cell_strength_cost_temp value = 2 }
				}
			}
		}
		else = {
			if = {
				limit = {
					check_variable = { PRC_target_state_cell_strength_temp < 3 }
				}
				add_to_temp_variable = { var = PRC_target_state_cell_strength_cost_temp value = PRC_target_state_cell_strength_temp }
				damage_building = {
					type = infrastructure
					damage = 2
				}
				else = {
					if = {
						limit = {
							check_variable = { PRC_target_state_cell_strength_temp < 4 }
						}
						add_to_temp_variable = { var = PRC_target_state_cell_strength_cost_temp value = PRC_target_state_cell_strength_temp }
						damage_building = {
							type = infrastructure
							damage = 3
						}
						else = {
							if = {
								limit = {
									check_variable = { PRC_target_state_cell_strength_temp < 5 }
								}
								add_to_temp_variable = { var = PRC_target_state_cell_strength_cost_temp value = PRC_target_state_cell_strength_temp }
								damage_building = {
									type = infrastructure
									damage = 4
								}
								else = {
									if = {
										limit = {
											check_variable = { PRC_target_state_cell_strength_temp < 6 }
										}
										add_to_temp_variable = { var = PRC_target_state_cell_strength_cost_temp value = PRC_target_state_cell_strength_temp }
										damage_building = {
											type = infrastructure
											damage = 5
										}
										else = {
											if = {
												limit = {
													check_variable = { PRC_target_state_cell_strength_temp < 7 }
												}
												add_to_temp_variable = { var = PRC_target_state_cell_strength_cost_temp value = PRC_target_state_cell_strength_temp }
												damage_building = {
													type = infrastructure
													damage = 6
												}
												else = {
													if = {
														limit = {
															check_variable = { PRC_target_state_cell_strength_temp < 8 }
														}
														add_to_temp_variable = { var = PRC_target_state_cell_strength_cost_temp value = PRC_target_state_cell_strength_temp }
														damage_building = {
															type = infrastructure
															damage = 7
														}
														else = {
															if = {
																limit = {
																	check_variable = { PRC_target_state_cell_strength_temp < 9 }
																}
																add_to_temp_variable = { var = PRC_target_state_cell_strength_cost_temp value = PRC_target_state_cell_strength_temp }
																damage_building = {
																	type = infrastructure
																	damage = 8
																}
																else = {
																	if = {
																		limit = {
																			check_variable = { PRC_target_state_cell_strength_temp < 10 }
																		}
																		add_to_temp_variable = { var = PRC_target_state_cell_strength_cost_temp value = PRC_target_state_cell_strength_temp }
																		damage_building = {
																			type = infrastructure
																			damage = 9
																		}
																		add_to_temp_variable = { var = PRC_target_state_cell_strength_cost_temp value = PRC_target_state_cell_strength_temp }
																		else = {
																			damage_building = {
																				type = infrastructure
																				damage = 10
																			}
																		}
																	}
																}
															}
														}
													}
												}
											}
										}
									}
								}
							}
						}
					}
				}
			}
		}
	}
	if = {
		limit = {
			air_base > 0
		}
		damage_building = {
			type = air_base
			damage = 1
		}
	}
	set_temp_variable = { var = PRC_target_minus_cell_strength_amount value = PRC_target_state_cell_strength_cost_temp }
	subtract_from_variable = { var = PRC_state_guerrilla_cell_strength value = PRC_target_minus_cell_strength_amount }
	custom_effect_tooltip = PRC_target_state_minus_cell_strength_tt
}

PRC_uprise_in_state_effect = {
	if = {
		limit = {
			check_variable = { PRC_state_guerrilla_cell_strength > 39 }
		}
		# if = { limit = { state = 283 } ROOT = { load_oob = "PRC_guerrilla_283_40" } }
		# if = { limit = { state = 325 } ROOT = { load_oob = "PRC_guerrilla_325_40" } }
		# if = { limit = { state = 326 } ROOT = { load_oob = "PRC_guerrilla_326_40" } }
		# if = { limit = { state = 328 } ROOT = { load_oob = "PRC_guerrilla_328_40" } }
		# if = { limit = { state = 591 } ROOT = { load_oob = "PRC_guerrilla_591_40" } }
		# if = { limit = { state = 592 } ROOT = { load_oob = "PRC_guerrilla_592_40" } }
		# if = { limit = { state = 593 } ROOT = { load_oob = "PRC_guerrilla_593_40" } }
		# if = { limit = { state = 594 } ROOT = { load_oob = "PRC_guerrilla_594_40" } }
		# if = { limit = { state = 595 } ROOT = { load_oob = "PRC_guerrilla_595_40" } }
		# if = { limit = { state = 596 } ROOT = { load_oob = "PRC_guerrilla_596_40" } }
		# if = { limit = { state = 597 } ROOT = { load_oob = "PRC_guerrilla_597_40" } }
		# if = { limit = { state = 598 } ROOT = { load_oob = "PRC_guerrilla_598_40" } }
		# if = { limit = { state = 599 } ROOT = { load_oob = "PRC_guerrilla_599_40" } }
		# if = { limit = { state = 600 } ROOT = { load_oob = "PRC_guerrilla_600_40" } }
		# if = { limit = { state = 601 } ROOT = { load_oob = "PRC_guerrilla_601_40" } }
		# if = { limit = { state = 602 } ROOT = { load_oob = "PRC_guerrilla_602_40" } }
		# if = { limit = { state = 603 } ROOT = { load_oob = "PRC_guerrilla_603_40" } }
		# if = { limit = { state = 604 } ROOT = { load_oob = "PRC_guerrilla_604_40" } }
		# if = { limit = { state = 605 } ROOT = { load_oob = "PRC_guerrilla_605_40" } }
		# if = { limit = { state = 606 } ROOT = { load_oob = "PRC_guerrilla_606_40" } }
		# if = { limit = { state = 607 } ROOT = { load_oob = "PRC_guerrilla_607_40" } }
		# if = { limit = { state = 608 } ROOT = { load_oob = "PRC_guerrilla_608_40" } }
		# if = { limit = { state = 609 } ROOT = { load_oob = "PRC_guerrilla_609_40" } }
		# if = { limit = { state = 610 } ROOT = { load_oob = "PRC_guerrilla_610_40" } }
		# if = { limit = { state = 611 } ROOT = { load_oob = "PRC_guerrilla_611_40" } }
		# if = { limit = { state = 612 } ROOT = { load_oob = "PRC_guerrilla_612_40" } }
		# if = { limit = { state = 613 } ROOT = { load_oob = "PRC_guerrilla_613_40" } }
		# if = { limit = { state = 614 } ROOT = { load_oob = "PRC_guerrilla_614_40" } }
		# if = { limit = { state = 615 } ROOT = { load_oob = "PRC_guerrilla_615_40" } }
		# if = { limit = { state = 616 } ROOT = { load_oob = "PRC_guerrilla_616_40" } }
		# if = { limit = { state = 620 } ROOT = { load_oob = "PRC_guerrilla_620_40" } }
		# if = { limit = { state = 621 } ROOT = { load_oob = "PRC_guerrilla_621_40" } }
		# if = { limit = { state = 622 } ROOT = { load_oob = "PRC_guerrilla_622_40" } }
		# if = { limit = { state = 714 } ROOT = { load_oob = "PRC_guerrilla_714_40" } }
		# if = { limit = { state = 715 } ROOT = { load_oob = "PRC_guerrilla_715_40" } }
		# if = { limit = { state = 716 } ROOT = { load_oob = "PRC_guerrilla_716_40" } }
		# if = { limit = { state = 717 } ROOT = { load_oob = "PRC_guerrilla_717_40" } }
		# if = { limit = { state = 728 } ROOT = { load_oob = "PRC_guerrilla_728_40" } }
		# if = { limit = { state = 729 } ROOT = { load_oob = "PRC_guerrilla_729_40" } }
		# if = { limit = { state = 743 } ROOT = { load_oob = "PRC_guerrilla_743_40" } }
		# if = { limit = { state = 744 } ROOT = { load_oob = "PRC_guerrilla_744_40" } }
		# if = { limit = { state = 745 } ROOT = { load_oob = "PRC_guerrilla_745_40" } }
		# if = { limit = { state = 746 } ROOT = { load_oob = "PRC_guerrilla_746_40" } }
		# if = { limit = { state = 747 } ROOT = { load_oob = "PRC_guerrilla_747_40" } }
		# if = { limit = { state = 748 } ROOT = { load_oob = "PRC_guerrilla_748_40" } }
		# if = { limit = { state = 749 } ROOT = { load_oob = "PRC_guerrilla_749_40" } }
		# if = { limit = { state = 750 } ROOT = { load_oob = "PRC_guerrilla_750_40" } }
		# if = { limit = { state = 751 } ROOT = { load_oob = "PRC_guerrilla_751_40" } }
		# if = { limit = { state = 752 } ROOT = { load_oob = "PRC_guerrilla_752_40" } }
		# if = { limit = { state = 753 } ROOT = { load_oob = "PRC_guerrilla_753_40" } }
		# if = { limit = { state = 754 } ROOT = { load_oob = "PRC_guerrilla_754_40" } }
		# if = { limit = { state = 755 } ROOT = { load_oob = "PRC_guerrilla_755_40" } }
		# if = { limit = { state = 756 } ROOT = { load_oob = "PRC_guerrilla_756_40" } }
		# if = { limit = { state = 761 } ROOT = { load_oob = "PRC_guerrilla_761_40" } }
		# if = { limit = { state = 762 } ROOT = { load_oob = "PRC_guerrilla_762_40" } }
		# if = { limit = { state = 763 } ROOT = { load_oob = "PRC_guerrilla_763_40" } }
		# if = { limit = { state = 764 } ROOT = { load_oob = "PRC_guerrilla_764_40" } }
		# if = { limit = { state = 765 } ROOT = { load_oob = "PRC_guerrilla_765_40" } }
		# if = { limit = { state = 767 } ROOT = { load_oob = "PRC_guerrilla_767_40" } }
		# if = { limit = { state = 768 } ROOT = { load_oob = "PRC_guerrilla_768_40" } }
		# if = { limit = { state = 769 } ROOT = { load_oob = "PRC_guerrilla_769_40" } }
		# if = { limit = { state = 770 } ROOT = { load_oob = "PRC_guerrilla_770_40" } }
		# if = { limit = { state = 771 } ROOT = { load_oob = "PRC_guerrilla_771_40" } }
		# if = { limit = { state = 773 } ROOT = { load_oob = "PRC_guerrilla_773_40" } }
		# if = { limit = { state = 774 } ROOT = { load_oob = "PRC_guerrilla_774_40" } }
		# if = { limit = { state = 287 } ROOT = { load_oob = "PRC_guerrilla_287_40" } }
		# if = { limit = { state = 322 } ROOT = { load_oob = "PRC_guerrilla_322_40" } }
		# if = { limit = { state = 329 } ROOT = { load_oob = "PRC_guerrilla_329_40" } }
		# if = { limit = { state = 330 } ROOT = { load_oob = "PRC_guerrilla_330_40" } }
		# if = { limit = { state = 434 } ROOT = { load_oob = "PRC_guerrilla_434_40" } }
		# if = { limit = { state = 441 } ROOT = { load_oob = "PRC_guerrilla_441_40" } }
		# if = { limit = { state = 617 } ROOT = { load_oob = "PRC_guerrilla_617_40" } }
		# if = { limit = { state = 618 } ROOT = { load_oob = "PRC_guerrilla_618_40" } }
		# if = { limit = { state = 619 } ROOT = { load_oob = "PRC_guerrilla_619_40" } }
		# if = { limit = { state = 757 } ROOT = { load_oob = "PRC_guerrilla_757_40" } }
		# if = { limit = { state = 758 } ROOT = { load_oob = "PRC_guerrilla_758_40" } }
		# if = { limit = { state = 759 } ROOT = { load_oob = "PRC_guerrilla_759_40" } }
		# if = { limit = { state = 760 } ROOT = { load_oob = "PRC_guerrilla_760_40" } }
		set_temp_variable = { var = PRC_state_cell_uprise_cost value = 40 }
		else = {
			if = {
				limit = {
					check_variable = { PRC_state_guerrilla_cell_strength > 29 }
				}
				# if = { limit = { state = 283 } ROOT = { load_oob = "PRC_guerrilla_283_30" } }
				# if = { limit = { state = 325 } ROOT = { load_oob = "PRC_guerrilla_325_30" } }
				# if = { limit = { state = 326 } ROOT = { load_oob = "PRC_guerrilla_326_30" } }
				# if = { limit = { state = 328 } ROOT = { load_oob = "PRC_guerrilla_328_30" } }
				# if = { limit = { state = 591 } ROOT = { load_oob = "PRC_guerrilla_591_30" } }
				# if = { limit = { state = 592 } ROOT = { load_oob = "PRC_guerrilla_592_30" } }
				# if = { limit = { state = 593 } ROOT = { load_oob = "PRC_guerrilla_593_30" } }
				# if = { limit = { state = 594 } ROOT = { load_oob = "PRC_guerrilla_594_30" } }
				# if = { limit = { state = 595 } ROOT = { load_oob = "PRC_guerrilla_595_30" } }
				# if = { limit = { state = 596 } ROOT = { load_oob = "PRC_guerrilla_596_30" } }
				# if = { limit = { state = 597 } ROOT = { load_oob = "PRC_guerrilla_597_30" } }
				# if = { limit = { state = 598 } ROOT = { load_oob = "PRC_guerrilla_598_30" } }
				# if = { limit = { state = 599 } ROOT = { load_oob = "PRC_guerrilla_599_30" } }
				# if = { limit = { state = 600 } ROOT = { load_oob = "PRC_guerrilla_600_30" } }
				# if = { limit = { state = 601 } ROOT = { load_oob = "PRC_guerrilla_601_30" } }
				# if = { limit = { state = 602 } ROOT = { load_oob = "PRC_guerrilla_602_30" } }
				# if = { limit = { state = 603 } ROOT = { load_oob = "PRC_guerrilla_603_30" } }
				# if = { limit = { state = 604 } ROOT = { load_oob = "PRC_guerrilla_604_30" } }
				# if = { limit = { state = 605 } ROOT = { load_oob = "PRC_guerrilla_605_30" } }
				# if = { limit = { state = 606 } ROOT = { load_oob = "PRC_guerrilla_606_30" } }
				# if = { limit = { state = 607 } ROOT = { load_oob = "PRC_guerrilla_607_30" } }
				# if = { limit = { state = 608 } ROOT = { load_oob = "PRC_guerrilla_608_30" } }
				# if = { limit = { state = 609 } ROOT = { load_oob = "PRC_guerrilla_609_30" } }
				# if = { limit = { state = 610 } ROOT = { load_oob = "PRC_guerrilla_610_30" } }
				# if = { limit = { state = 611 } ROOT = { load_oob = "PRC_guerrilla_611_30" } }
				# if = { limit = { state = 612 } ROOT = { load_oob = "PRC_guerrilla_612_30" } }
				# if = { limit = { state = 613 } ROOT = { load_oob = "PRC_guerrilla_613_30" } }
				# if = { limit = { state = 614 } ROOT = { load_oob = "PRC_guerrilla_614_30" } }
				# if = { limit = { state = 615 } ROOT = { load_oob = "PRC_guerrilla_615_30" } }
				# if = { limit = { state = 616 } ROOT = { load_oob = "PRC_guerrilla_616_30" } }
				# if = { limit = { state = 620 } ROOT = { load_oob = "PRC_guerrilla_620_30" } }
				# if = { limit = { state = 621 } ROOT = { load_oob = "PRC_guerrilla_621_30" } }
				# if = { limit = { state = 622 } ROOT = { load_oob = "PRC_guerrilla_622_30" } }
				# if = { limit = { state = 714 } ROOT = { load_oob = "PRC_guerrilla_714_30" } }
				# if = { limit = { state = 715 } ROOT = { load_oob = "PRC_guerrilla_715_30" } }
				# if = { limit = { state = 716 } ROOT = { load_oob = "PRC_guerrilla_716_30" } }
				# if = { limit = { state = 717 } ROOT = { load_oob = "PRC_guerrilla_717_30" } }
				# if = { limit = { state = 728 } ROOT = { load_oob = "PRC_guerrilla_728_30" } }
				# if = { limit = { state = 729 } ROOT = { load_oob = "PRC_guerrilla_729_30" } }
				# if = { limit = { state = 743 } ROOT = { load_oob = "PRC_guerrilla_743_30" } }
				# if = { limit = { state = 744 } ROOT = { load_oob = "PRC_guerrilla_744_30" } }
				# if = { limit = { state = 745 } ROOT = { load_oob = "PRC_guerrilla_745_30" } }
				# if = { limit = { state = 746 } ROOT = { load_oob = "PRC_guerrilla_746_30" } }
				# if = { limit = { state = 747 } ROOT = { load_oob = "PRC_guerrilla_747_30" } }
				# if = { limit = { state = 748 } ROOT = { load_oob = "PRC_guerrilla_748_30" } }
				# if = { limit = { state = 749 } ROOT = { load_oob = "PRC_guerrilla_749_30" } }
				# if = { limit = { state = 750 } ROOT = { load_oob = "PRC_guerrilla_750_30" } }
				# if = { limit = { state = 751 } ROOT = { load_oob = "PRC_guerrilla_751_30" } }
				# if = { limit = { state = 752 } ROOT = { load_oob = "PRC_guerrilla_752_30" } }
				# if = { limit = { state = 753 } ROOT = { load_oob = "PRC_guerrilla_753_30" } }
				# if = { limit = { state = 754 } ROOT = { load_oob = "PRC_guerrilla_754_30" } }
				# if = { limit = { state = 755 } ROOT = { load_oob = "PRC_guerrilla_755_30" } }
				# if = { limit = { state = 756 } ROOT = { load_oob = "PRC_guerrilla_756_30" } }
				# if = { limit = { state = 761 } ROOT = { load_oob = "PRC_guerrilla_761_30" } }
				# if = { limit = { state = 762 } ROOT = { load_oob = "PRC_guerrilla_762_30" } }
				# if = { limit = { state = 763 } ROOT = { load_oob = "PRC_guerrilla_763_30" } }
				# if = { limit = { state = 764 } ROOT = { load_oob = "PRC_guerrilla_764_30" } }
				# if = { limit = { state = 765 } ROOT = { load_oob = "PRC_guerrilla_765_30" } }
				# if = { limit = { state = 767 } ROOT = { load_oob = "PRC_guerrilla_767_30" } }
				# if = { limit = { state = 768 } ROOT = { load_oob = "PRC_guerrilla_768_30" } }
				# if = { limit = { state = 769 } ROOT = { load_oob = "PRC_guerrilla_769_30" } }
				# if = { limit = { state = 770 } ROOT = { load_oob = "PRC_guerrilla_770_30" } }
				# if = { limit = { state = 771 } ROOT = { load_oob = "PRC_guerrilla_771_30" } }
				# if = { limit = { state = 773 } ROOT = { load_oob = "PRC_guerrilla_773_30" } }
				# if = { limit = { state = 774 } ROOT = { load_oob = "PRC_guerrilla_774_30" } }
				# if = { limit = { state = 287 } ROOT = { load_oob = "PRC_guerrilla_287_30" } }
				# if = { limit = { state = 322 } ROOT = { load_oob = "PRC_guerrilla_322_30" } }
				# if = { limit = { state = 329 } ROOT = { load_oob = "PRC_guerrilla_329_30" } }
				# if = { limit = { state = 330 } ROOT = { load_oob = "PRC_guerrilla_330_30" } }
				# if = { limit = { state = 434 } ROOT = { load_oob = "PRC_guerrilla_434_30" } }
				# if = { limit = { state = 441 } ROOT = { load_oob = "PRC_guerrilla_441_30" } }
				# if = { limit = { state = 617 } ROOT = { load_oob = "PRC_guerrilla_617_30" } }
				# if = { limit = { state = 618 } ROOT = { load_oob = "PRC_guerrilla_618_30" } }
				# if = { limit = { state = 619 } ROOT = { load_oob = "PRC_guerrilla_619_30" } }
				# if = { limit = { state = 757 } ROOT = { load_oob = "PRC_guerrilla_757_30" } }
				# if = { limit = { state = 758 } ROOT = { load_oob = "PRC_guerrilla_758_30" } }
				# if = { limit = { state = 759 } ROOT = { load_oob = "PRC_guerrilla_759_30" } }
				# if = { limit = { state = 760 } ROOT = { load_oob = "PRC_guerrilla_760_30" } }
				set_temp_variable = { var = PRC_state_cell_uprise_cost value = 30 }
				else = {
					if = {
						limit = {
							check_variable = { PRC_state_guerrilla_cell_strength > 19 }
						}
						# if = { limit = { state = 283 } ROOT = { load_oob = "PRC_guerrilla_283_20" } }
						# if = { limit = { state = 325 } ROOT = { load_oob = "PRC_guerrilla_325_20" } }
						# if = { limit = { state = 326 } ROOT = { load_oob = "PRC_guerrilla_326_20" } }
						# if = { limit = { state = 328 } ROOT = { load_oob = "PRC_guerrilla_328_20" } }
						# if = { limit = { state = 591 } ROOT = { load_oob = "PRC_guerrilla_591_20" } }
						# if = { limit = { state = 592 } ROOT = { load_oob = "PRC_guerrilla_592_20" } }
						# if = { limit = { state = 593 } ROOT = { load_oob = "PRC_guerrilla_593_20" } }
						# if = { limit = { state = 594 } ROOT = { load_oob = "PRC_guerrilla_594_20" } }
						# if = { limit = { state = 595 } ROOT = { load_oob = "PRC_guerrilla_595_20" } }
						# if = { limit = { state = 596 } ROOT = { load_oob = "PRC_guerrilla_596_20" } }
						# if = { limit = { state = 597 } ROOT = { load_oob = "PRC_guerrilla_597_20" } }
						# if = { limit = { state = 598 } ROOT = { load_oob = "PRC_guerrilla_598_20" } }
						# if = { limit = { state = 599 } ROOT = { load_oob = "PRC_guerrilla_599_20" } }
						# if = { limit = { state = 600 } ROOT = { load_oob = "PRC_guerrilla_600_20" } }
						# if = { limit = { state = 601 } ROOT = { load_oob = "PRC_guerrilla_601_20" } }
						# if = { limit = { state = 602 } ROOT = { load_oob = "PRC_guerrilla_602_20" } }
						# if = { limit = { state = 603 } ROOT = { load_oob = "PRC_guerrilla_603_20" } }
						# if = { limit = { state = 604 } ROOT = { load_oob = "PRC_guerrilla_604_20" } }
						# if = { limit = { state = 605 } ROOT = { load_oob = "PRC_guerrilla_605_20" } }
						# if = { limit = { state = 606 } ROOT = { load_oob = "PRC_guerrilla_606_20" } }
						# if = { limit = { state = 607 } ROOT = { load_oob = "PRC_guerrilla_607_20" } }
						# if = { limit = { state = 608 } ROOT = { load_oob = "PRC_guerrilla_608_20" } }
						# if = { limit = { state = 609 } ROOT = { load_oob = "PRC_guerrilla_609_20" } }
						# if = { limit = { state = 610 } ROOT = { load_oob = "PRC_guerrilla_610_20" } }
						# if = { limit = { state = 611 } ROOT = { load_oob = "PRC_guerrilla_611_20" } }
						# if = { limit = { state = 612 } ROOT = { load_oob = "PRC_guerrilla_612_20" } }
						# if = { limit = { state = 613 } ROOT = { load_oob = "PRC_guerrilla_613_20" } }
						# if = { limit = { state = 614 } ROOT = { load_oob = "PRC_guerrilla_614_20" } }
						# if = { limit = { state = 615 } ROOT = { load_oob = "PRC_guerrilla_615_20" } }
						# if = { limit = { state = 616 } ROOT = { load_oob = "PRC_guerrilla_616_20" } }
						# if = { limit = { state = 620 } ROOT = { load_oob = "PRC_guerrilla_620_20" } }
						# if = { limit = { state = 621 } ROOT = { load_oob = "PRC_guerrilla_621_20" } }
						# if = { limit = { state = 622 } ROOT = { load_oob = "PRC_guerrilla_622_20" } }
						# if = { limit = { state = 714 } ROOT = { load_oob = "PRC_guerrilla_714_20" } }
						# if = { limit = { state = 715 } ROOT = { load_oob = "PRC_guerrilla_715_20" } }
						# if = { limit = { state = 716 } ROOT = { load_oob = "PRC_guerrilla_716_20" } }
						# if = { limit = { state = 717 } ROOT = { load_oob = "PRC_guerrilla_717_20" } }
						# if = { limit = { state = 728 } ROOT = { load_oob = "PRC_guerrilla_728_20" } }
						# if = { limit = { state = 729 } ROOT = { load_oob = "PRC_guerrilla_729_20" } }
						# if = { limit = { state = 743 } ROOT = { load_oob = "PRC_guerrilla_743_20" } }
						# if = { limit = { state = 744 } ROOT = { load_oob = "PRC_guerrilla_744_20" } }
						# if = { limit = { state = 745 } ROOT = { load_oob = "PRC_guerrilla_745_20" } }
						# if = { limit = { state = 746 } ROOT = { load_oob = "PRC_guerrilla_746_20" } }
						# if = { limit = { state = 747 } ROOT = { load_oob = "PRC_guerrilla_747_20" } }
						# if = { limit = { state = 748 } ROOT = { load_oob = "PRC_guerrilla_748_20" } }
						# if = { limit = { state = 749 } ROOT = { load_oob = "PRC_guerrilla_749_20" } }
						# if = { limit = { state = 750 } ROOT = { load_oob = "PRC_guerrilla_750_20" } }
						# if = { limit = { state = 751 } ROOT = { load_oob = "PRC_guerrilla_751_20" } }
						# if = { limit = { state = 752 } ROOT = { load_oob = "PRC_guerrilla_752_20" } }
						# if = { limit = { state = 753 } ROOT = { load_oob = "PRC_guerrilla_753_20" } }
						# if = { limit = { state = 754 } ROOT = { load_oob = "PRC_guerrilla_754_20" } }
						# if = { limit = { state = 755 } ROOT = { load_oob = "PRC_guerrilla_755_20" } }
						# if = { limit = { state = 756 } ROOT = { load_oob = "PRC_guerrilla_756_20" } }
						# if = { limit = { state = 761 } ROOT = { load_oob = "PRC_guerrilla_761_20" } }
						# if = { limit = { state = 762 } ROOT = { load_oob = "PRC_guerrilla_762_20" } }
						# if = { limit = { state = 763 } ROOT = { load_oob = "PRC_guerrilla_763_20" } }
						# if = { limit = { state = 764 } ROOT = { load_oob = "PRC_guerrilla_764_20" } }
						# if = { limit = { state = 765 } ROOT = { load_oob = "PRC_guerrilla_765_20" } }
						# if = { limit = { state = 767 } ROOT = { load_oob = "PRC_guerrilla_767_20" } }
						# if = { limit = { state = 768 } ROOT = { load_oob = "PRC_guerrilla_768_20" } }
						# if = { limit = { state = 769 } ROOT = { load_oob = "PRC_guerrilla_769_20" } }
						# if = { limit = { state = 770 } ROOT = { load_oob = "PRC_guerrilla_770_20" } }
						# if = { limit = { state = 771 } ROOT = { load_oob = "PRC_guerrilla_771_20" } }
						# if = { limit = { state = 773 } ROOT = { load_oob = "PRC_guerrilla_773_20" } }
						# if = { limit = { state = 774 } ROOT = { load_oob = "PRC_guerrilla_774_20" } }
						# if = { limit = { state = 287 } ROOT = { load_oob = "PRC_guerrilla_287_20" } }
						# if = { limit = { state = 322 } ROOT = { load_oob = "PRC_guerrilla_322_20" } }
						# if = { limit = { state = 329 } ROOT = { load_oob = "PRC_guerrilla_329_20" } }
						# if = { limit = { state = 330 } ROOT = { load_oob = "PRC_guerrilla_330_20" } }
						# if = { limit = { state = 434 } ROOT = { load_oob = "PRC_guerrilla_434_20" } }
						# if = { limit = { state = 441 } ROOT = { load_oob = "PRC_guerrilla_441_20" } }
						# if = { limit = { state = 617 } ROOT = { load_oob = "PRC_guerrilla_617_20" } }
						# if = { limit = { state = 618 } ROOT = { load_oob = "PRC_guerrilla_618_20" } }
						# if = { limit = { state = 619 } ROOT = { load_oob = "PRC_guerrilla_619_20" } }
						# if = { limit = { state = 757 } ROOT = { load_oob = "PRC_guerrilla_757_20" } }
						# if = { limit = { state = 758 } ROOT = { load_oob = "PRC_guerrilla_758_20" } }
						# if = { limit = { state = 759 } ROOT = { load_oob = "PRC_guerrilla_759_20" } }
						# if = { limit = { state = 760 } ROOT = { load_oob = "PRC_guerrilla_760_20" } }
						set_temp_variable = { var = PRC_state_cell_uprise_cost value = 20 }
						else = {
							# if = { limit = { state = 283 } ROOT = { load_oob = "PRC_guerrilla_283_10" } }
							# if = { limit = { state = 325 } ROOT = { load_oob = "PRC_guerrilla_325_10" } }
							# if = { limit = { state = 326 } ROOT = { load_oob = "PRC_guerrilla_326_10" } }
							# if = { limit = { state = 328 } ROOT = { load_oob = "PRC_guerrilla_328_10" } }
							# if = { limit = { state = 591 } ROOT = { load_oob = "PRC_guerrilla_591_10" } }
							# if = { limit = { state = 592 } ROOT = { load_oob = "PRC_guerrilla_592_10" } }
							# if = { limit = { state = 593 } ROOT = { load_oob = "PRC_guerrilla_593_10" } }
							# if = { limit = { state = 594 } ROOT = { load_oob = "PRC_guerrilla_594_10" } }
							# if = { limit = { state = 595 } ROOT = { load_oob = "PRC_guerrilla_595_10" } }
							# if = { limit = { state = 596 } ROOT = { load_oob = "PRC_guerrilla_596_10" } }
							# if = { limit = { state = 597 } ROOT = { load_oob = "PRC_guerrilla_597_10" } }
							# if = { limit = { state = 598 } ROOT = { load_oob = "PRC_guerrilla_598_10" } }
							# if = { limit = { state = 599 } ROOT = { load_oob = "PRC_guerrilla_599_10" } }
							# if = { limit = { state = 600 } ROOT = { load_oob = "PRC_guerrilla_600_10" } }
							# if = { limit = { state = 601 } ROOT = { load_oob = "PRC_guerrilla_601_10" } }
							# if = { limit = { state = 602 } ROOT = { load_oob = "PRC_guerrilla_602_10" } }
							# if = { limit = { state = 603 } ROOT = { load_oob = "PRC_guerrilla_603_10" } }
							# if = { limit = { state = 604 } ROOT = { load_oob = "PRC_guerrilla_604_10" } }
							# if = { limit = { state = 605 } ROOT = { load_oob = "PRC_guerrilla_605_10" } }
							# if = { limit = { state = 606 } ROOT = { load_oob = "PRC_guerrilla_606_10" } }
							# if = { limit = { state = 607 } ROOT = { load_oob = "PRC_guerrilla_607_10" } }
							# if = { limit = { state = 608 } ROOT = { load_oob = "PRC_guerrilla_608_10" } }
							# if = { limit = { state = 609 } ROOT = { load_oob = "PRC_guerrilla_609_10" } }
							# if = { limit = { state = 610 } ROOT = { load_oob = "PRC_guerrilla_610_10" } }
							# if = { limit = { state = 611 } ROOT = { load_oob = "PRC_guerrilla_611_10" } }
							# if = { limit = { state = 612 } ROOT = { load_oob = "PRC_guerrilla_612_10" } }
							# if = { limit = { state = 613 } ROOT = { load_oob = "PRC_guerrilla_613_10" } }
							# if = { limit = { state = 614 } ROOT = { load_oob = "PRC_guerrilla_614_10" } }
							# if = { limit = { state = 615 } ROOT = { load_oob = "PRC_guerrilla_615_10" } }
							# if = { limit = { state = 616 } ROOT = { load_oob = "PRC_guerrilla_616_10" } }
							# if = { limit = { state = 620 } ROOT = { load_oob = "PRC_guerrilla_620_10" } }
							# if = { limit = { state = 621 } ROOT = { load_oob = "PRC_guerrilla_621_10" } }
							# if = { limit = { state = 622 } ROOT = { load_oob = "PRC_guerrilla_622_10" } }
							# if = { limit = { state = 714 } ROOT = { load_oob = "PRC_guerrilla_714_10" } }
							# if = { limit = { state = 715 } ROOT = { load_oob = "PRC_guerrilla_715_10" } }
							# if = { limit = { state = 716 } ROOT = { load_oob = "PRC_guerrilla_716_10" } }
							# if = { limit = { state = 717 } ROOT = { load_oob = "PRC_guerrilla_717_10" } }
							# if = { limit = { state = 728 } ROOT = { load_oob = "PRC_guerrilla_728_10" } }
							# if = { limit = { state = 729 } ROOT = { load_oob = "PRC_guerrilla_729_10" } }
							# if = { limit = { state = 743 } ROOT = { load_oob = "PRC_guerrilla_743_10" } }
							# if = { limit = { state = 744 } ROOT = { load_oob = "PRC_guerrilla_744_10" } }
							# if = { limit = { state = 745 } ROOT = { load_oob = "PRC_guerrilla_745_10" } }
							# if = { limit = { state = 746 } ROOT = { load_oob = "PRC_guerrilla_746_10" } }
							# if = { limit = { state = 747 } ROOT = { load_oob = "PRC_guerrilla_747_10" } }
							# if = { limit = { state = 748 } ROOT = { load_oob = "PRC_guerrilla_748_10" } }
							# if = { limit = { state = 749 } ROOT = { load_oob = "PRC_guerrilla_749_10" } }
							# if = { limit = { state = 750 } ROOT = { load_oob = "PRC_guerrilla_750_10" } }
							# if = { limit = { state = 751 } ROOT = { load_oob = "PRC_guerrilla_751_10" } }
							# if = { limit = { state = 752 } ROOT = { load_oob = "PRC_guerrilla_752_10" } }
							# if = { limit = { state = 753 } ROOT = { load_oob = "PRC_guerrilla_753_10" } }
							# if = { limit = { state = 754 } ROOT = { load_oob = "PRC_guerrilla_754_10" } }
							# if = { limit = { state = 755 } ROOT = { load_oob = "PRC_guerrilla_755_10" } }
							# if = { limit = { state = 756 } ROOT = { load_oob = "PRC_guerrilla_756_10" } }
							# if = { limit = { state = 761 } ROOT = { load_oob = "PRC_guerrilla_761_10" } }
							# if = { limit = { state = 762 } ROOT = { load_oob = "PRC_guerrilla_762_10" } }
							# if = { limit = { state = 763 } ROOT = { load_oob = "PRC_guerrilla_763_10" } }
							# if = { limit = { state = 764 } ROOT = { load_oob = "PRC_guerrilla_764_10" } }
							# if = { limit = { state = 765 } ROOT = { load_oob = "PRC_guerrilla_765_10" } }
							# if = { limit = { state = 767 } ROOT = { load_oob = "PRC_guerrilla_767_10" } }
							# if = { limit = { state = 768 } ROOT = { load_oob = "PRC_guerrilla_768_10" } }
							# if = { limit = { state = 769 } ROOT = { load_oob = "PRC_guerrilla_769_10" } }
							# if = { limit = { state = 770 } ROOT = { load_oob = "PRC_guerrilla_770_10" } }
							# if = { limit = { state = 771 } ROOT = { load_oob = "PRC_guerrilla_771_10" } }
							# if = { limit = { state = 773 } ROOT = { load_oob = "PRC_guerrilla_773_10" } }
							# if = { limit = { state = 774 } ROOT = { load_oob = "PRC_guerrilla_774_10" } }
							# if = { limit = { state = 287 } ROOT = { load_oob = "PRC_guerrilla_287_10" } }
							# if = { limit = { state = 322 } ROOT = { load_oob = "PRC_guerrilla_322_10" } }
							# if = { limit = { state = 329 } ROOT = { load_oob = "PRC_guerrilla_329_10" } }
							# if = { limit = { state = 330 } ROOT = { load_oob = "PRC_guerrilla_330_10" } }
							# if = { limit = { state = 434 } ROOT = { load_oob = "PRC_guerrilla_434_10" } }
							# if = { limit = { state = 441 } ROOT = { load_oob = "PRC_guerrilla_441_10" } }
							# if = { limit = { state = 617 } ROOT = { load_oob = "PRC_guerrilla_617_10" } }
							# if = { limit = { state = 618 } ROOT = { load_oob = "PRC_guerrilla_618_10" } }
							# if = { limit = { state = 619 } ROOT = { load_oob = "PRC_guerrilla_619_10" } }
							# if = { limit = { state = 757 } ROOT = { load_oob = "PRC_guerrilla_757_10" } }
							# if = { limit = { state = 758 } ROOT = { load_oob = "PRC_guerrilla_758_10" } }
							# if = { limit = { state = 759 } ROOT = { load_oob = "PRC_guerrilla_759_10" } }
							# if = { limit = { state = 760 } ROOT = { load_oob = "PRC_guerrilla_760_10" } }
							set_temp_variable = { var = PRC_state_cell_uprise_cost value = 10 }
						}
					}
				}
			}
		}
	}
}



# CHI_kc_get_better
# CHI_kc_get_worse

#
#########
health_care_get_better = {
	if = {
		limit = { has_idea = health_budget1 }
		swap_ideas = {
			remove_idea = health_budget1
			add_idea = health_budget2
		}
	}
	if = {
		limit = { has_idea = health_budget2 }
		swap_ideas = {
			remove_idea = health_budget2
			add_idea = health_budget3
		}
	}
	if = {
		limit = { has_idea = health_budget3 }
		swap_ideas = {
			remove_idea = health_budget3
			add_idea = health_budget4
		}
	}	
	if = {
		limit = { has_idea = health_budget4 }
		swap_ideas = {
			remove_idea = health_budget4
			add_idea = health_budget5
		}
	}	
	if = {
		limit = { has_idea = health_budget5 }
		swap_ideas = {
			remove_idea = health_budget5
			add_idea = health_budget6
		}
	}	
	if = {
		limit = { has_idea = health_budget6 }
		swap_ideas = {
			remove_idea = health_budget6
			add_idea = health_budget7
		}
	}			
}
###########Get Worse######
health_care_get_worse = {
    if = {
        limit = { has_idea = health_budget7 }
        swap_ideas = {
            remove_idea = health_budget7
            add_idea = health_budget6
        }
    }
    if = {
        limit = { has_idea = health_budget6 }
        swap_ideas = {
            remove_idea = health_budget6
            add_idea = health_budget5
        }
    }
    if = {
        limit = { has_idea = health_budget5 }
        swap_ideas = {
            remove_idea = health_budget5
            add_idea = health_budget4
        }
    }
    if = {
        limit = { has_idea = health_budget4 }
        swap_ideas = {
            remove_idea = health_budget4
            add_idea = health_budget3
        }
    }
    if = {
        limit = { has_idea = health_budget3 }
        swap_ideas = {
            remove_idea = health_budget3
            add_idea = health_budget2
        }
    }
    if = {
        limit = { has_idea = health_budget2 }
        swap_ideas = {
            remove_idea = health_budget2
            add_idea = health_budget1
        }
    }
}
#tax
taxes_get_better = {
    if = {
        limit = { has_idea = tax_minimal }
        swap_ideas = {
            remove_idea = tax_minimal
            add_idea = tax_low
        }
    }
    if = {
        limit = { has_idea = tax_low }
        swap_ideas = {
            remove_idea = tax_low
            add_idea = tax_average
        }
    }
    if = {
        limit = { has_idea = tax_average }
        swap_ideas = {
            remove_idea = tax_average
            add_idea = tax_high
        }
    }
    if = {
        limit = { has_idea = tax_high }
        swap_ideas = {
            remove_idea = tax_high
            add_idea = tax_extreme
        }
    }
}

taxes_get_worse = {
    if = {
        limit = { has_idea = tax_extreme }
        swap_ideas = {
            remove_idea = tax_extreme
            add_idea = tax_high
        }
    }
    if = {
        limit = { has_idea = tax_high }
        swap_ideas = {
            remove_idea = tax_high
            add_idea = tax_average
        }
    }
    if = {
        limit = { has_idea = tax_average }
        swap_ideas = {
            remove_idea = tax_average
            add_idea = tax_low
        }
    }
    if = {
        limit = { has_idea = tax_low }
        swap_ideas = {
            remove_idea = tax_low
            add_idea = tax_minimal
        }
    }
}

####immagration
immigration_policy_get_better = {
    if = {
        limit = { has_idea = immigration_closed_borders }
        swap_ideas = {
            remove_idea = immigration_closed_borders
            add_idea = immigration_heavily_regulated
        }
    }
    if = {
        limit = { has_idea = immigration_heavily_regulated }
        swap_ideas = {
            remove_idea = immigration_heavily_regulated
            add_idea = immigration_lightly_regulated
        }
    }
    if = {
        limit = { has_idea = immigration_lightly_regulated }
        swap_ideas = {
            remove_idea = immigration_lightly_regulated
            add_idea = immigration_open_country
        }
    }
}

immigration_policy_get_worse = {
    if = {
        limit = { has_idea = immigration_open_country }
        swap_ideas = {
            remove_idea = immigration_open_country
            add_idea = immigration_lightly_regulated
        }
    }
    if = {
        limit = { has_idea = immigration_lightly_regulated }
        swap_ideas = {
            remove_idea = immigration_lightly_regulated
            add_idea = immigration_heavily_regulated
        }
    }
    if = {
        limit = { has_idea = immigration_heavily_regulated }
        swap_ideas = {
            remove_idea = immigration_heavily_regulated
            add_idea = immigration_closed_borders
        }
    }
}

##########industry
industry_budget_get_better = {
    if = {
        limit = { has_idea = industry_budget1 }
        swap_ideas = {
            remove_idea = industry_budget1
            add_idea = industry_budget2
        }
    }
    if = {
        limit = { has_idea = industry_budget2 }
        swap_ideas = {
            remove_idea = industry_budget2
            add_idea = industry_budget3
        }
    }
    if = {
        limit = { has_idea = industry_budget3 }
        swap_ideas = {
            remove_idea = industry_budget3
            add_idea = industry_budget4
        }
    }
    if = {
        limit = { has_idea = industry_budget4 }
        swap_ideas = {
            remove_idea = industry_budget4
            add_idea = industry_budget5
        }
    }
    if = {
        limit = { has_idea = industry_budget5 }
        swap_ideas = {
            remove_idea = industry_budget5
            add_idea = industry_budget6
        }
    }
    if = {
        limit = { has_idea = industry_budget6 }
        swap_ideas = {
            remove_idea = industry_budget6
            add_idea = industry_budget7
        }
    }
}

industry_budget_get_worse = {
    if = {
        limit = { has_idea = industry_budget7 }
        swap_ideas = {
            remove_idea = industry_budget7
            add_idea = industry_budget6
        }
    }
    if = {
        limit = { has_idea = industry_budget6 }
        swap_ideas = {
            remove_idea = industry_budget6
            add_idea = industry_budget5
        }
    }
    if = {
        limit = { has_idea = industry_budget5 }
        swap_ideas = {
            remove_idea = industry_budget5
            add_idea = industry_budget4
        }
    }
    if = {
        limit = { has_idea = industry_budget4 }
        swap_ideas = {
            remove_idea = industry_budget4
            add_idea = industry_budget3
        }
    }
    if = {
        limit = { has_idea = industry_budget3 }
        swap_ideas = {
            remove_idea = industry_budget3
            add_idea = industry_budget2
        }
    }
    if = {
        limit = { has_idea = industry_budget2 }
        swap_ideas = {
            remove_idea = industry_budget2
            add_idea = industry_budget1
        }
    }
}

##### KUOMINTANG CORRUPTION - GET BETTER
CHI_kc_get_better = {

	if = {
		limit = { has_idea = CHI_kuomintang_corruption_I1 }

		custom_effect_tooltip = CHI_kc_get_better_EXPL

		add_political_power = 150
		add_stability = 0.025

		remove_ideas = CHI_kuomintang_corruption_I1

		set_country_flag = CHI_kc_ended_FLAG
	}

	if = {
		limit = { has_idea = CHI_kuomintang_corruption_I2 }
		swap_ideas = {
			remove_idea = CHI_kuomintang_corruption_I2
			add_idea = CHI_kuomintang_corruption_I1
		}
	}
	if = {
		limit = { has_idea = CHI_kuomintang_corruption_I3 }
		swap_ideas = {
			remove_idea = CHI_kuomintang_corruption_I3
			add_idea = CHI_kuomintang_corruption_I2
		}
	}
	if = {
		limit = { has_idea = CHI_kuomintang_corruption_I4 }
		swap_ideas = {
			remove_idea = CHI_kuomintang_corruption_I4
			add_idea = CHI_kuomintang_corruption_I3
		}
	}
	if = {
		limit = { has_idea = CHI_kuomintang_corruption_I5 }
		swap_ideas = {
			remove_idea = CHI_kuomintang_corruption_I5
			add_idea = CHI_kuomintang_corruption_I4
		}
	}
	if = {
		limit = { has_idea = CHI_kuomintang_corruption_I6 }
		swap_ideas = {
			remove_idea = CHI_kuomintang_corruption_I6
			add_idea = CHI_kuomintang_corruption_I5
		}
	}
	if = {
		limit = { has_idea = CHI_kuomintang_corruption_I7 }
		swap_ideas = {
			remove_idea = CHI_kuomintang_corruption_I7
			add_idea = CHI_kuomintang_corruption_I6
		}
	}
	if = {
		limit = { has_idea = CHI_kuomintang_corruption_I8 }
		swap_ideas = {
			remove_idea = CHI_kuomintang_corruption_I8
			add_idea = CHI_kuomintang_corruption_I7
		}
	}
	if = {
		limit = { has_idea = CHI_kuomintang_corruption_I9 }
		swap_ideas = {
			remove_idea = CHI_kuomintang_corruption_I9
			add_idea = CHI_kuomintang_corruption_I8
		}
	}
	if = {
		limit = { has_idea = CHI_kuomintang_corruption_I10 }
		swap_ideas = {
			remove_idea = CHI_kuomintang_corruption_I10
			add_idea = CHI_kuomintang_corruption_I9
		}
	}
}

##### KUOMINTANG CORRUPTION - GET BETTER THREE TIMES
CHI_kc_get_better_three_times = {

	if = {
		limit = { has_idea = CHI_kuomintang_corruption_I3 }

		custom_effect_tooltip = CHI_kc_get_better_EXPL

		add_political_power = 150
		add_stability = 0.025

		remove_ideas = CHI_kuomintang_corruption_I1

		set_country_flag = CHI_kc_ended_FLAG
	}

	if = {
		custom_effect_tooltip = CHI_kc_get_better_three_times_EXPL

		limit = { has_idea = CHI_kuomintang_corruption_I4 }
		swap_ideas = {
			remove_idea = CHI_kuomintang_corruption_I4
			add_idea = CHI_kuomintang_corruption_I1
		}
	}
	if = {
		custom_effect_tooltip = CHI_kc_get_better_three_times_EXPL

		limit = { has_idea = CHI_kuomintang_corruption_I5 }
		swap_ideas = {
			remove_idea = CHI_kuomintang_corruption_I5
			add_idea = CHI_kuomintang_corruption_I2
		}
	}
	if = {
		custom_effect_tooltip = CHI_kc_get_better_three_times_EXPL

		limit = { has_idea = CHI_kuomintang_corruption_I6 }
		swap_ideas = {
			remove_idea = CHI_kuomintang_corruption_I6
			add_idea = CHI_kuomintang_corruption_I3
		}
	}
	if = {
		custom_effect_tooltip = CHI_kc_get_better_three_times_EXPL

		limit = { has_idea = CHI_kuomintang_corruption_I7 }
		swap_ideas = {
			remove_idea = CHI_kuomintang_corruption_I7
			add_idea = CHI_kuomintang_corruption_I4
		}
	}
	if = {
		custom_effect_tooltip = CHI_kc_get_better_three_times_EXPL

		limit = { has_idea = CHI_kuomintang_corruption_I8 }
		swap_ideas = {
			remove_idea = CHI_kuomintang_corruption_I8
			add_idea = CHI_kuomintang_corruption_I5
		}
	}
	if = {
		custom_effect_tooltip = CHI_kc_get_better_three_times_EXPL

		limit = { has_idea = CHI_kuomintang_corruption_I9 }
		swap_ideas = {
			remove_idea = CHI_kuomintang_corruption_I9
			add_idea = CHI_kuomintang_corruption_I6
		}
	}
	if = {
		custom_effect_tooltip = CHI_kc_get_better_three_times_EXPL

		limit = { has_idea = CHI_kuomintang_corruption_I10 }
		swap_ideas = {
			remove_idea = CHI_kuomintang_corruption_I10
			add_idea = CHI_kuomintang_corruption_I7
		}
	}
}

##### KUOMINTANG CORRUPTION - GET WORSE
CHI_kc_get_worse = {

	if = {
		limit = { has_idea = CHI_kuomintang_corruption_I9 }
		swap_ideas = {
			remove_idea = CHI_kuomintang_corruption_I9
			add_idea = CHI_kuomintang_corruption_I10
		}
	}
	if = {
		limit = { has_idea = CHI_kuomintang_corruption_I8 }
		swap_ideas = {
			remove_idea = CHI_kuomintang_corruption_I8
			add_idea = CHI_kuomintang_corruption_I9
		}
	}
	if = {
		limit = { has_idea = CHI_kuomintang_corruption_I7 }
		swap_ideas = {
			remove_idea = CHI_kuomintang_corruption_I7
			add_idea = CHI_kuomintang_corruption_I8
		}
	}
	if = {
		limit = { has_idea = CHI_kuomintang_corruption_I6 }
		swap_ideas = {
			remove_idea = CHI_kuomintang_corruption_I6
			add_idea = CHI_kuomintang_corruption_I7
		}
	}
	if = {
		limit = { has_idea = CHI_kuomintang_corruption_I5 }
		swap_ideas = {
			remove_idea = CHI_kuomintang_corruption_I5
			add_idea = CHI_kuomintang_corruption_I6
		}
	}
	if = {
		limit = { has_idea = CHI_kuomintang_corruption_I4 }
		swap_ideas = {
			remove_idea = CHI_kuomintang_corruption_I4
			add_idea = CHI_kuomintang_corruption_I5
		}
	}
	if = {
		limit = { has_idea = CHI_kuomintang_corruption_I3 }
		swap_ideas = {
			remove_idea = CHI_kuomintang_corruption_I3
			add_idea = CHI_kuomintang_corruption_I4
		}
	}
	if = {
		limit = { has_idea = CHI_kuomintang_corruption_I2 }
		swap_ideas = {
			remove_idea = CHI_kuomintang_corruption_I2
			add_idea = CHI_kuomintang_corruption_I3
		}
	}
	if = {
		limit = { has_idea = CHI_kuomintang_corruption_I1 }
		swap_ideas = {
			remove_idea = CHI_kuomintang_corruption_I1
			add_idea = CHI_kuomintang_corruption_I2
		}
	}
}

##### STOP INVESTING
CHI_sino_german_mission_end = {

	custom_effect_tooltip = CHI_sino_german_mission_end_EXPL

	# REMOVE EVERYTHING - IDEAS are removed by AVAILABLE
	if = {
		limit = {
			has_idea = CHI_alexander_von_falkenhausen
		}

		remove_ideas = CHI_alexander_von_falkenhausen
	}

	# CLEAR FLAG
	clr_global_flag = CHI_sino_german_mission_going_FLAG
}
#Add to scripted triggers if more levels of hyper inflation is added
CHI_hyper_inflation_clear_all = {
	remove_ideas = {
		CHI_hyper_inflation_1
		CHI_hyper_inflation_2
		CHI_hyper_inflation_3
		CHI_hyper_inflation_4
		CHI_hyper_inflation_5
	}
}

#Important to put HIGHEST first
CHI_hyper_inflation_level_up = {
	# level 5 not relevant. Cannot go above.
	custom_effect_tooltip = CHI_inflation_up_tt
	if = {
		limit = { has_idea = CHI_hyper_inflation_4 }
		swap_ideas = {
			remove_idea = CHI_hyper_inflation_4
			add_idea = CHI_hyper_inflation_5
		}
	}
	else_if = {
		limit = { has_idea = CHI_hyper_inflation_3 }
		swap_ideas = {
			remove_idea = CHI_hyper_inflation_3
			add_idea = CHI_hyper_inflation_4
		}
	}
	else_if = {
		limit = { has_idea = CHI_hyper_inflation_2 }
		swap_ideas = {
			remove_idea = CHI_hyper_inflation_2
			add_idea = CHI_hyper_inflation_3
		}
	}
	else_if = {
		limit = { has_idea = CHI_hyper_inflation_1 }
		swap_ideas = {
			remove_idea = CHI_hyper_inflation_1
			add_idea = CHI_hyper_inflation_2
		}
	}
	else_if = {
		limit = { NOT = { has_idea = CHI_hyper_inflation_1 } }
		add_ideas = CHI_hyper_inflation_1
	}
}

#Important to put LOWEST first
CHI_hyper_inflation_level_down = {
	custom_effect_tooltip = CHI_inflation_down_tt
	if = {
		limit = { has_idea = CHI_hyper_inflation_1 }
		#Makes the tooltip clearer if player looks at the effect early in the game
		effect_tooltip = {
			swap_ideas = {
				remove_idea = CHI_hyper_inflation_1
				add_idea = CHI_hyper_inflation_none
			}
		}
		hidden_effect = { remove_ideas = CHI_hyper_inflation_1 }
	}
	if = {
		limit = { has_idea = CHI_hyper_inflation_2 }
		swap_ideas = {
			remove_idea = CHI_hyper_inflation_2
			add_idea = CHI_hyper_inflation_1
		}
	}
	if = {
		limit = { has_idea = CHI_hyper_inflation_3 }
		swap_ideas = {
			remove_idea = CHI_hyper_inflation_3
			add_idea = CHI_hyper_inflation_2
		}
	}
	if = {
		limit = { has_idea = CHI_hyper_inflation_4 }
		swap_ideas = {
			remove_idea = CHI_hyper_inflation_4
			add_idea = CHI_hyper_inflation_3
		}
	}
	if = {
		limit = { has_idea = CHI_hyper_inflation_5 }
		swap_ideas = {
			remove_idea = CHI_hyper_inflation_5
			add_idea = CHI_hyper_inflation_4
		}
	}
}

# CHI_integrating_warlords #

CHI_warlord_integration_up = {
	if = {
		limit = {
			has_idea = CHI_warlord_integration_4
		}
		swap_ideas = {
			remove_idea = CHI_warlord_integration_4
			add_idea = CHI_warlord_integration_5
		}
	}
	else_if = {
		limit = {
			has_idea = CHI_warlord_integration_3
		}
		swap_ideas = {
			remove_idea = CHI_warlord_integration_3
			add_idea = CHI_warlord_integration_4
		}
	}
	else_if = {
		limit = {
			has_idea = CHI_warlord_integration_2
		}
		swap_ideas = {
			remove_idea = CHI_warlord_integration_2
			add_idea = CHI_warlord_integration_3
		}
	}
	else_if = {
		limit = {
			has_idea = CHI_warlord_integration_1
		}
		swap_ideas = {
			remove_idea = CHI_warlord_integration_1
			add_idea = CHI_warlord_integration_2
		}
	}
	else = {
		add_ideas = CHI_warlord_integration_1
	}
}


CHI_warlord_integration_down = {
	if = {
		limit = {
			has_idea = CHI_warlord_integration_5
		}
		swap_ideas = {
			remove_idea = CHI_warlord_integration_5
			add_idea = CHI_warlord_integration_4
		}
	}
	else_if = {
		limit = {
			has_idea = CHI_warlord_integration_4
		}
		swap_ideas = {
			remove_idea = CHI_warlord_integration_4
			add_idea = CHI_warlord_integration_3
		}
	}
	else_if = {
		limit = {
			has_idea = CHI_warlord_integration_3
		}
		swap_ideas = {
			remove_idea = CHI_warlord_integration_3
			add_idea = CHI_warlord_integration_2
		}
	}
	else_if = {
		limit = {
			has_idea = CHI_warlord_integration_2
		}
		swap_ideas = {
			remove_idea = CHI_warlord_integration_2
			add_idea = CHI_warlord_integration_1
		}
	}
	else = {
		remove_ideas = CHI_warlord_integration_1
	}
}

#Could give more detailed info if needed
CHI_show_state_uprising_effect_after_infiltration_level_down = {
	custom_effect_tooltip = CHI_removed_infiltration
	if = {
		limit = {
			any_country = {
				is_potentially_communist_china = yes
				PREV = {
					has_state_flag = {
						flag = PRC_infiltration_@PREV
						value < 3
					}
				}
			}
		}
		custom_effect_tooltip = CHI_infiltration_not_detected
	}
	else_if = {
		limit = {
			any_country = {
				is_potentially_communist_china = yes
				PREV = {
					has_state_flag = {
						flag = PRC_infiltration_@PREV
						value > 2
					}
				}
			}
		}
		custom_effect_tooltip = PRC_infiltrate_uprising_header
		custom_effect_tooltip = PRC_infiltrate_uprising_effect_1
	}
}

#State scope
CHI_infiltration_flag_down_2 = {
	hidden_effect = {
		every_country = {
			limit = { is_potentially_communist_china = yes }
			PREV = {
				modify_state_flag = {
					flag = PRC_infiltration_@PREV
					value = -2
				}
				if = {
					limit = {
						has_state_flag = {
							flag = PRC_infiltration_@PREV
							value < 1
						}
					}
					clr_state_flag = PRC_infiltration_@PREV
					clr_state_flag = discovered_infiltration
				}
			}
		}
	}
}

CHI_unity_level_up = {
	if = {
		limit = {
			has_idea = CHI_chinese_unity_2
		}
		swap_ideas = {
			remove_idea = CHI_chinese_unity_2
			add_idea = CHI_chinese_unity_3
		}
	}
	if = {
		limit = {
			has_idea = CHI_chinese_unity_1
		}
		swap_ideas = {
			remove_idea = CHI_chinese_unity_1
			add_idea = CHI_chinese_unity_2
		}
	}
	if = {
		limit = {
			NOT = {
				OR = {
					has_idea = CHI_chinese_unity_1
					has_idea = CHI_chinese_unity_2
					has_idea = CHI_chinese_unity_3
				}
			}
		}
		add_ideas = CHI_chinese_unity_1
	}
}

CHI_unity_level_down = {
	if = {
		limit = {
			has_idea = CHI_chinese_unity_2
		}
		swap_ideas = {
			remove_idea = CHI_chinese_unity_2
			add_idea = CHI_chinese_unity_1
		}
	}
	else_if = {
		limit = {
			has_idea = CHI_chinese_unity_3
		}
		swap_ideas = {
			remove_idea = CHI_chinese_unity_3
			add_idea = CHI_chinese_unity_2
		}
	}
	else_if = {
		limit = {
			has_idea = CHI_chinese_unity_1
		}
		remove_ideas = CHI_chinese_unity_1
	}
}

CHI_set_ally_strat_on_current_leader = {
	if = {
		limit = {
			FROM = {
				tag = CHI
			}
		}
		add_ai_strategy = {
			type = alliance
			id = "CHI"
			value = 200
		}
	}
	else_if = {
		limit = {
			FROM = {
				tag = SHX
			}
		}
		add_ai_strategy = {
			type = alliance
			id = "SHX"
			value = 200
		}
	}
	else_if = {
		limit = {
			FROM = {
				tag = GXC
			}
		}
		add_ai_strategy = {
			type = alliance
			id = "GXC"
			value = 200
		}
	}
	else_if = {
		limit = {
			FROM = {
				tag = YUN
			}
		}
		add_ai_strategy = {
			type = alliance
			id = "YUN"
			value = 200
		}
	}
	else_if = {
		limit = {
			FROM = {
				tag = XSM
			}
		}
		add_ai_strategy = {
			type = alliance
			id = "XSM"
			value = 200
		}
	}
	else_if = {
		limit = {
			FROM = {
				tag = SIK
			}
		}
		add_ai_strategy = {
			type = alliance
			id = "SIK"
			value = 200
		}
	}
}

CHI_negative_spirit_transfer = {
	if = {
		limit = {
			event_target:old_leader = { has_idea = CHI_incompetent_officers }
		}
		add_ideas = CHI_incompetent_officers
	}
	if = {
		limit = {
			event_target:old_leader = { has_idea = CHI_nine_power_treaty }
		}
		add_ideas = CHI_nine_power_treaty
	}
	if = {
		limit = {
			event_target:old_leader = { has_idea = CHI_ineffective_bureaucracy }
		}
		add_ideas = CHI_ineffective_bureaucracy
	}
	if = {
		limit = {
			event_target:old_leader = { has_idea = CHI_hyper_inflation_none }
		}
		add_ideas = CHI_hyper_inflation_none
	}
	else_if = {
		limit = {
			event_target:old_leader = { has_idea = CHI_hyper_inflation_1 }
		}
		add_ideas = CHI_hyper_inflation_1
	}
	else_if = {
		limit = {
			event_target:old_leader = { has_idea = CHI_hyper_inflation_2 }
		}
		add_ideas = CHI_hyper_inflation_2
	}
	else_if = {
		limit = {
			event_target:old_leader = { has_idea = CHI_hyper_inflation_3 }
		}
		add_ideas = CHI_hyper_inflation_3
	}
	else_if = {
		limit = {
			event_target:old_leader = { has_idea = CHI_hyper_inflation_4 }
		}
		add_ideas = CHI_hyper_inflation_4
	}
	else_if = {
		limit = {
			event_target:old_leader = { has_idea = CHI_hyper_inflation_5 }
		}
		add_ideas = CHI_hyper_inflation_5
	}
}


#	INV_stop_investing
#	INV_withdraw_our_investments

##### STOP INVESTING
INV_stop_investing = {

	custom_effect_tooltip = INV_stop_investing_EXPL

	clr_country_flag = ROOT_will_invest_in_CHI_FLAG
}

##### WITHDRAW INVESTMENTS
INV_withdraw_our_investments = {

	custom_effect_tooltip = INV_withdraw_our_investments_EXPL

	set_temp_variable = {
		var = INV_lvl_of_investment_civ_VAR
		value = ROOT.CHI_lvl_of_investment_VAR
	}

	multiply_temp_variable = {
		var = INV_lvl_of_investment_civ_VAR
		value = 0.5
	}

	add_offsite_building = { type = industrial_complex level = INV_lvl_of_investment_civ_VAR }

	set_temp_variable = {
		var = INV_lvl_of_investment_doc_VAR
		value = ROOT.CHI_lvl_of_investment_VAR
	}

	multiply_temp_variable = {
		var = INV_lvl_of_investment_doc_VAR
		value = 0.25
	}

	add_offsite_building = { type = dockyard level = INV_lvl_of_investment_doc_VAR }
}
