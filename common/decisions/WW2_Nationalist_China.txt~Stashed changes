#Category only allowed for CHI
CHI_anti_imperialism = {

	CHI_release_korea = {

		icon = generic_nationalism

		available = {
			always = no
		}

		days_mission_timeout = 180

		fire_only_once = yes
		activation = {
			always = no
		}

		visible = {
			always = no
		}
		complete_effect = {
		}
		timeout_effect = {
		}
	}
}


#Category allowed for all potential nationalist china
#Category visible when CHI_army_reform focus is completed
CHI_army_reform = {

	CHI_army_reform = {

		icon = generic_prepare_civil_war

		available = {
			has_army_experience > 99
			has_completed_focus = CHI_army_reform
		}

		cost = 0
		ai_will_do = {
			factor = 500
		}
		days_remove = 90

		visible = {
			OR = {
				has_idea = CHI_army_corruption_1
				has_idea = CHI_army_corruption_2
				has_idea = CHI_army_corruption_3
			}
		}
		remove_effect = {
			if = {
				limit = { has_idea = CHI_army_corruption_1 }
				swap_ideas = {
					remove_idea = CHI_army_corruption_1
					add_idea = CHI_army_corruption_2
				}
			}
			else_if = {
				limit = { has_idea = CHI_army_corruption_2 }
				swap_ideas = {
					remove_idea = CHI_army_corruption_2
					add_idea = CHI_army_corruption_3
				}
			}
			else_if = {
				limit = { has_idea = CHI_army_corruption_3 }
				remove_ideas = CHI_army_corruption_3
			}
		}
		complete_effect = {
			army_experience = -100
			custom_effect_tooltip = 90_days_tt

		}
	}

	CHI_lessons_of_war = {
		icon = generic_army_support
		available = {
			has_army_experience > 199
			has_idea = CHI_incompetent_officers
			if = {
				limit = { has_idea = CHI_army_corruption_1 }
				NOT = { has_idea = CHI_army_corruption_1 }
			}

			if = {
				limit = { has_idea = CHI_army_corruption_2 }
				NOT = { has_idea = CHI_army_corruption_2 }
			}

			if = {
				limit = { has_idea = CHI_army_corruption_3 }
				NOT = { has_idea = CHI_army_corruption_3 }
			}

			if = {
				limit = {
					NOT = { has_idea = CHI_army_corruption_1 }
					NOT = { has_idea = CHI_army_corruption_2 }
					NOT = { has_idea = CHI_army_corruption_3 }
				}
				NOT = { has_idea = CHI_army_corruption_3 }
			}
		}

		cost = 0
		ai_will_do = {
			factor = 10
		}
		fire_only_once = yes

		visible = {
			tag = CHI
			has_completed_focus = CHI_army_reform
		}

		complete_effect = {
			army_experience = -200
			remove_ideas = CHI_incompetent_officers
			set_country_flag = CHI_lessons_of_war_completed
		}
	}

	#Activates when the player picks CHI_60_divisions_plan decision
	CHI_bolster_our_ranks = {

		icon = generic_prepare_civil_war

		available = {
			num_divisions > 60
			has_army_manpower = { size > 549999 }
		}

		fire_only_once = yes

		days_mission_timeout = 180

		is_good = no

		activation = {
			always = no #Triggered from effect in CHI_60_divisions_plan
		}

		complete_effect = {
			add_war_support = 0.1
		}

		timeout_effect = {

		}
	}

	CHI_60_divisions_plan = {

		icon = generic_operation

		available = {

		}

		cost = 90
		ai_will_do = {
			factor = 1
		}
		fire_only_once = yes

		visible = {
			has_completed_focus = CHI_60_divisions_plan
		}

		days_remove = 180

		modifier = {
			training_time_army_factor = -0.25
		}

		complete_effect = {
			activate_mission = CHI_bolster_our_ranks
		}
	}

}

economy_decisions = {
	CHI_forced_loans = {

		icon = ger_mefo_bills

		available = {
			has_hyper_inflation = yes
		}

		cost = 100
		ai_will_do = {
			factor = 1
			modifier = {
				OR = {
					has_idea = CHI_hyper_inflation_none
					has_idea = CHI_hyper_inflation_1
				}
				factor = 0
			}
			modifier = {
				has_idea = CHI_hyper_inflation_3
				factor = 2
			}
			modifier = {
				has_idea = CHI_hyper_inflation_4
				factor = 5
			}
			modifier = {
				has_idea = CHI_hyper_inflation_5
				factor = 10
			}
		}

		fire_only_once = yes

		visible = {
			has_completed_focus = CHI_forced_loans
		}

		days_re_enable = 90

		complete_effect = {
			CHI_hyper_inflation_level_down = yes
			add_stability = -0.03
			add_war_support = -0.03
		}
	}
}

war_measures = {

	CHI_scorched_earth_tactics = {
		icon = generic_scorched_earth
		available = {
			custom_trigger_tooltip = {
				tooltip = KMT_has_lure_them_in_tt
				OR = {
					has_idea = KMT_lure_them_in
					has_idea = KMT_lure_them_in_1
					has_idea = KMT_lure_them_in_2
					has_idea = KMT_lure_them_in_3
					has_idea = KMT_lure_them_in_4
				}
			}
			any_state = {
				is_owned_by = ROOT
				controller = {
					has_offensive_war_with = ROOT
				}
				NOT = {
					has_state_flag = scorched
				}
				any_neighbor_state = {
					is_controlled_by = ROOT
				}
			}
		}

		cost = 25

		ai_will_do = {
			factor = 10
		}

		visible = {
			OR = {
				has_idea = KMT_lure_them_in
				has_idea = KMT_lure_them_in_1
				has_idea = KMT_lure_them_in_2
				has_idea = KMT_lure_them_in_3
				has_idea = KMT_lure_them_in_4
			}
		}

		days_re_enable = 15

		complete_effect = {
			every_owned_state = {
				limit = {
					controller = { has_war_with = ROOT }
					NOT = {
						has_state_flag = scorched
					}
					any_neighbor_state = {
						is_controlled_by = ROOT
					}
				}
				if = {
					limit = {
						PREV = {
							arms_factory > 0
						}
					}
					remove_building = {
						type = arms_factory
						level = 1
					}
					damage_building = {
						type = infrastructure
						damage = 4
					}
					else = {
						if = {
							limit = {
								PREV = {
									dockyard > 0
								}
							}
							remove_building = {
								type = dockyard
								level = 1
							}
							damage_building = {
								type = infrastructure
								damage = 4
							}
							else = {
								if = {
									limit = {
										PREV = {
											industrial_complex > 0
										}
									}
									remove_building = {
										type = industrial_complex
										level = 1
									}
									damage_building = {
										type = infrastructure
										damage = 4
									}
									else = {
										damage_building = {
											type = infrastructure
											damage = 6
										}
									}
								}
							}
						}
					}
				}
				set_state_flag = scorched
			}
		}
	}
}


### #  # ###  #  #  ### ### ###  #   #    #### #   #  ##   ##  #  #  ##  ### ###  ##  #  #
#  ## # #  # #  # #     #  #  #  # #     #    #   # #  # #  # #  # #  #  #   #  #  # ## #
#  # ## #  # #  #   #   #  ###    #      ##    # #  #### #    #  # ####  #   #  #  # # ##
#  #  # #  # #  #    #  #  #  #   #      #     # #  #  # #  # #  # #  #  #   #  #  # #  #
### #  # ###   ##  ###   #  #  #   #      ####   #   #  #  ##   ##  #  #  #  ###  ##  #  #

CHI_industrial_evacuations = {


	CHI_industrial_evacuations_from_gansu = { #283 #gansu
		icon = generic_scorched_earth
		available = {
			283 = { #283 #gansu
				OR = {
					arms_factory > 0
					industrial_complex > 0
				}
			}
		}
		highlight_states = {
			state = 283
		}
		visible = {
			has_completed_focus = CHI_industrial_evacuations
			283 = { #283 #gansu
				is_controlled_by = ROOT
			}
		}

		fire_only_once = yes
		cost = 25

		complete_effect = { #TODO_WTT_CD consider making a reversed mission to hold state for X days before moving
			283 = { #283 #gansu
				set_variable = {
					var = af_level
					value = arms_factory_level
				}
				set_variable = {
					var = af_to_move
					value = arms_factory_level
				}
				multiply_variable = {
					var = af_to_move
					value = global.CHI_industrial_evacuations_amount_factor
				}

				set_variable = {
					var = ic_level
					value = industrial_complex_level
				}
				set_variable = {
					var = ic_to_move
					value = industrial_complex_level
				}
				multiply_variable = {
					var = ic_to_move
					value = global.CHI_industrial_evacuations_amount_factor
				}

				custom_effect_tooltip = CHI_industrial_evacuations_remove_AF
				custom_effect_tooltip = CHI_industrial_evacuations_remove_IC
				hidden_effect = {
					remove_building = {
						type = arms_factory
						level = af_level
					}
					remove_building = {
						type = industrial_complex
						level = ic_level
					}
				}

				#Move AF
				CONTROLLER = {
					random_owned_controlled_state = {
						prioritize = { 605 603 601 }
						limit = {
							is_fully_controlled_by = ROOT
							any_neighbor_state = {
								is_controlled_by = ROOT
							}
							free_building_slots = {
								building = arms_factory
								size > 2
								include_locked = yes
							}
						}

						custom_effect_tooltip = CHI_industrial_evacuations_add_AF
						hidden_effect = {
							add_extra_state_shared_building_slots = af_to_move
							add_building_construction = {
								type = arms_factory
								level = af_to_move
								instant_build = yes
							}
							CONTROLLER = { set_country_flag = CHI_industrial_evacuations_moved_AF }
						}
					}

					#If no states are really safe or all safe are filled
					#Move to random controlled state
					if = {
						limit = {
							NOT = { has_country_flag = CHI_industrial_evacuations_moved_AF }
							NOT = {
								any_state = {
									is_fully_controlled_by = ROOT
									any_neighbor_state = {
										is_controlled_by = ROOT
									}
									free_building_slots = {
										building = arms_factory
										size > 2
										include_locked = yes
									}
								}
							}
						}
						random_owned_controlled_state = {
							prioritize = { 605 603 601 }
							limit = {
								is_controlled_by = ROOT
								free_building_slots = {
									building = arms_factory
									size > 2
									include_locked = yes
								}
							}

							custom_effect_tooltip = CHI_industrial_evacuations_add_AF
							hidden_effect = {
								add_extra_state_shared_building_slots = af_to_move
								add_building_construction = {
									type = arms_factory
									level = af_to_move
									instant_build = yes
								}
							}
						}
					}
					clr_country_flag = CHI_industrial_evacuations_moved_AF


					#Move IC
					random_owned_controlled_state = {
						prioritize = { 605 603 601 }
						limit = {
							is_fully_controlled_by = ROOT
							any_neighbor_state = {
								is_controlled_by = ROOT
							}
							free_building_slots = {
								building = industrial_complex
								size > 2
								include_locked = yes
							}
						}

						custom_effect_tooltip = CHI_industrial_evacuations_add_IC
						hidden_effect = {
							add_extra_state_shared_building_slots = ic_to_move
							add_building_construction = {
								type = industrial_complex
								level = ic_to_move
								instant_build = yes
							}
							CONTROLLER = { set_country_flag = CHI_industrial_evacuations_moved_IC }
						}
					}

					#If no states are really safe or all safe are filled
					#Move to random controlled state
					if = {
						limit = {
							NOT = { has_country_flag = CHI_industrial_evacuations_moved_IC }
							NOT = {
								any_state = {
									is_fully_controlled_by = ROOT
									any_neighbor_state = {
										is_controlled_by = ROOT
									}
									free_building_slots = {
										building = industrial_complex
										size > 2
										include_locked = yes
									}
								}
							}
						}
						random_owned_controlled_state = {
							prioritize = { 605 603 601 }
							limit = {
								is_controlled_by = ROOT
								free_building_slots = {
									building = industrial_complex
									size > 2
									include_locked = yes
								}
							}

							custom_effect_tooltip = CHI_industrial_evacuations_add_IC
							hidden_effect = {
								add_extra_state_shared_building_slots = ic_to_move
								add_building_construction = {
									type = industrial_complex
									level = ic_to_move
									instant_build = yes
								}
							}
						}
					}
					clr_country_flag = CHI_industrial_evacuations_moved_IC
				}
			}
		}

		ai_will_do = {
			factor = 1
		}
	}

	CHI_industrial_evacuations_from_hainan = { #591 #hainan
		icon = generic_scorched_earth
		available = {
			591 = { #591 #hainan
				OR = {
					arms_factory > 0
					industrial_complex > 0
				}
			}
		}
		highlight_states = {
			state = 591
		}
		visible = {
			has_completed_focus = CHI_industrial_evacuations
			591 = { #591 #hainan
				is_controlled_by = ROOT
			}
		}

		fire_only_once = yes

		cost = 25

		complete_effect = { #TODO_WTT_CD consider making a reversed mission to hold state for X days before moving
			591 = { #591 #hainan
				set_variable = {
					var = af_level
					value = arms_factory_level
				}
				set_variable = {
					var = af_to_move
					value = arms_factory_level
				}
				multiply_variable = {
					var = af_to_move
					value = global.CHI_industrial_evacuations_amount_factor
				}

				set_variable = {
					var = ic_level
					value = industrial_complex_level
				}
				set_variable = {
					var = ic_to_move
					value = industrial_complex_level
				}
				multiply_variable = {
					var = ic_to_move
					value = global.CHI_industrial_evacuations_amount_factor
				}

				custom_effect_tooltip = CHI_industrial_evacuations_remove_AF
				custom_effect_tooltip = CHI_industrial_evacuations_remove_IC
				hidden_effect = {
					remove_building = {
						type = arms_factory
						level = af_level
					}
					remove_building = {
						type = industrial_complex
						level = ic_level
					}
				}

				#Move AF
				CONTROLLER = {
					random_owned_controlled_state = {
						prioritize = { 605 603 601 }
						limit = {
							is_fully_controlled_by = ROOT
							any_neighbor_state = {
								is_controlled_by = ROOT
							}
							free_building_slots = {
								building = arms_factory
								size > 2
								include_locked = yes
							}
						}

						custom_effect_tooltip = CHI_industrial_evacuations_add_AF
						hidden_effect = {
							add_extra_state_shared_building_slots = af_to_move
							add_building_construction = {
								type = arms_factory
								level = af_to_move
								instant_build = yes
							}
							CONTROLLER = { set_country_flag = CHI_industrial_evacuations_moved_AF }
						}
					}

					#If no states are really safe or all safe are filled
					#Move to random controlled state
					if = {
						limit = {
							NOT = { has_country_flag = CHI_industrial_evacuations_moved_AF }
							NOT = {
								any_state = {
									is_fully_controlled_by = ROOT
									any_neighbor_state = {
										is_controlled_by = ROOT
									}
									free_building_slots = {
										building = arms_factory
										size > 2
										include_locked = yes
									}
								}
							}
						}
						random_owned_controlled_state = {
							prioritize = { 605 603 601 }
							limit = {
								is_controlled_by = ROOT
								free_building_slots = {
									building = arms_factory
									size > 2
									include_locked = yes
								}
							}

							custom_effect_tooltip = CHI_industrial_evacuations_add_AF
							hidden_effect = {
								add_extra_state_shared_building_slots = af_to_move
								add_building_construction = {
									type = arms_factory
									level = af_to_move
									instant_build = yes
								}
							}
						}
					}
					clr_country_flag = CHI_industrial_evacuations_moved_AF


					#Move IC
					random_owned_controlled_state = {
						prioritize = { 605 603 601 }
						limit = {
							is_fully_controlled_by = ROOT
							any_neighbor_state = {
								is_controlled_by = ROOT
							}
							free_building_slots = {
								building = industrial_complex
								size > 2
								include_locked = yes
							}
						}

						custom_effect_tooltip = CHI_industrial_evacuations_add_IC
						hidden_effect = {
							add_extra_state_shared_building_slots = ic_to_move
							add_building_construction = {
								type = industrial_complex
								level = ic_to_move
								instant_build = yes
							}
							CONTROLLER = { set_country_flag = CHI_industrial_evacuations_moved_IC }
						}
					}

					#If no states are really safe or all safe are filled
					#Move to random controlled state
					if = {
						limit = {
							NOT = { has_country_flag = CHI_industrial_evacuations_moved_IC }
							NOT = {
								any_state = {
									is_fully_controlled_by = ROOT
									any_neighbor_state = {
										is_controlled_by = ROOT
									}
									free_building_slots = {
										building = industrial_complex
										size > 2
										include_locked = yes
									}
								}
							}
						}
						random_owned_controlled_state = {
							prioritize = { 605 603 601 }
							limit = {
								is_controlled_by = ROOT
								free_building_slots = {
									building = industrial_complex
									size > 2
									include_locked = yes
								}
							}

							custom_effect_tooltip = CHI_industrial_evacuations_add_IC
							hidden_effect = {
								add_extra_state_shared_building_slots = ic_to_move
								add_building_construction = {
									type = industrial_complex
									level = ic_to_move
									instant_build = yes
								}
							}
						}
					}
					clr_country_flag = CHI_industrial_evacuations_moved_IC
				}
			}
		}

		ai_will_do = {
			factor = 1
		}
	}

	CHI_industrial_evacuations_from_guangzhou = { #592 #guangzhou
		icon = generic_scorched_earth
		available = {
			592 = { #592 #guangzhou
				OR = {
					arms_factory > 0
					industrial_complex > 0
				}
			}
		}
		highlight_states = {
			state = 592
		}

		visible = {
			has_completed_focus = CHI_industrial_evacuations
			592 = { #592 #guangzhou
				is_controlled_by = ROOT
			}
		}

		fire_only_once = yes

		cost = 25

		complete_effect = { #TODO_WTT_CD consider making a reversed mission to hold state for X days before moving
			592 = { #592 #guangzhou
				set_variable = {
					var = af_level
					value = arms_factory_level
				}
				set_variable = {
					var = af_to_move
					value = arms_factory_level
				}
				multiply_variable = {
					var = af_to_move
					value = global.CHI_industrial_evacuations_amount_factor
				}

				set_variable = {
					var = ic_level
					value = industrial_complex_level
				}
				set_variable = {
					var = ic_to_move
					value = industrial_complex_level
				}
				multiply_variable = {
					var = ic_to_move
					value = global.CHI_industrial_evacuations_amount_factor
				}

				custom_effect_tooltip = CHI_industrial_evacuations_remove_AF
				custom_effect_tooltip = CHI_industrial_evacuations_remove_IC
				hidden_effect = {
					remove_building = {
						type = arms_factory
						level = af_level
					}
					remove_building = {
						type = industrial_complex
						level = ic_level
					}
				}

				#Move AF
				CONTROLLER = {
					random_owned_controlled_state = {
						prioritize = { 605 603 601 }
						limit = {
							is_fully_controlled_by = ROOT
							any_neighbor_state = {
								is_controlled_by = ROOT
							}
							free_building_slots = {
								building = arms_factory
								size > 2
								include_locked = yes
							}
						}

						custom_effect_tooltip = CHI_industrial_evacuations_add_AF
						hidden_effect = {
							add_extra_state_shared_building_slots = af_to_move
							add_building_construction = {
								type = arms_factory
								level = af_to_move
								instant_build = yes
							}
							CONTROLLER = { set_country_flag = CHI_industrial_evacuations_moved_AF }
						}
					}

					#If no states are really safe or all safe are filled
					#Move to random controlled state
					if = {
						limit = {
							NOT = { has_country_flag = CHI_industrial_evacuations_moved_AF }
							NOT = {
								any_state = {
									is_fully_controlled_by = ROOT
									any_neighbor_state = {
										is_controlled_by = ROOT
									}
									free_building_slots = {
										building = arms_factory
										size > 2
										include_locked = yes
									}
								}
							}
						}
						random_owned_controlled_state = {
							prioritize = { 605 603 601 }
							limit = {
								is_controlled_by = ROOT
								free_building_slots = {
									building = arms_factory
									size > 2
									include_locked = yes
								}
							}

							custom_effect_tooltip = CHI_industrial_evacuations_add_AF
							hidden_effect = {
								add_extra_state_shared_building_slots = af_to_move
								add_building_construction = {
									type = arms_factory
									level = af_to_move
									instant_build = yes
								}
							}
						}
					}
					clr_country_flag = CHI_industrial_evacuations_moved_AF


					#Move IC
					random_owned_controlled_state = {
						prioritize = { 605 603 601 }
						limit = {
							is_fully_controlled_by = ROOT
							any_neighbor_state = {
								is_controlled_by = ROOT
							}
							free_building_slots = {
								building = industrial_complex
								size > 2
								include_locked = yes
							}
						}

						custom_effect_tooltip = CHI_industrial_evacuations_add_IC
						hidden_effect = {
							add_extra_state_shared_building_slots = ic_to_move
							add_building_construction = {
								type = industrial_complex
								level = ic_to_move
								instant_build = yes
							}
							CONTROLLER = { set_country_flag = CHI_industrial_evacuations_moved_IC }
						}
					}

					#If no states are really safe or all safe are filled
					#Move to random controlled state
					if = {
						limit = {
							NOT = { has_country_flag = CHI_industrial_evacuations_moved_IC }
							NOT = {
								any_state = {
									is_fully_controlled_by = ROOT
									any_neighbor_state = {
										is_controlled_by = ROOT
									}
									free_building_slots = {
										building = industrial_complex
										size > 2
										include_locked = yes
									}
								}
							}
						}
						random_owned_controlled_state = {
							prioritize = { 605 603 601 }
							limit = {
								is_controlled_by = ROOT
								free_building_slots = {
									building = industrial_complex
									size > 2
									include_locked = yes
								}
							}

							custom_effect_tooltip = CHI_industrial_evacuations_add_IC
							hidden_effect = {
								add_extra_state_shared_building_slots = ic_to_move
								add_building_construction = {
									type = industrial_complex
									level = ic_to_move
									instant_build = yes
								}
							}
						}
					}
					clr_country_flag = CHI_industrial_evacuations_moved_IC
				}
			}
		}

		ai_will_do = {
			factor = 1
		}
	}

	CHI_industrial_evacuations_from_guangdong = { #593 #guangdong
		icon = generic_scorched_earth
		available = {
			593 = { #593 #guangdong
				OR = {
					arms_factory > 0
					industrial_complex > 0
				}
			}
		}
		highlight_states = {
			state = 593
		}

		visible = {
			has_completed_focus = CHI_industrial_evacuations
			593 = { #593 #guangdong
				is_controlled_by = ROOT
			}
		}

		fire_only_once = yes

		cost = 25

		complete_effect = { #TODO_WTT_CD consider making a reversed mission to hold state for X days before moving
			593 = { #593 #guangdong
				set_variable = {
					var = af_level
					value = arms_factory_level
				}
				set_variable = {
					var = af_to_move
					value = arms_factory_level
				}
				multiply_variable = {
					var = af_to_move
					value = global.CHI_industrial_evacuations_amount_factor
				}

				set_variable = {
					var = ic_level
					value = industrial_complex_level
				}
				set_variable = {
					var = ic_to_move
					value = industrial_complex_level
				}
				multiply_variable = {
					var = ic_to_move
					value = global.CHI_industrial_evacuations_amount_factor
				}

				custom_effect_tooltip = CHI_industrial_evacuations_remove_AF
				custom_effect_tooltip = CHI_industrial_evacuations_remove_IC
				hidden_effect = {
					remove_building = {
						type = arms_factory
						level = af_level
					}
					remove_building = {
						type = industrial_complex
						level = ic_level
					}
				}

				#Move AF
				CONTROLLER = {
					random_owned_controlled_state = {
						prioritize = { 605 603 601 }
						limit = {
							is_fully_controlled_by = ROOT
							any_neighbor_state = {
								is_controlled_by = ROOT
							}
							free_building_slots = {
								building = arms_factory
								size > 2
								include_locked = yes
							}
						}

						custom_effect_tooltip = CHI_industrial_evacuations_add_AF
						hidden_effect = {
							add_extra_state_shared_building_slots = af_to_move
							add_building_construction = {
								type = arms_factory
								level = af_to_move
								instant_build = yes
							}
							CONTROLLER = { set_country_flag = CHI_industrial_evacuations_moved_AF }
						}
					}

					#If no states are really safe or all safe are filled
					#Move to random controlled state
					if = {
						limit = {
							NOT = { has_country_flag = CHI_industrial_evacuations_moved_AF }
							NOT = {
								any_state = {
									is_fully_controlled_by = ROOT
									any_neighbor_state = {
										is_controlled_by = ROOT
									}
									free_building_slots = {
										building = arms_factory
										size > 2
										include_locked = yes
									}
								}
							}
						}
						random_owned_controlled_state = {
							prioritize = { 605 603 601 }
							limit = {
								is_controlled_by = ROOT
								free_building_slots = {
									building = arms_factory
									size > 2
									include_locked = yes
								}
							}

							custom_effect_tooltip = CHI_industrial_evacuations_add_AF
							hidden_effect = {
								add_extra_state_shared_building_slots = af_to_move
								add_building_construction = {
									type = arms_factory
									level = af_to_move
									instant_build = yes
								}
							}
						}
					}
					clr_country_flag = CHI_industrial_evacuations_moved_AF


					#Move IC
					random_owned_controlled_state = {
						prioritize = { 605 603 601 }
						limit = {
							is_fully_controlled_by = ROOT
							any_neighbor_state = {
								is_controlled_by = ROOT
							}
							free_building_slots = {
								building = industrial_complex
								size > 2
								include_locked = yes
							}
						}

						custom_effect_tooltip = CHI_industrial_evacuations_add_IC
						hidden_effect = {
							add_extra_state_shared_building_slots = ic_to_move
							add_building_construction = {
								type = industrial_complex
								level = ic_to_move
								instant_build = yes
							}
							CONTROLLER = { set_country_flag = CHI_industrial_evacuations_moved_IC }
						}
					}

					#If no states are really safe or all safe are filled
					#Move to random controlled state
					if = {
						limit = {
							NOT = { has_country_flag = CHI_industrial_evacuations_moved_IC }
							NOT = {
								any_state = {
									is_fully_controlled_by = ROOT
									any_neighbor_state = {
										is_controlled_by = ROOT
									}
									free_building_slots = {
										building = industrial_complex
										size > 2
										include_locked = yes
									}
								}
							}
						}
						random_owned_controlled_state = {
							prioritize = { 605 603 601 }
							limit = {
								is_controlled_by = ROOT
								free_building_slots = {
									building = industrial_complex
									size > 2
									include_locked = yes
								}
							}

							custom_effect_tooltip = CHI_industrial_evacuations_add_IC
							hidden_effect = {
								add_extra_state_shared_building_slots = ic_to_move
								add_building_construction = {
									type = industrial_complex
									level = ic_to_move
									instant_build = yes
								}
							}
						}
					}
					clr_country_flag = CHI_industrial_evacuations_moved_IC
				}
			}
		}

		ai_will_do = {
			factor = 1
		}
	}

	CHI_industrial_evacuations_from_nanning = { #594 #nanning
		icon = generic_scorched_earth
		available = {
			594 = { #594 #nanning
				OR = {
					arms_factory > 0
					industrial_complex > 0
				}
			}
		}
		highlight_states = {
			state = 594
		}

		visible = {
			has_completed_focus = CHI_industrial_evacuations
			594 = { #594 #nanning
				is_controlled_by = ROOT
			}
		}

		fire_only_once = yes

		cost = 25

		complete_effect = { #TODO_WTT_CD consider making a reversed mission to hold state for X days before moving
			594 = { #594 #nanning
				set_variable = {
					var = af_level
					value = arms_factory_level
				}
				set_variable = {
					var = af_to_move
					value = arms_factory_level
				}
				multiply_variable = {
					var = af_to_move
					value = global.CHI_industrial_evacuations_amount_factor
				}

				set_variable = {
					var = ic_level
					value = industrial_complex_level
				}
				set_variable = {
					var = ic_to_move
					value = industrial_complex_level
				}
				multiply_variable = {
					var = ic_to_move
					value = global.CHI_industrial_evacuations_amount_factor
				}

				custom_effect_tooltip = CHI_industrial_evacuations_remove_AF
				custom_effect_tooltip = CHI_industrial_evacuations_remove_IC
				hidden_effect = {
					remove_building = {
						type = arms_factory
						level = af_level
					}
					remove_building = {
						type = industrial_complex
						level = ic_level
					}
				}

				#Move AF
				CONTROLLER = {
					random_owned_controlled_state = {
						prioritize = { 605 603 601 }
						limit = {
							is_fully_controlled_by = ROOT
							any_neighbor_state = {
								is_controlled_by = ROOT
							}
							free_building_slots = {
								building = arms_factory
								size > 2
								include_locked = yes
							}
						}

						custom_effect_tooltip = CHI_industrial_evacuations_add_AF
						hidden_effect = {
							add_extra_state_shared_building_slots = af_to_move
							add_building_construction = {
								type = arms_factory
								level = af_to_move
								instant_build = yes
							}
							CONTROLLER = { set_country_flag = CHI_industrial_evacuations_moved_AF }
						}
					}

					#If no states are really safe or all safe are filled
					#Move to random controlled state
					if = {
						limit = {
							NOT = { has_country_flag = CHI_industrial_evacuations_moved_AF }
							NOT = {
								any_state = {
									is_fully_controlled_by = ROOT
									any_neighbor_state = {
										is_controlled_by = ROOT
									}
									free_building_slots = {
										building = arms_factory
										size > 2
										include_locked = yes
									}
								}
							}
						}
						random_owned_controlled_state = {
							prioritize = { 605 603 601 }
							limit = {
								is_controlled_by = ROOT
								free_building_slots = {
									building = arms_factory
									size > 2
									include_locked = yes
								}
							}

							custom_effect_tooltip = CHI_industrial_evacuations_add_AF
							hidden_effect = {
								add_extra_state_shared_building_slots = af_to_move
								add_building_construction = {
									type = arms_factory
									level = af_to_move
									instant_build = yes
								}
							}
						}
					}
					clr_country_flag = CHI_industrial_evacuations_moved_AF


					#Move IC
					random_owned_controlled_state = {
						prioritize = { 605 603 601 }
						limit = {
							is_fully_controlled_by = ROOT
							any_neighbor_state = {
								is_controlled_by = ROOT
							}
							free_building_slots = {
								building = industrial_complex
								size > 2
								include_locked = yes
							}
						}

						custom_effect_tooltip = CHI_industrial_evacuations_add_IC
						hidden_effect = {
							add_extra_state_shared_building_slots = ic_to_move
							add_building_construction = {
								type = industrial_complex
								level = ic_to_move
								instant_build = yes
							}
							CONTROLLER = { set_country_flag = CHI_industrial_evacuations_moved_IC }
						}
					}

					#If no states are really safe or all safe are filled
					#Move to random controlled state
					if = {
						limit = {
							NOT = { has_country_flag = CHI_industrial_evacuations_moved_IC }
							NOT = {
								any_state = {
									is_fully_controlled_by = ROOT
									any_neighbor_state = {
										is_controlled_by = ROOT
									}
									free_building_slots = {
										building = industrial_complex
										size > 2
										include_locked = yes
									}
								}
							}
						}
						random_owned_controlled_state = {
							prioritize = { 605 603 601 }
							limit = {
								is_controlled_by = ROOT
								free_building_slots = {
									building = industrial_complex
									size > 2
									include_locked = yes
								}
							}

							custom_effect_tooltip = CHI_industrial_evacuations_add_IC
							hidden_effect = {
								add_extra_state_shared_building_slots = ic_to_move
								add_building_construction = {
									type = industrial_complex
									level = ic_to_move
									instant_build = yes
								}
							}
						}
					}
					clr_country_flag = CHI_industrial_evacuations_moved_IC
				}
			}
		}

		ai_will_do = {
			factor = 1
		}
	}

	CHI_industrial_evacuations_from_fujian = { #595 #fujian
		icon = generic_scorched_earth
		available = {
			595 = { #595 #fujian
				OR = {
					arms_factory > 0
					industrial_complex > 0
				}
			}
		}
		highlight_states = {
			state = 595
		}

		visible = {
			has_completed_focus = CHI_industrial_evacuations
			595 = { #595 #fujian
				is_controlled_by = ROOT
			}
		}

		fire_only_once = yes

		cost = 25

		complete_effect = { #TODO_WTT_CD consider making a reversed mission to hold state for X days before moving
			595 = { #595 #fujian
				set_variable = {
					var = af_level
					value = arms_factory_level
				}
				set_variable = {
					var = af_to_move
					value = arms_factory_level
				}
				multiply_variable = {
					var = af_to_move
					value = global.CHI_industrial_evacuations_amount_factor
				}

				set_variable = {
					var = ic_level
					value = industrial_complex_level
				}
				set_variable = {
					var = ic_to_move
					value = industrial_complex_level
				}
				multiply_variable = {
					var = ic_to_move
					value = global.CHI_industrial_evacuations_amount_factor
				}

				custom_effect_tooltip = CHI_industrial_evacuations_remove_AF
				custom_effect_tooltip = CHI_industrial_evacuations_remove_IC
				hidden_effect = {
					remove_building = {
						type = arms_factory
						level = af_level
					}
					remove_building = {
						type = industrial_complex
						level = ic_level
					}
				}

				#Move AF
				CONTROLLER = {
					random_owned_controlled_state = {
						prioritize = { 605 603 601 }
						limit = {
							is_fully_controlled_by = ROOT
							any_neighbor_state = {
								is_controlled_by = ROOT
							}
							free_building_slots = {
								building = arms_factory
								size > 2
								include_locked = yes
							}
						}

						custom_effect_tooltip = CHI_industrial_evacuations_add_AF
						hidden_effect = {
							add_extra_state_shared_building_slots = af_to_move
							add_building_construction = {
								type = arms_factory
								level = af_to_move
								instant_build = yes
							}
							CONTROLLER = { set_country_flag = CHI_industrial_evacuations_moved_AF }
						}
					}

					#If no states are really safe or all safe are filled
					#Move to random controlled state
					if = {
						limit = {
							NOT = { has_country_flag = CHI_industrial_evacuations_moved_AF }
							NOT = {
								any_state = {
									is_fully_controlled_by = ROOT
									any_neighbor_state = {
										is_controlled_by = ROOT
									}
									free_building_slots = {
										building = arms_factory
										size > 2
										include_locked = yes
									}
								}
							}
						}
						random_owned_controlled_state = {
							prioritize = { 605 603 601 }
							limit = {
								is_controlled_by = ROOT
								free_building_slots = {
									building = arms_factory
									size > 2
									include_locked = yes
								}
							}

							custom_effect_tooltip = CHI_industrial_evacuations_add_AF
							hidden_effect = {
								add_extra_state_shared_building_slots = af_to_move
								add_building_construction = {
									type = arms_factory
									level = af_to_move
									instant_build = yes
								}
							}
						}
					}
					clr_country_flag = CHI_industrial_evacuations_moved_AF


					#Move IC
					random_owned_controlled_state = {
						prioritize = { 605 603 601 }
						limit = {
							is_fully_controlled_by = ROOT
							any_neighbor_state = {
								is_controlled_by = ROOT
							}
							free_building_slots = {
								building = industrial_complex
								size > 2
								include_locked = yes
							}
						}

						custom_effect_tooltip = CHI_industrial_evacuations_add_IC
						hidden_effect = {
							add_extra_state_shared_building_slots = ic_to_move
							add_building_construction = {
								type = industrial_complex
								level = ic_to_move
								instant_build = yes
							}
							CONTROLLER = { set_country_flag = CHI_industrial_evacuations_moved_IC }
						}
					}

					#If no states are really safe or all safe are filled
					#Move to random controlled state
					if = {
						limit = {
							NOT = { has_country_flag = CHI_industrial_evacuations_moved_IC }
							NOT = {
								any_state = {
									is_fully_controlled_by = ROOT
									any_neighbor_state = {
										is_controlled_by = ROOT
									}
									free_building_slots = {
										building = industrial_complex
										size > 2
										include_locked = yes
									}
								}
							}
						}
						random_owned_controlled_state = {
							prioritize = { 605 603 601 }
							limit = {
								is_controlled_by = ROOT
								free_building_slots = {
									building = industrial_complex
									size > 2
									include_locked = yes
								}
							}

							custom_effect_tooltip = CHI_industrial_evacuations_add_IC
							hidden_effect = {
								add_extra_state_shared_building_slots = ic_to_move
								add_building_construction = {
									type = industrial_complex
									level = ic_to_move
									instant_build = yes
								}
							}
						}
					}
					clr_country_flag = CHI_industrial_evacuations_moved_IC
				}
			}
		}

		ai_will_do = {
			factor = 1
		}
	}

	CHI_industrial_evacuations_from_zhejiang = { #596 #zhejiang
		icon = generic_scorched_earth
		available = {
			596 = { #596 #zhejiang
				OR = {
					arms_factory > 0
					industrial_complex > 0
				}
			}
		}
		highlight_states = {
			state = 596
		}

		visible = {
			has_completed_focus = CHI_industrial_evacuations
			596 = { #596 #zhejiang
				is_controlled_by = ROOT
			}
		}

		fire_only_once = yes

		cost = 25

		complete_effect = { #TODO_WTT_CD consider making a reversed mission to hold state for X days before moving
			596 = { #596 #zhejiang
				set_variable = {
					var = af_level
					value = arms_factory_level
				}
				set_variable = {
					var = af_to_move
					value = arms_factory_level
				}
				multiply_variable = {
					var = af_to_move
					value = global.CHI_industrial_evacuations_amount_factor
				}

				set_variable = {
					var = ic_level
					value = industrial_complex_level
				}
				set_variable = {
					var = ic_to_move
					value = industrial_complex_level
				}
				multiply_variable = {
					var = ic_to_move
					value = global.CHI_industrial_evacuations_amount_factor
				}

				custom_effect_tooltip = CHI_industrial_evacuations_remove_AF
				custom_effect_tooltip = CHI_industrial_evacuations_remove_IC
				hidden_effect = {
					remove_building = {
						type = arms_factory
						level = af_level
					}
					remove_building = {
						type = industrial_complex
						level = ic_level
					}
				}

				#Move AF
				CONTROLLER = {
					random_owned_controlled_state = {
						prioritize = { 605 603 601 }
						limit = {
							is_fully_controlled_by = ROOT
							any_neighbor_state = {
								is_controlled_by = ROOT
							}
							free_building_slots = {
								building = arms_factory
								size > 2
								include_locked = yes
							}
						}

						custom_effect_tooltip = CHI_industrial_evacuations_add_AF
						hidden_effect = {
							add_extra_state_shared_building_slots = af_to_move
							add_building_construction = {
								type = arms_factory
								level = af_to_move
								instant_build = yes
							}
							CONTROLLER = { set_country_flag = CHI_industrial_evacuations_moved_AF }
						}
					}

					#If no states are really safe or all safe are filled
					#Move to random controlled state
					if = {
						limit = {
							NOT = { has_country_flag = CHI_industrial_evacuations_moved_AF }
							NOT = {
								any_state = {
									is_fully_controlled_by = ROOT
									any_neighbor_state = {
										is_controlled_by = ROOT
									}
									free_building_slots = {
										building = arms_factory
										size > 2
										include_locked = yes
									}
								}
							}
						}
						random_owned_controlled_state = {
							prioritize = { 605 603 601 }
							limit = {
								is_controlled_by = ROOT
								free_building_slots = {
									building = arms_factory
									size > 2
									include_locked = yes
								}
							}

							custom_effect_tooltip = CHI_industrial_evacuations_add_AF
							hidden_effect = {
								add_extra_state_shared_building_slots = af_to_move
								add_building_construction = {
									type = arms_factory
									level = af_to_move
									instant_build = yes
								}
							}
						}
					}
					clr_country_flag = CHI_industrial_evacuations_moved_AF


					#Move IC
					random_owned_controlled_state = {
						prioritize = { 605 603 601 }
						limit = {
							is_fully_controlled_by = ROOT
							any_neighbor_state = {
								is_controlled_by = ROOT
							}
							free_building_slots = {
								building = industrial_complex
								size > 2
								include_locked = yes
							}
						}

						custom_effect_tooltip = CHI_industrial_evacuations_add_IC
						hidden_effect = {
							add_extra_state_shared_building_slots = ic_to_move
							add_building_construction = {
								type = industrial_complex
								level = ic_to_move
								instant_build = yes
							}
							CONTROLLER = { set_country_flag = CHI_industrial_evacuations_moved_IC }
						}
					}

					#If no states are really safe or all safe are filled
					#Move to random controlled state
					if = {
						limit = {
							NOT = { has_country_flag = CHI_industrial_evacuations_moved_IC }
							NOT = {
								any_state = {
									is_fully_controlled_by = ROOT
									any_neighbor_state = {
										is_controlled_by = ROOT
									}
									free_building_slots = {
										building = industrial_complex
										size > 2
										include_locked = yes
									}
								}
							}
						}
						random_owned_controlled_state = {
							prioritize = { 605 603 601 }
							limit = {
								is_controlled_by = ROOT
								free_building_slots = {
									building = industrial_complex
									size > 2
									include_locked = yes
								}
							}

							custom_effect_tooltip = CHI_industrial_evacuations_add_IC
							hidden_effect = {
								add_extra_state_shared_building_slots = ic_to_move
								add_building_construction = {
									type = industrial_complex
									level = ic_to_move
									instant_build = yes
								}
							}
						}
					}
					clr_country_flag = CHI_industrial_evacuations_moved_IC
				}
			}
		}

		ai_will_do = {
			factor = 1
		}
	}

	CHI_industrial_evacuations_from_shandong = { #597 #shandong
		icon = generic_scorched_earth
		available = {
			597 = { #597 #shandong
				OR = {
					arms_factory > 0
					industrial_complex > 0
				}
			}
		}
		highlight_states = {
			state = 597
		}

		visible = {
			has_completed_focus = CHI_industrial_evacuations
			597 = { #597 #shandong
				is_controlled_by = ROOT
			}
		}

		fire_only_once = yes

		cost = 25

		complete_effect = { #TODO_WTT_CD consider making a reversed mission to hold state for X days before moving
			597 = { #597 #shandong
				set_variable = {
					var = af_level
					value = arms_factory_level
				}
				set_variable = {
					var = af_to_move
					value = arms_factory_level
				}
				multiply_variable = {
					var = af_to_move
					value = global.CHI_industrial_evacuations_amount_factor
				}

				set_variable = {
					var = ic_level
					value = industrial_complex_level
				}
				set_variable = {
					var = ic_to_move
					value = industrial_complex_level
				}
				multiply_variable = {
					var = ic_to_move
					value = global.CHI_industrial_evacuations_amount_factor
				}

				custom_effect_tooltip = CHI_industrial_evacuations_remove_AF
				custom_effect_tooltip = CHI_industrial_evacuations_remove_IC
				hidden_effect = {
					remove_building = {
						type = arms_factory
						level = af_level
					}
					remove_building = {
						type = industrial_complex
						level = ic_level
					}
				}

				#Move AF
				CONTROLLER = {
					random_owned_controlled_state = {
						prioritize = { 605 603 601 }
						limit = {
							is_fully_controlled_by = ROOT
							any_neighbor_state = {
								is_controlled_by = ROOT
							}
							free_building_slots = {
								building = arms_factory
								size > 2
								include_locked = yes
							}
						}

						custom_effect_tooltip = CHI_industrial_evacuations_add_AF
						hidden_effect = {
							add_extra_state_shared_building_slots = af_to_move
							add_building_construction = {
								type = arms_factory
								level = af_to_move
								instant_build = yes
							}
							CONTROLLER = { set_country_flag = CHI_industrial_evacuations_moved_AF }
						}
					}

					#If no states are really safe or all safe are filled
					#Move to random controlled state
					if = {
						limit = {
							NOT = { has_country_flag = CHI_industrial_evacuations_moved_AF }
							NOT = {
								any_state = {
									is_fully_controlled_by = ROOT
									any_neighbor_state = {
										is_controlled_by = ROOT
									}
									free_building_slots = {
										building = arms_factory
										size > 2
										include_locked = yes
									}
								}
							}
						}
						random_owned_controlled_state = {
							prioritize = { 605 603 601 }
							limit = {
								is_controlled_by = ROOT
								free_building_slots = {
									building = arms_factory
									size > 2
									include_locked = yes
								}
							}

							custom_effect_tooltip = CHI_industrial_evacuations_add_AF
							hidden_effect = {
								add_extra_state_shared_building_slots = af_to_move
								add_building_construction = {
									type = arms_factory
									level = af_to_move
									instant_build = yes
								}
							}
						}
					}
					clr_country_flag = CHI_industrial_evacuations_moved_AF


					#Move IC
					random_owned_controlled_state = {
						prioritize = { 605 603 601 }
						limit = {
							is_fully_controlled_by = ROOT
							any_neighbor_state = {
								is_controlled_by = ROOT
							}
							free_building_slots = {
								building = industrial_complex
								size > 2
								include_locked = yes
							}
						}

						custom_effect_tooltip = CHI_industrial_evacuations_add_IC
						hidden_effect = {
							add_extra_state_shared_building_slots = ic_to_move
							add_building_construction = {
								type = industrial_complex
								level = ic_to_move
								instant_build = yes
							}
							CONTROLLER = { set_country_flag = CHI_industrial_evacuations_moved_IC }
						}
					}

					#If no states are really safe or all safe are filled
					#Move to random controlled state
					if = {
						limit = {
							NOT = { has_country_flag = CHI_industrial_evacuations_moved_IC }
							NOT = {
								any_state = {
									is_fully_controlled_by = ROOT
									any_neighbor_state = {
										is_controlled_by = ROOT
									}
									free_building_slots = {
										building = industrial_complex
										size > 2
										include_locked = yes
									}
								}
							}
						}
						random_owned_controlled_state = {
							prioritize = { 605 603 601 }
							limit = {
								is_controlled_by = ROOT
								free_building_slots = {
									building = industrial_complex
									size > 2
									include_locked = yes
								}
							}

							custom_effect_tooltip = CHI_industrial_evacuations_add_IC
							hidden_effect = {
								add_extra_state_shared_building_slots = ic_to_move
								add_building_construction = {
									type = industrial_complex
									level = ic_to_move
									instant_build = yes
								}
							}
						}
					}
					clr_country_flag = CHI_industrial_evacuations_moved_IC
				}
			}
		}

		ai_will_do = {
			factor = 1
		}
	}

	CHI_industrial_evacuations_from_jiangsu = { #598 #jiangsu
		icon = generic_scorched_earth
		available = {
			598 = { #598 #jiangsu
				OR = {
					arms_factory > 0
					industrial_complex > 0
				}
			}
		}
		highlight_states = {
			state = 598
		}
		visible = {
			has_completed_focus = CHI_industrial_evacuations
			598 = { #598 #jiangsu
				is_controlled_by = ROOT
			}
		}

		fire_only_once = yes

		cost = 25

		complete_effect = { #TODO_WTT_CD consider making a reversed mission to hold state for X days before moving
			598 = { #598 #jiangsu
				set_variable = {
					var = af_level
					value = arms_factory_level
				}
				set_variable = {
					var = af_to_move
					value = arms_factory_level
				}
				multiply_variable = {
					var = af_to_move
					value = global.CHI_industrial_evacuations_amount_factor
				}

				set_variable = {
					var = ic_level
					value = industrial_complex_level
				}
				set_variable = {
					var = ic_to_move
					value = industrial_complex_level
				}
				multiply_variable = {
					var = ic_to_move
					value = global.CHI_industrial_evacuations_amount_factor
				}

				custom_effect_tooltip = CHI_industrial_evacuations_remove_AF
				custom_effect_tooltip = CHI_industrial_evacuations_remove_IC
				hidden_effect = {
					remove_building = {
						type = arms_factory
						level = af_level
					}
					remove_building = {
						type = industrial_complex
						level = ic_level
					}
				}

				#Move AF
				CONTROLLER = {
					random_owned_controlled_state = {
						prioritize = { 605 603 601 }
						limit = {
							is_fully_controlled_by = ROOT
							any_neighbor_state = {
								is_controlled_by = ROOT
							}
							free_building_slots = {
								building = arms_factory
								size > 2
								include_locked = yes
							}
						}

						custom_effect_tooltip = CHI_industrial_evacuations_add_AF
						hidden_effect = {
							add_extra_state_shared_building_slots = af_to_move
							add_building_construction = {
								type = arms_factory
								level = af_to_move
								instant_build = yes
							}
							CONTROLLER = { set_country_flag = CHI_industrial_evacuations_moved_AF }
						}
					}

					#If no states are really safe or all safe are filled
					#Move to random controlled state
					if = {
						limit = {
							NOT = { has_country_flag = CHI_industrial_evacuations_moved_AF }
							NOT = {
								any_state = {
									is_fully_controlled_by = ROOT
									any_neighbor_state = {
										is_controlled_by = ROOT
									}
									free_building_slots = {
										building = arms_factory
										size > 2
										include_locked = yes
									}
								}
							}
						}
						random_owned_controlled_state = {
							prioritize = { 605 603 601 }
							limit = {
								is_controlled_by = ROOT
								free_building_slots = {
									building = arms_factory
									size > 2
									include_locked = yes
								}
							}

							custom_effect_tooltip = CHI_industrial_evacuations_add_AF
							hidden_effect = {
								add_extra_state_shared_building_slots = af_to_move
								add_building_construction = {
									type = arms_factory
									level = af_to_move
									instant_build = yes
								}
							}
						}
					}
					clr_country_flag = CHI_industrial_evacuations_moved_AF


					#Move IC
					random_owned_controlled_state = {
						prioritize = { 605 603 601 }
						limit = {
							is_fully_controlled_by = ROOT
							any_neighbor_state = {
								is_controlled_by = ROOT
							}
							free_building_slots = {
								building = industrial_complex
								size > 2
								include_locked = yes
							}
						}

						custom_effect_tooltip = CHI_industrial_evacuations_add_IC
						hidden_effect = {
							add_extra_state_shared_building_slots = ic_to_move
							add_building_construction = {
								type = industrial_complex
								level = ic_to_move
								instant_build = yes
							}
							CONTROLLER = { set_country_flag = CHI_industrial_evacuations_moved_IC }
						}
					}

					#If no states are really safe or all safe are filled
					#Move to random controlled state
					if = {
						limit = {
							NOT = { has_country_flag = CHI_industrial_evacuations_moved_IC }
							NOT = {
								any_state = {
									is_fully_controlled_by = ROOT
									any_neighbor_state = {
										is_controlled_by = ROOT
									}
									free_building_slots = {
										building = industrial_complex
										size > 2
										include_locked = yes
									}
								}
							}
						}
						random_owned_controlled_state = {
							prioritize = { 605 603 601 }
							limit = {
								is_controlled_by = ROOT
								free_building_slots = {
									building = industrial_complex
									size > 2
									include_locked = yes
								}
							}

							custom_effect_tooltip = CHI_industrial_evacuations_add_IC
							hidden_effect = {
								add_extra_state_shared_building_slots = ic_to_move
								add_building_construction = {
									type = industrial_complex
									level = ic_to_move
									instant_build = yes
								}
							}
						}
					}
					clr_country_flag = CHI_industrial_evacuations_moved_IC
				}
			}
		}

		ai_will_do = {
			factor = 1
		}
	}

	CHI_industrial_evacuations_from_guangxi = { #599 #guangxi
		icon = generic_scorched_earth
		available = {
			599 = { #599 #guangxi
				OR = {
					arms_factory > 0
					industrial_complex > 0
				}
			}
		}
		highlight_states = {
			state = 599
		}

		visible = {
			has_completed_focus = CHI_industrial_evacuations
			599 = { #599 #guangxi
				is_controlled_by = ROOT
			}
		}

		fire_only_once = yes

		cost = 25

		complete_effect = { #TODO_WTT_CD consider making a reversed mission to hold state for X days before moving
			599 = { #599 #guangxi
				set_variable = {
					var = af_level
					value = arms_factory_level
				}
				set_variable = {
					var = af_to_move
					value = arms_factory_level
				}
				multiply_variable = {
					var = af_to_move
					value = global.CHI_industrial_evacuations_amount_factor
				}

				set_variable = {
					var = ic_level
					value = industrial_complex_level
				}
				set_variable = {
					var = ic_to_move
					value = industrial_complex_level
				}
				multiply_variable = {
					var = ic_to_move
					value = global.CHI_industrial_evacuations_amount_factor
				}

				custom_effect_tooltip = CHI_industrial_evacuations_remove_AF
				custom_effect_tooltip = CHI_industrial_evacuations_remove_IC
				hidden_effect = {
					remove_building = {
						type = arms_factory
						level = af_level
					}
					remove_building = {
						type = industrial_complex
						level = ic_level
					}
				}

				#Move AF
				CONTROLLER = {
					random_owned_controlled_state = {
						prioritize = { 605 603 601 }
						limit = {
							is_fully_controlled_by = ROOT
							any_neighbor_state = {
								is_controlled_by = ROOT
							}
							free_building_slots = {
								building = arms_factory
								size > 2
								include_locked = yes
							}
						}

						custom_effect_tooltip = CHI_industrial_evacuations_add_AF
						hidden_effect = {
							add_extra_state_shared_building_slots = af_to_move
							add_building_construction = {
								type = arms_factory
								level = af_to_move
								instant_build = yes
							}
							CONTROLLER = { set_country_flag = CHI_industrial_evacuations_moved_AF }
						}
					}

					#If no states are really safe or all safe are filled
					#Move to random controlled state
					if = {
						limit = {
							NOT = { has_country_flag = CHI_industrial_evacuations_moved_AF }
							NOT = {
								any_state = {
									is_fully_controlled_by = ROOT
									any_neighbor_state = {
										is_controlled_by = ROOT
									}
									free_building_slots = {
										building = arms_factory
										size > 2
										include_locked = yes
									}
								}
							}
						}
						random_owned_controlled_state = {
							prioritize = { 605 603 601 }
							limit = {
								is_controlled_by = ROOT
								free_building_slots = {
									building = arms_factory
									size > 2
									include_locked = yes
								}
							}

							custom_effect_tooltip = CHI_industrial_evacuations_add_AF
							hidden_effect = {
								add_extra_state_shared_building_slots = af_to_move
								add_building_construction = {
									type = arms_factory
									level = af_to_move
									instant_build = yes
								}
							}
						}
					}
					clr_country_flag = CHI_industrial_evacuations_moved_AF


					#Move IC
					random_owned_controlled_state = {
						prioritize = { 605 603 601 }
						limit = {
							is_fully_controlled_by = ROOT
							any_neighbor_state = {
								is_controlled_by = ROOT
							}
							free_building_slots = {
								building = industrial_complex
								size > 2
								include_locked = yes
							}
						}

						custom_effect_tooltip = CHI_industrial_evacuations_add_IC
						hidden_effect = {
							add_extra_state_shared_building_slots = ic_to_move
							add_building_construction = {
								type = industrial_complex
								level = ic_to_move
								instant_build = yes
							}
							CONTROLLER = { set_country_flag = CHI_industrial_evacuations_moved_IC }
						}
					}

					#If no states are really safe or all safe are filled
					#Move to random controlled state
					if = {
						limit = {
							NOT = { has_country_flag = CHI_industrial_evacuations_moved_IC }
							NOT = {
								any_state = {
									is_fully_controlled_by = ROOT
									any_neighbor_state = {
										is_controlled_by = ROOT
									}
									free_building_slots = {
										building = industrial_complex
										size > 2
										include_locked = yes
									}
								}
							}
						}
						random_owned_controlled_state = {
							prioritize = { 605 603 601 }
							limit = {
								is_controlled_by = ROOT
								free_building_slots = {
									building = industrial_complex
									size > 2
									include_locked = yes
								}
							}

							custom_effect_tooltip = CHI_industrial_evacuations_add_IC
							hidden_effect = {
								add_extra_state_shared_building_slots = ic_to_move
								add_building_construction = {
									type = industrial_complex
									level = ic_to_move
									instant_build = yes
								}
							}
						}
					}
					clr_country_flag = CHI_industrial_evacuations_moved_IC
				}
			}
		}

		ai_will_do = {
			factor = 1
		}
	}

	CHI_industrial_evacuations_from_jiangxi = { #600 #jiangxi
		icon = generic_scorched_earth
		available = {
			600 = { #600 #jiangxi
				OR = {
					arms_factory > 0
					industrial_complex > 0
				}
			}
		}
		highlight_states = {
			state = 600
		}

		visible = {
			has_completed_focus = CHI_industrial_evacuations
			600 = { #600 #jiangxi
				is_controlled_by = ROOT
			}
		}

		fire_only_once = yes

		cost = 25

		complete_effect = { #TODO_WTT_CD consider making a reversed mission to hold state for X days before moving
			600 = { #600 #jiangxi
				set_variable = {
					var = af_level
					value = arms_factory_level
				}
				set_variable = {
					var = af_to_move
					value = arms_factory_level
				}
				multiply_variable = {
					var = af_to_move
					value = global.CHI_industrial_evacuations_amount_factor
				}

				set_variable = {
					var = ic_level
					value = industrial_complex_level
				}
				set_variable = {
					var = ic_to_move
					value = industrial_complex_level
				}
				multiply_variable = {
					var = ic_to_move
					value = global.CHI_industrial_evacuations_amount_factor
				}

				custom_effect_tooltip = CHI_industrial_evacuations_remove_AF
				custom_effect_tooltip = CHI_industrial_evacuations_remove_IC
				hidden_effect = {
					remove_building = {
						type = arms_factory
						level = af_level
					}
					remove_building = {
						type = industrial_complex
						level = ic_level
					}
				}

				#Move AF
				CONTROLLER = {
					random_owned_controlled_state = {
						prioritize = { 605 603 601 }
						limit = {
							is_fully_controlled_by = ROOT
							any_neighbor_state = {
								is_controlled_by = ROOT
							}
							free_building_slots = {
								building = arms_factory
								size > 2
								include_locked = yes
							}
						}

						custom_effect_tooltip = CHI_industrial_evacuations_add_AF
						hidden_effect = {
							add_extra_state_shared_building_slots = af_to_move
							add_building_construction = {
								type = arms_factory
								level = af_to_move
								instant_build = yes
							}
							CONTROLLER = { set_country_flag = CHI_industrial_evacuations_moved_AF }
						}
					}

					#If no states are really safe or all safe are filled
					#Move to random controlled state
					if = {
						limit = {
							NOT = { has_country_flag = CHI_industrial_evacuations_moved_AF }
							NOT = {
								any_state = {
									is_fully_controlled_by = ROOT
									any_neighbor_state = {
										is_controlled_by = ROOT
									}
									free_building_slots = {
										building = arms_factory
										size > 2
										include_locked = yes
									}
								}
							}
						}
						random_owned_controlled_state = {
							prioritize = { 605 603 601 }
							limit = {
								is_controlled_by = ROOT
								free_building_slots = {
									building = arms_factory
									size > 2
									include_locked = yes
								}
							}

							custom_effect_tooltip = CHI_industrial_evacuations_add_AF
							hidden_effect = {
								add_extra_state_shared_building_slots = af_to_move
								add_building_construction = {
									type = arms_factory
									level = af_to_move
									instant_build = yes
								}
							}
						}
					}
					clr_country_flag = CHI_industrial_evacuations_moved_AF


					#Move IC
					random_owned_controlled_state = {
						prioritize = { 605 603 601 }
						limit = {
							is_fully_controlled_by = ROOT
							any_neighbor_state = {
								is_controlled_by = ROOT
							}
							free_building_slots = {
								building = industrial_complex
								size > 2
								include_locked = yes
							}
						}

						custom_effect_tooltip = CHI_industrial_evacuations_add_IC
						hidden_effect = {
							add_extra_state_shared_building_slots = ic_to_move
							add_building_construction = {
								type = industrial_complex
								level = ic_to_move
								instant_build = yes
							}
							CONTROLLER = { set_country_flag = CHI_industrial_evacuations_moved_IC }
						}
					}

					#If no states are really safe or all safe are filled
					#Move to random controlled state
					if = {
						limit = {
							NOT = { has_country_flag = CHI_industrial_evacuations_moved_IC }
							NOT = {
								any_state = {
									is_fully_controlled_by = ROOT
									any_neighbor_state = {
										is_controlled_by = ROOT
									}
									free_building_slots = {
										building = industrial_complex
										size > 2
										include_locked = yes
									}
								}
							}
						}
						random_owned_controlled_state = {
							prioritize = { 605 603 601 }
							limit = {
								is_controlled_by = ROOT
								free_building_slots = {
									building = industrial_complex
									size > 2
									include_locked = yes
								}
							}

							custom_effect_tooltip = CHI_industrial_evacuations_add_IC
							hidden_effect = {
								add_extra_state_shared_building_slots = ic_to_move
								add_building_construction = {
									type = industrial_complex
									level = ic_to_move
									instant_build = yes
								}
							}
						}
					}
					clr_country_flag = CHI_industrial_evacuations_moved_IC
				}
			}
		}

		ai_will_do = {
			factor = 1
		}
	}

	CHI_industrial_evacuations_from_hunan = { #602 #hunan
		icon = generic_scorched_earth
		available = {
			602 = { #602 #hunan
				OR = {
					arms_factory > 0
					industrial_complex > 0
				}
			}
		}
		highlight_states = {
			state = 602
		}
		visible = {
			has_completed_focus = CHI_industrial_evacuations
			602 = { #602 #hunan
				is_controlled_by = ROOT
			}
		}

		fire_only_once = yes

		cost = 25

		complete_effect = { #TODO_WTT_CD consider making a reversed mission to hold state for X days before moving
			602 = { #602 #hunan
				set_variable = {
					var = af_level
					value = arms_factory_level
				}
				set_variable = {
					var = af_to_move
					value = arms_factory_level
				}
				multiply_variable = {
					var = af_to_move
					value = global.CHI_industrial_evacuations_amount_factor
				}

				set_variable = {
					var = ic_level
					value = industrial_complex_level
				}
				set_variable = {
					var = ic_to_move
					value = industrial_complex_level
				}
				multiply_variable = {
					var = ic_to_move
					value = global.CHI_industrial_evacuations_amount_factor
				}

				custom_effect_tooltip = CHI_industrial_evacuations_remove_AF
				custom_effect_tooltip = CHI_industrial_evacuations_remove_IC
				hidden_effect = {
					remove_building = {
						type = arms_factory
						level = af_level
					}
					remove_building = {
						type = industrial_complex
						level = ic_level
					}
				}

				#Move AF
				CONTROLLER = {
					random_owned_controlled_state = {
						prioritize = { 605 603 601 }
						limit = {
							is_fully_controlled_by = ROOT
							any_neighbor_state = {
								is_controlled_by = ROOT
							}
							free_building_slots = {
								building = arms_factory
								size > 2
								include_locked = yes
							}
						}

						custom_effect_tooltip = CHI_industrial_evacuations_add_AF
						hidden_effect = {
							add_extra_state_shared_building_slots = af_to_move
							add_building_construction = {
								type = arms_factory
								level = af_to_move
								instant_build = yes
							}
							CONTROLLER = { set_country_flag = CHI_industrial_evacuations_moved_AF }
						}
					}

					#If no states are really safe or all safe are filled
					#Move to random controlled state
					if = {
						limit = {
							NOT = { has_country_flag = CHI_industrial_evacuations_moved_AF }
							NOT = {
								any_state = {
									is_fully_controlled_by = ROOT
									any_neighbor_state = {
										is_controlled_by = ROOT
									}
									free_building_slots = {
										building = arms_factory
										size > 2
										include_locked = yes
									}
								}
							}
						}
						random_owned_controlled_state = {
							prioritize = { 605 603 601 }
							limit = {
								is_controlled_by = ROOT
								free_building_slots = {
									building = arms_factory
									size > 2
									include_locked = yes
								}
							}

							custom_effect_tooltip = CHI_industrial_evacuations_add_AF
							hidden_effect = {
								add_extra_state_shared_building_slots = af_to_move
								add_building_construction = {
									type = arms_factory
									level = af_to_move
									instant_build = yes
								}
							}
						}
					}
					clr_country_flag = CHI_industrial_evacuations_moved_AF


					#Move IC
					random_owned_controlled_state = {
						prioritize = { 605 603 601 }
						limit = {
							is_fully_controlled_by = ROOT
							any_neighbor_state = {
								is_controlled_by = ROOT
							}
							free_building_slots = {
								building = industrial_complex
								size > 2
								include_locked = yes
							}
						}

						custom_effect_tooltip = CHI_industrial_evacuations_add_IC
						hidden_effect = {
							add_extra_state_shared_building_slots = ic_to_move
							add_building_construction = {
								type = industrial_complex
								level = ic_to_move
								instant_build = yes
							}
							CONTROLLER = { set_country_flag = CHI_industrial_evacuations_moved_IC }
						}
					}

					#If no states are really safe or all safe are filled
					#Move to random controlled state
					if = {
						limit = {
							NOT = { has_country_flag = CHI_industrial_evacuations_moved_IC }
							NOT = {
								any_state = {
									is_fully_controlled_by = ROOT
									any_neighbor_state = {
										is_controlled_by = ROOT
									}
									free_building_slots = {
										building = industrial_complex
										size > 2
										include_locked = yes
									}
								}
							}
						}
						random_owned_controlled_state = {
							prioritize = { 605 603 601 }
							limit = {
								is_controlled_by = ROOT
								free_building_slots = {
									building = industrial_complex
									size > 2
									include_locked = yes
								}
							}

							custom_effect_tooltip = CHI_industrial_evacuations_add_IC
							hidden_effect = {
								add_extra_state_shared_building_slots = ic_to_move
								add_building_construction = {
									type = industrial_complex
									level = ic_to_move
									instant_build = yes
								}
							}
						}
					}
					clr_country_flag = CHI_industrial_evacuations_moved_IC
				}
			}
		}

		ai_will_do = {
			factor = 1
		}
	}

	CHI_industrial_evacuations_from_anhui = { #606 #anhui
		icon = generic_scorched_earth
		available = {
			606 = { #606 #anhui
				OR = {
					arms_factory > 0
					industrial_complex > 0
				}
			}
		}

		visible = {
			has_completed_focus = CHI_industrial_evacuations
			606 = { #606 #anhui
				is_controlled_by = ROOT
			}
		}
		highlight_states = {
			state = 606
		}

		fire_only_once = yes

		cost = 25

		complete_effect = { #TODO_WTT_CD consider making a reversed mission to hold state for X days before moving
			606 = { #606 #anhui
				set_variable = {
					var = af_level
					value = arms_factory_level
				}
				set_variable = {
					var = af_to_move
					value = arms_factory_level
				}
				multiply_variable = {
					var = af_to_move
					value = global.CHI_industrial_evacuations_amount_factor
				}

				set_variable = {
					var = ic_level
					value = industrial_complex_level
				}
				set_variable = {
					var = ic_to_move
					value = industrial_complex_level
				}
				multiply_variable = {
					var = ic_to_move
					value = global.CHI_industrial_evacuations_amount_factor
				}

				custom_effect_tooltip = CHI_industrial_evacuations_remove_AF
				custom_effect_tooltip = CHI_industrial_evacuations_remove_IC
				hidden_effect = {
					remove_building = {
						type = arms_factory
						level = af_level
					}
					remove_building = {
						type = industrial_complex
						level = ic_level
					}
				}

				#Move AF
				CONTROLLER = {
					random_owned_controlled_state = {
						prioritize = { 605 603 601 }
						limit = {
							is_fully_controlled_by = ROOT
							any_neighbor_state = {
								is_controlled_by = ROOT
							}
							free_building_slots = {
								building = arms_factory
								size > 2
								include_locked = yes
							}
						}

						custom_effect_tooltip = CHI_industrial_evacuations_add_AF
						hidden_effect = {
							add_extra_state_shared_building_slots = af_to_move
							add_building_construction = {
								type = arms_factory
								level = af_to_move
								instant_build = yes
							}
							CONTROLLER = { set_country_flag = CHI_industrial_evacuations_moved_AF }
						}
					}

					#If no states are really safe or all safe are filled
					#Move to random controlled state
					if = {
						limit = {
							NOT = { has_country_flag = CHI_industrial_evacuations_moved_AF }
							NOT = {
								any_state = {
									is_fully_controlled_by = ROOT
									any_neighbor_state = {
										is_controlled_by = ROOT
									}
									free_building_slots = {
										building = arms_factory
										size > 2
										include_locked = yes
									}
								}
							}
						}
						random_owned_controlled_state = {
							prioritize = { 605 603 601 }
							limit = {
								is_controlled_by = ROOT
								free_building_slots = {
									building = arms_factory
									size > 2
									include_locked = yes
								}
							}

							custom_effect_tooltip = CHI_industrial_evacuations_add_AF
							hidden_effect = {
								add_extra_state_shared_building_slots = af_to_move
								add_building_construction = {
									type = arms_factory
									level = af_to_move
									instant_build = yes
								}
							}
						}
					}
					clr_country_flag = CHI_industrial_evacuations_moved_AF


					#Move IC
					random_owned_controlled_state = {
						prioritize = { 605 603 601 }
						limit = {
							is_fully_controlled_by = ROOT
							any_neighbor_state = {
								is_controlled_by = ROOT
							}
							free_building_slots = {
								building = industrial_complex
								size > 2
								include_locked = yes
							}
						}

						custom_effect_tooltip = CHI_industrial_evacuations_add_IC
						hidden_effect = {
							add_extra_state_shared_building_slots = ic_to_move
							add_building_construction = {
								type = industrial_complex
								level = ic_to_move
								instant_build = yes
							}
							CONTROLLER = { set_country_flag = CHI_industrial_evacuations_moved_IC }
						}
					}

					#If no states are really safe or all safe are filled
					#Move to random controlled state
					if = {
						limit = {
							NOT = { has_country_flag = CHI_industrial_evacuations_moved_IC }
							NOT = {
								any_state = {
									is_fully_controlled_by = ROOT
									any_neighbor_state = {
										is_controlled_by = ROOT
									}
									free_building_slots = {
										building = industrial_complex
										size > 2
										include_locked = yes
									}
								}
							}
						}
						random_owned_controlled_state = {
							prioritize = { 605 603 601 }
							limit = {
								is_controlled_by = ROOT
								free_building_slots = {
									building = industrial_complex
									size > 2
									include_locked = yes
								}
							}

							custom_effect_tooltip = CHI_industrial_evacuations_add_IC
							hidden_effect = {
								add_extra_state_shared_building_slots = ic_to_move
								add_building_construction = {
									type = industrial_complex
									level = ic_to_move
									instant_build = yes
								}
							}
						}
					}
					clr_country_flag = CHI_industrial_evacuations_moved_IC
				}
			}
		}

		ai_will_do = {
			factor = 1
		}
	}

	CHI_industrial_evacuations_from_henan = { #607 #henan
		icon = generic_scorched_earth
		available = {
			607 = { #607 #henan
				OR = {
					arms_factory > 0
					industrial_complex > 0
				}
			}
		}
		highlight_states = {
			state = 607
		}
		visible = {
			has_completed_focus = CHI_industrial_evacuations
			607 = { #607 #henan
				is_controlled_by = ROOT
			}
		}

		fire_only_once = yes

		cost = 25

		complete_effect = { #TODO_WTT_CD consider making a reversed mission to hold state for X days before moving
			607 = { #607 #henan
				set_variable = {
					var = af_level
					value = arms_factory_level
				}
				set_variable = {
					var = af_to_move
					value = arms_factory_level
				}
				multiply_variable = {
					var = af_to_move
					value = global.CHI_industrial_evacuations_amount_factor
				}

				set_variable = {
					var = ic_level
					value = industrial_complex_level
				}
				set_variable = {
					var = ic_to_move
					value = industrial_complex_level
				}
				multiply_variable = {
					var = ic_to_move
					value = global.CHI_industrial_evacuations_amount_factor
				}

				custom_effect_tooltip = CHI_industrial_evacuations_remove_AF
				custom_effect_tooltip = CHI_industrial_evacuations_remove_IC
				hidden_effect = {
					remove_building = {
						type = arms_factory
						level = af_level
					}
					remove_building = {
						type = industrial_complex
						level = ic_level
					}
				}

				#Move AF
				CONTROLLER = {
					random_owned_controlled_state = {
						prioritize = { 605 603 601 }
						limit = {
							is_fully_controlled_by = ROOT
							any_neighbor_state = {
								is_controlled_by = ROOT
							}
							free_building_slots = {
								building = arms_factory
								size > 2
								include_locked = yes
							}
						}

						custom_effect_tooltip = CHI_industrial_evacuations_add_AF
						hidden_effect = {
							add_extra_state_shared_building_slots = af_to_move
							add_building_construction = {
								type = arms_factory
								level = af_to_move
								instant_build = yes
							}
							CONTROLLER = { set_country_flag = CHI_industrial_evacuations_moved_AF }
						}
					}

					#If no states are really safe or all safe are filled
					#Move to random controlled state
					if = {
						limit = {
							NOT = { has_country_flag = CHI_industrial_evacuations_moved_AF }
							NOT = {
								any_state = {
									is_fully_controlled_by = ROOT
									any_neighbor_state = {
										is_controlled_by = ROOT
									}
									free_building_slots = {
										building = arms_factory
										size > 2
										include_locked = yes
									}
								}
							}
						}
						random_owned_controlled_state = {
							prioritize = { 605 603 601 }
							limit = {
								is_controlled_by = ROOT
								free_building_slots = {
									building = arms_factory
									size > 2
									include_locked = yes
								}
							}

							custom_effect_tooltip = CHI_industrial_evacuations_add_AF
							hidden_effect = {
								add_extra_state_shared_building_slots = af_to_move
								add_building_construction = {
									type = arms_factory
									level = af_to_move
									instant_build = yes
								}
							}
						}
					}
					clr_country_flag = CHI_industrial_evacuations_moved_AF


					#Move IC
					random_owned_controlled_state = {
						prioritize = { 605 603 601 }
						limit = {
							is_fully_controlled_by = ROOT
							any_neighbor_state = {
								is_controlled_by = ROOT
							}
							free_building_slots = {
								building = industrial_complex
								size > 2
								include_locked = yes
							}
						}

						custom_effect_tooltip = CHI_industrial_evacuations_add_IC
						hidden_effect = {
							add_extra_state_shared_building_slots = ic_to_move
							add_building_construction = {
								type = industrial_complex
								level = ic_to_move
								instant_build = yes
							}
							CONTROLLER = { set_country_flag = CHI_industrial_evacuations_moved_IC }
						}
					}

					#If no states are really safe or all safe are filled
					#Move to random controlled state
					if = {
						limit = {
							NOT = { has_country_flag = CHI_industrial_evacuations_moved_IC }
							NOT = {
								any_state = {
									is_fully_controlled_by = ROOT
									any_neighbor_state = {
										is_controlled_by = ROOT
									}
									free_building_slots = {
										building = industrial_complex
										size > 2
										include_locked = yes
									}
								}
							}
						}
						random_owned_controlled_state = {
							prioritize = { 605 603 601 }
							limit = {
								is_controlled_by = ROOT
								free_building_slots = {
									building = industrial_complex
									size > 2
									include_locked = yes
								}
							}

							custom_effect_tooltip = CHI_industrial_evacuations_add_IC
							hidden_effect = {
								add_extra_state_shared_building_slots = ic_to_move
								add_building_construction = {
									type = industrial_complex
									level = ic_to_move
									instant_build = yes
								}
							}
						}
					}
					clr_country_flag = CHI_industrial_evacuations_moved_IC
				}
			}
		}

		ai_will_do = {
			factor = 1
		}
	}

	CHI_industrial_evacuations_from_beijing = { #608 #beijing
		icon = generic_scorched_earth
		available = {
			608 = { #608 #beijing
				OR = {
					arms_factory > 0
					industrial_complex > 0
				}
			}
		}
		highlight_states = {
			state = 608
		}

		visible = {
			has_completed_focus = CHI_industrial_evacuations
			608 = { #608 #beijing
				is_controlled_by = ROOT
			}
		}

		fire_only_once = yes

		cost = 25

		complete_effect = { #TODO_WTT_CD consider making a reversed mission to hold state for X days before moving
			608 = { #608 #beijing
				set_variable = {
					var = af_level
					value = arms_factory_level
				}
				set_variable = {
					var = af_to_move
					value = arms_factory_level
				}
				multiply_variable = {
					var = af_to_move
					value = global.CHI_industrial_evacuations_amount_factor
				}

				set_variable = {
					var = ic_level
					value = industrial_complex_level
				}
				set_variable = {
					var = ic_to_move
					value = industrial_complex_level
				}
				multiply_variable = {
					var = ic_to_move
					value = global.CHI_industrial_evacuations_amount_factor
				}

				custom_effect_tooltip = CHI_industrial_evacuations_remove_AF
				custom_effect_tooltip = CHI_industrial_evacuations_remove_IC
				hidden_effect = {
					remove_building = {
						type = arms_factory
						level = af_level
					}
					remove_building = {
						type = industrial_complex
						level = ic_level
					}
				}

				#Move AF
				CONTROLLER = {
					random_owned_controlled_state = {
						prioritize = { 605 603 601 }
						limit = {
							is_fully_controlled_by = ROOT
							any_neighbor_state = {
								is_controlled_by = ROOT
							}
							free_building_slots = {
								building = arms_factory
								size > 2
								include_locked = yes
							}
						}

						custom_effect_tooltip = CHI_industrial_evacuations_add_AF
						hidden_effect = {
							add_extra_state_shared_building_slots = af_to_move
							add_building_construction = {
								type = arms_factory
								level = af_to_move
								instant_build = yes
							}
							CONTROLLER = { set_country_flag = CHI_industrial_evacuations_moved_AF }
						}
					}

					#If no states are really safe or all safe are filled
					#Move to random controlled state
					if = {
						limit = {
							NOT = { has_country_flag = CHI_industrial_evacuations_moved_AF }
							NOT = {
								any_state = {
									is_fully_controlled_by = ROOT
									any_neighbor_state = {
										is_controlled_by = ROOT
									}
									free_building_slots = {
										building = arms_factory
										size > 2
										include_locked = yes
									}
								}
							}
						}
						random_owned_controlled_state = {
							prioritize = { 605 603 601 }
							limit = {
								is_controlled_by = ROOT
								free_building_slots = {
									building = arms_factory
									size > 2
									include_locked = yes
								}
							}

							custom_effect_tooltip = CHI_industrial_evacuations_add_AF
							hidden_effect = {
								add_extra_state_shared_building_slots = af_to_move
								add_building_construction = {
									type = arms_factory
									level = af_to_move
									instant_build = yes
								}
							}
						}
					}
					clr_country_flag = CHI_industrial_evacuations_moved_AF


					#Move IC
					random_owned_controlled_state = {
						prioritize = { 605 603 601 }
						limit = {
							is_fully_controlled_by = ROOT
							any_neighbor_state = {
								is_controlled_by = ROOT
							}
							free_building_slots = {
								building = industrial_complex
								size > 2
								include_locked = yes
							}
						}

						custom_effect_tooltip = CHI_industrial_evacuations_add_IC
						hidden_effect = {
							add_extra_state_shared_building_slots = ic_to_move
							add_building_construction = {
								type = industrial_complex
								level = ic_to_move
								instant_build = yes
							}
							CONTROLLER = { set_country_flag = CHI_industrial_evacuations_moved_IC }
						}
					}

					#If no states are really safe or all safe are filled
					#Move to random controlled state
					if = {
						limit = {
							NOT = { has_country_flag = CHI_industrial_evacuations_moved_IC }
							NOT = {
								any_state = {
									is_fully_controlled_by = ROOT
									any_neighbor_state = {
										is_controlled_by = ROOT
									}
									free_building_slots = {
										building = industrial_complex
										size > 2
										include_locked = yes
									}
								}
							}
						}
						random_owned_controlled_state = {
							prioritize = { 605 603 601 }
							limit = {
								is_controlled_by = ROOT
								free_building_slots = {
									building = industrial_complex
									size > 2
									include_locked = yes
								}
							}

							custom_effect_tooltip = CHI_industrial_evacuations_add_IC
							hidden_effect = {
								add_extra_state_shared_building_slots = ic_to_move
								add_building_construction = {
									type = industrial_complex
									level = ic_to_move
									instant_build = yes
								}
							}
						}
					}
					clr_country_flag = CHI_industrial_evacuations_moved_IC
				}
			}
		}

		ai_will_do = {
			factor = 1
		}
	}

	CHI_industrial_evacuations_from_shanghai = { #613 #shanghai
		icon = generic_scorched_earth
		available = {
			613 = { #613 #shanghai
				OR = {
					arms_factory > 0
					industrial_complex > 0
				}
			}
		}
		highlight_states = {
			state = 613
		}
		visible = {
			has_completed_focus = CHI_industrial_evacuations
			613 = { #613 #shanghai
				is_controlled_by = ROOT
			}
		}

		fire_only_once = yes

		cost = 25

		complete_effect = { #TODO_WTT_CD consider making a reversed mission to hold state for X days before moving
			613 = { #613 #shanghai
				set_variable = {
					var = af_level
					value = arms_factory_level
				}
				set_variable = {
					var = af_to_move
					value = arms_factory_level
				}
				multiply_variable = {
					var = af_to_move
					value = global.CHI_industrial_evacuations_amount_factor
				}

				set_variable = {
					var = ic_level
					value = industrial_complex_level
				}
				set_variable = {
					var = ic_to_move
					value = industrial_complex_level
				}
				multiply_variable = {
					var = ic_to_move
					value = global.CHI_industrial_evacuations_amount_factor
				}

				custom_effect_tooltip = CHI_industrial_evacuations_remove_AF
				custom_effect_tooltip = CHI_industrial_evacuations_remove_IC
				hidden_effect = {
					remove_building = {
						type = arms_factory
						level = af_level
					}
					remove_building = {
						type = industrial_complex
						level = ic_level
					}
				}

				#Move AF
				CONTROLLER = {
					random_owned_controlled_state = {
						prioritize = { 605 603 601 }
						limit = {
							is_fully_controlled_by = ROOT
							any_neighbor_state = {
								is_controlled_by = ROOT
							}
							free_building_slots = {
								building = arms_factory
								size > 2
								include_locked = yes
							}
						}

						custom_effect_tooltip = CHI_industrial_evacuations_add_AF
						hidden_effect = {
							add_extra_state_shared_building_slots = af_to_move
							add_building_construction = {
								type = arms_factory
								level = af_to_move
								instant_build = yes
							}
							CONTROLLER = { set_country_flag = CHI_industrial_evacuations_moved_AF }
						}
					}

					#If no states are really safe or all safe are filled
					#Move to random controlled state
					if = {
						limit = {
							NOT = { has_country_flag = CHI_industrial_evacuations_moved_AF }
							NOT = {
								any_state = {
									is_fully_controlled_by = ROOT
									any_neighbor_state = {
										is_controlled_by = ROOT
									}
									free_building_slots = {
										building = arms_factory
										size > 2
										include_locked = yes
									}
								}
							}
						}
						random_owned_controlled_state = {
							prioritize = { 605 603 601 }
							limit = {
								is_controlled_by = ROOT
								free_building_slots = {
									building = arms_factory
									size > 2
									include_locked = yes
								}
							}

							custom_effect_tooltip = CHI_industrial_evacuations_add_AF
							hidden_effect = {
								add_extra_state_shared_building_slots = af_to_move
								add_building_construction = {
									type = arms_factory
									level = af_to_move
									instant_build = yes
								}
							}
						}
					}
					clr_country_flag = CHI_industrial_evacuations_moved_AF


					#Move IC
					random_owned_controlled_state = {
						prioritize = { 605 603 601 }
						limit = {
							is_fully_controlled_by = ROOT
							any_neighbor_state = {
								is_controlled_by = ROOT
							}
							free_building_slots = {
								building = industrial_complex
								size > 2
								include_locked = yes
							}
						}

						custom_effect_tooltip = CHI_industrial_evacuations_add_IC
						hidden_effect = {
							add_extra_state_shared_building_slots = ic_to_move
							add_building_construction = {
								type = industrial_complex
								level = ic_to_move
								instant_build = yes
							}
							CONTROLLER = { set_country_flag = CHI_industrial_evacuations_moved_IC }
						}
					}

					#If no states are really safe or all safe are filled
					#Move to random controlled state
					if = {
						limit = {
							NOT = { has_country_flag = CHI_industrial_evacuations_moved_IC }
							NOT = {
								any_state = {
									is_fully_controlled_by = ROOT
									any_neighbor_state = {
										is_controlled_by = ROOT
									}
									free_building_slots = {
										building = industrial_complex
										size > 2
										include_locked = yes
									}
								}
							}
						}
						random_owned_controlled_state = {
							prioritize = { 605 603 601 }
							limit = {
								is_controlled_by = ROOT
								free_building_slots = {
									building = industrial_complex
									size > 2
									include_locked = yes
								}
							}

							custom_effect_tooltip = CHI_industrial_evacuations_add_IC
							hidden_effect = {
								add_extra_state_shared_building_slots = ic_to_move
								add_building_construction = {
									type = industrial_complex
									level = ic_to_move
									instant_build = yes
								}
							}
						}
					}
					clr_country_flag = CHI_industrial_evacuations_moved_IC
				}
			}
		}

		ai_will_do = {
			factor = 1
		}
	}

	CHI_industrial_evacuations_from_hebei = { #614 #hebei
		icon = generic_scorched_earth
		available = {
			614 = { #614 #hebei
				OR = {
					arms_factory > 0
					industrial_complex > 0
				}
			}
		}
		highlight_states = {
			state = 614
		}
		visible = {
			has_completed_focus = CHI_industrial_evacuations
			614 = { #614 #hebei
				is_controlled_by = ROOT
			}
		}

		fire_only_once = yes

		cost = 25

		complete_effect = { #TODO_WTT_CD consider making a reversed mission to hold state for X days before moving
			614 = { #614 #hebei
				set_variable = {
					var = af_level
					value = arms_factory_level
				}
				set_variable = {
					var = af_to_move
					value = arms_factory_level
				}
				multiply_variable = {
					var = af_to_move
					value = global.CHI_industrial_evacuations_amount_factor
				}

				set_variable = {
					var = ic_level
					value = industrial_complex_level
				}
				set_variable = {
					var = ic_to_move
					value = industrial_complex_level
				}
				multiply_variable = {
					var = ic_to_move
					value = global.CHI_industrial_evacuations_amount_factor
				}

				custom_effect_tooltip = CHI_industrial_evacuations_remove_AF
				custom_effect_tooltip = CHI_industrial_evacuations_remove_IC
				hidden_effect = {
					remove_building = {
						type = arms_factory
						level = af_level
					}
					remove_building = {
						type = industrial_complex
						level = ic_level
					}
				}

				#Move AF
				CONTROLLER = {
					random_owned_controlled_state = {
						prioritize = { 605 603 601 }
						limit = {
							is_fully_controlled_by = ROOT
							any_neighbor_state = {
								is_controlled_by = ROOT
							}
							free_building_slots = {
								building = arms_factory
								size > 2
								include_locked = yes
							}
						}

						custom_effect_tooltip = CHI_industrial_evacuations_add_AF
						hidden_effect = {
							add_extra_state_shared_building_slots = af_to_move
							add_building_construction = {
								type = arms_factory
								level = af_to_move
								instant_build = yes
							}
							CONTROLLER = { set_country_flag = CHI_industrial_evacuations_moved_AF }
						}
					}

					#If no states are really safe or all safe are filled
					#Move to random controlled state
					if = {
						limit = {
							NOT = { has_country_flag = CHI_industrial_evacuations_moved_AF }
							NOT = {
								any_state = {
									is_fully_controlled_by = ROOT
									any_neighbor_state = {
										is_controlled_by = ROOT
									}
									free_building_slots = {
										building = arms_factory
										size > 2
										include_locked = yes
									}
								}
							}
						}
						random_owned_controlled_state = {
							prioritize = { 605 603 601 }
							limit = {
								is_controlled_by = ROOT
								free_building_slots = {
									building = arms_factory
									size > 2
									include_locked = yes
								}
							}

							custom_effect_tooltip = CHI_industrial_evacuations_add_AF
							hidden_effect = {
								add_extra_state_shared_building_slots = af_to_move
								add_building_construction = {
									type = arms_factory
									level = af_to_move
									instant_build = yes
								}
							}
						}
					}
					clr_country_flag = CHI_industrial_evacuations_moved_AF


					#Move IC
					random_owned_controlled_state = {
						prioritize = { 605 603 601 }
						limit = {
							is_fully_controlled_by = ROOT
							any_neighbor_state = {
								is_controlled_by = ROOT
							}
							free_building_slots = {
								building = industrial_complex
								size > 2
								include_locked = yes
							}
						}

						custom_effect_tooltip = CHI_industrial_evacuations_add_IC
						hidden_effect = {
							add_extra_state_shared_building_slots = ic_to_move
							add_building_construction = {
								type = industrial_complex
								level = ic_to_move
								instant_build = yes
							}
							CONTROLLER = { set_country_flag = CHI_industrial_evacuations_moved_IC }
						}
					}

					#If no states are really safe or all safe are filled
					#Move to random controlled state
					if = {
						limit = {
							NOT = { has_country_flag = CHI_industrial_evacuations_moved_IC }
							NOT = {
								any_state = {
									is_fully_controlled_by = ROOT
									any_neighbor_state = {
										is_controlled_by = ROOT
									}
									free_building_slots = {
										building = industrial_complex
										size > 2
										include_locked = yes
									}
								}
							}
						}
						random_owned_controlled_state = {
							prioritize = { 605 603 601 }
							limit = {
								is_controlled_by = ROOT
								free_building_slots = {
									building = industrial_complex
									size > 2
									include_locked = yes
								}
							}

							custom_effect_tooltip = CHI_industrial_evacuations_add_IC
							hidden_effect = {
								add_extra_state_shared_building_slots = ic_to_move
								add_building_construction = {
									type = industrial_complex
									level = ic_to_move
									instant_build = yes
								}
							}
						}
					}
					clr_country_flag = CHI_industrial_evacuations_moved_IC
				}
			}
		}

		ai_will_do = {
			factor = 1
		}
	}

	CHI_industrial_evacuations_from_ningxia = { #616 #ningxia
		icon = generic_scorched_earth
		available = {
			616 = { #616 #ningxia
				OR = {
					arms_factory > 0
					industrial_complex > 0
				}
			}
		}
		highlight_states = {
			state = 616
		}
		visible = {
			has_completed_focus = CHI_industrial_evacuations
			616 = { #616 #ningxia
				is_controlled_by = ROOT
			}
		}

		fire_only_once = yes

		cost = 25

		complete_effect = { #TODO_WTT_CD consider making a reversed mission to hold state for X days before moving
			616 = { #616 #ningxia
				set_variable = {
					var = af_level
					value = arms_factory_level
				}
				set_variable = {
					var = af_to_move
					value = arms_factory_level
				}
				multiply_variable = {
					var = af_to_move
					value = global.CHI_industrial_evacuations_amount_factor
				}

				set_variable = {
					var = ic_level
					value = industrial_complex_level
				}
				set_variable = {
					var = ic_to_move
					value = industrial_complex_level
				}
				multiply_variable = {
					var = ic_to_move
					value = global.CHI_industrial_evacuations_amount_factor
				}

				custom_effect_tooltip = CHI_industrial_evacuations_remove_AF
				custom_effect_tooltip = CHI_industrial_evacuations_remove_IC
				hidden_effect = {
					remove_building = {
						type = arms_factory
						level = af_level
					}
					remove_building = {
						type = industrial_complex
						level = ic_level
					}
				}

				#Move AF
				CONTROLLER = {
					random_owned_controlled_state = {
						prioritize = { 605 603 601 }
						limit = {
							is_fully_controlled_by = ROOT
							any_neighbor_state = {
								is_controlled_by = ROOT
							}
							free_building_slots = {
								building = arms_factory
								size > 2
								include_locked = yes
							}
						}

						custom_effect_tooltip = CHI_industrial_evacuations_add_AF
						hidden_effect = {
							add_extra_state_shared_building_slots = af_to_move
							add_building_construction = {
								type = arms_factory
								level = af_to_move
								instant_build = yes
							}
							CONTROLLER = { set_country_flag = CHI_industrial_evacuations_moved_AF }
						}
					}

					#If no states are really safe or all safe are filled
					#Move to random controlled state
					if = {
						limit = {
							NOT = { has_country_flag = CHI_industrial_evacuations_moved_AF }
							NOT = {
								any_state = {
									is_fully_controlled_by = ROOT
									any_neighbor_state = {
										is_controlled_by = ROOT
									}
									free_building_slots = {
										building = arms_factory
										size > 2
										include_locked = yes
									}
								}
							}
						}
						random_owned_controlled_state = {
							prioritize = { 605 603 601 }
							limit = {
								is_controlled_by = ROOT
								free_building_slots = {
									building = arms_factory
									size > 2
									include_locked = yes
								}
							}

							custom_effect_tooltip = CHI_industrial_evacuations_add_AF
							hidden_effect = {
								add_extra_state_shared_building_slots = af_to_move
								add_building_construction = {
									type = arms_factory
									level = af_to_move
									instant_build = yes
								}
							}
						}
					}
					clr_country_flag = CHI_industrial_evacuations_moved_AF


					#Move IC
					random_owned_controlled_state = {
						prioritize = { 605 603 601 }
						limit = {
							is_fully_controlled_by = ROOT
							any_neighbor_state = {
								is_controlled_by = ROOT
							}
							free_building_slots = {
								building = industrial_complex
								size > 2
								include_locked = yes
							}
						}

						custom_effect_tooltip = CHI_industrial_evacuations_add_IC
						hidden_effect = {
							add_extra_state_shared_building_slots = ic_to_move
							add_building_construction = {
								type = industrial_complex
								level = ic_to_move
								instant_build = yes
							}
							CONTROLLER = { set_country_flag = CHI_industrial_evacuations_moved_IC }
						}
					}

					#If no states are really safe or all safe are filled
					#Move to random controlled state
					if = {
						limit = {
							NOT = { has_country_flag = CHI_industrial_evacuations_moved_IC }
							NOT = {
								any_state = {
									is_fully_controlled_by = ROOT
									any_neighbor_state = {
										is_controlled_by = ROOT
									}
									free_building_slots = {
										building = industrial_complex
										size > 2
										include_locked = yes
									}
								}
							}
						}
						random_owned_controlled_state = {
							prioritize = { 605 603 601 }
							limit = {
								is_controlled_by = ROOT
								free_building_slots = {
									building = industrial_complex
									size > 2
									include_locked = yes
								}
							}

							custom_effect_tooltip = CHI_industrial_evacuations_add_IC
							hidden_effect = {
								add_extra_state_shared_building_slots = ic_to_move
								add_building_construction = {
									type = industrial_complex
									level = ic_to_move
									instant_build = yes
								}
							}
						}
					}
					clr_country_flag = CHI_industrial_evacuations_moved_IC
				}
			}
		}

		ai_will_do = {
			factor = 1
		}
	}

	CHI_industrial_evacuations_from_hubei = { #620 #hubei
		icon = generic_scorched_earth
		available = {
			620 = { #620 #hubei
				OR = {
					arms_factory > 0
					industrial_complex > 0
				}
			}
		}
		highlight_states = {
			state = 620
		}
		visible = {
			has_completed_focus = CHI_industrial_evacuations
			620 = { #620 #hubei
				is_controlled_by = ROOT
			}
		}

		fire_only_once = yes

		cost = 25

		complete_effect = { #TODO_WTT_CD consider making a reversed mission to hold state for X days before moving
			620 = { #620 #hubei
				set_variable = {
					var = af_level
					value = arms_factory_level
				}
				set_variable = {
					var = af_to_move
					value = arms_factory_level
				}
				multiply_variable = {
					var = af_to_move
					value = global.CHI_industrial_evacuations_amount_factor
				}

				set_variable = {
					var = ic_level
					value = industrial_complex_level
				}
				set_variable = {
					var = ic_to_move
					value = industrial_complex_level
				}
				multiply_variable = {
					var = ic_to_move
					value = global.CHI_industrial_evacuations_amount_factor
				}

				custom_effect_tooltip = CHI_industrial_evacuations_remove_AF
				custom_effect_tooltip = CHI_industrial_evacuations_remove_IC
				hidden_effect = {
					remove_building = {
						type = arms_factory
						level = af_level
					}
					remove_building = {
						type = industrial_complex
						level = ic_level
					}
				}

				#Move AF
				CONTROLLER = {
					random_owned_controlled_state = {
						prioritize = { 605 603 601 }
						limit = {
							is_fully_controlled_by = ROOT
							any_neighbor_state = {
								is_controlled_by = ROOT
							}
							free_building_slots = {
								building = arms_factory
								size > 2
								include_locked = yes
							}
						}

						custom_effect_tooltip = CHI_industrial_evacuations_add_AF
						hidden_effect = {
							add_extra_state_shared_building_slots = af_to_move
							add_building_construction = {
								type = arms_factory
								level = af_to_move
								instant_build = yes
							}
							CONTROLLER = { set_country_flag = CHI_industrial_evacuations_moved_AF }
						}
					}

					#If no states are really safe or all safe are filled
					#Move to random controlled state
					if = {
						limit = {
							NOT = { has_country_flag = CHI_industrial_evacuations_moved_AF }
							NOT = {
								any_state = {
									is_fully_controlled_by = ROOT
									any_neighbor_state = {
										is_controlled_by = ROOT
									}
									free_building_slots = {
										building = arms_factory
										size > 2
										include_locked = yes
									}
								}
							}
						}
						random_owned_controlled_state = {
							prioritize = { 605 603 601 }
							limit = {
								is_controlled_by = ROOT
								free_building_slots = {
									building = arms_factory
									size > 2
									include_locked = yes
								}
							}

							custom_effect_tooltip = CHI_industrial_evacuations_add_AF
							hidden_effect = {
								add_extra_state_shared_building_slots = af_to_move
								add_building_construction = {
									type = arms_factory
									level = af_to_move
									instant_build = yes
								}
							}
						}
					}
					clr_country_flag = CHI_industrial_evacuations_moved_AF


					#Move IC
					random_owned_controlled_state = {
						prioritize = { 605 603 601 }
						limit = {
							is_fully_controlled_by = ROOT
							any_neighbor_state = {
								is_controlled_by = ROOT
							}
							free_building_slots = {
								building = industrial_complex
								size > 2
								include_locked = yes
							}
						}

						custom_effect_tooltip = CHI_industrial_evacuations_add_IC
						hidden_effect = {
							add_extra_state_shared_building_slots = ic_to_move
							add_building_construction = {
								type = industrial_complex
								level = ic_to_move
								instant_build = yes
							}
							CONTROLLER = { set_country_flag = CHI_industrial_evacuations_moved_IC }
						}
					}

					#If no states are really safe or all safe are filled
					#Move to random controlled state
					if = {
						limit = {
							NOT = { has_country_flag = CHI_industrial_evacuations_moved_IC }
							NOT = {
								any_state = {
									is_fully_controlled_by = ROOT
									any_neighbor_state = {
										is_controlled_by = ROOT
									}
									free_building_slots = {
										building = industrial_complex
										size > 2
										include_locked = yes
									}
								}
							}
						}
						random_owned_controlled_state = {
							prioritize = { 605 603 601 }
							limit = {
								is_controlled_by = ROOT
								free_building_slots = {
									building = industrial_complex
									size > 2
									include_locked = yes
								}
							}

							custom_effect_tooltip = CHI_industrial_evacuations_add_IC
							hidden_effect = {
								add_extra_state_shared_building_slots = ic_to_move
								add_building_construction = {
									type = industrial_complex
									level = ic_to_move
									instant_build = yes
								}
							}
						}
					}
					clr_country_flag = CHI_industrial_evacuations_moved_IC
				}
			}
		}

		ai_will_do = {
			factor = 1
		}
	}

	CHI_industrial_evacuations_from_qingdao = { #743 #qingdao
		icon = generic_scorched_earth
		available = {
			743 = { #743 #qingdao
				OR = {
					arms_factory > 0
					industrial_complex > 0
				}
			}
		}
		highlight_states = {
			state = 743
		}
		visible = {
			has_completed_focus = CHI_industrial_evacuations
			743 = { #743 #qingdao
				is_controlled_by = ROOT
			}
		}

		fire_only_once = yes

		cost = 25

		complete_effect = { #TODO_WTT_CD consider making a reversed mission to hold state for X days before moving
			743 = { #743 #qingdao
				set_variable = {
					var = af_level
					value = arms_factory_level
				}
				set_variable = {
					var = af_to_move
					value = arms_factory_level
				}
				multiply_variable = {
					var = af_to_move
					value = global.CHI_industrial_evacuations_amount_factor
				}

				set_variable = {
					var = ic_level
					value = industrial_complex_level
				}
				set_variable = {
					var = ic_to_move
					value = industrial_complex_level
				}
				multiply_variable = {
					var = ic_to_move
					value = global.CHI_industrial_evacuations_amount_factor
				}

				custom_effect_tooltip = CHI_industrial_evacuations_remove_AF
				custom_effect_tooltip = CHI_industrial_evacuations_remove_IC
				hidden_effect = {
					remove_building = {
						type = arms_factory
						level = af_level
					}
					remove_building = {
						type = industrial_complex
						level = ic_level
					}
				}

				#Move AF
				CONTROLLER = {
					random_owned_controlled_state = {
						prioritize = { 605 603 601 }
						limit = {
							is_fully_controlled_by = ROOT
							any_neighbor_state = {
								is_controlled_by = ROOT
							}
							free_building_slots = {
								building = arms_factory
								size > 2
								include_locked = yes
							}
						}

						custom_effect_tooltip = CHI_industrial_evacuations_add_AF
						hidden_effect = {
							add_extra_state_shared_building_slots = af_to_move
							add_building_construction = {
								type = arms_factory
								level = af_to_move
								instant_build = yes
							}
							CONTROLLER = { set_country_flag = CHI_industrial_evacuations_moved_AF }
						}
					}

					#If no states are really safe or all safe are filled
					#Move to random controlled state
					if = {
						limit = {
							NOT = { has_country_flag = CHI_industrial_evacuations_moved_AF }
							NOT = {
								any_state = {
									is_fully_controlled_by = ROOT
									any_neighbor_state = {
										is_controlled_by = ROOT
									}
									free_building_slots = {
										building = arms_factory
										size > 2
										include_locked = yes
									}
								}
							}
						}
						random_owned_controlled_state = {
							prioritize = { 605 603 601 }
							limit = {
								is_controlled_by = ROOT
								free_building_slots = {
									building = arms_factory
									size > 2
									include_locked = yes
								}
							}

							custom_effect_tooltip = CHI_industrial_evacuations_add_AF
							hidden_effect = {
								add_extra_state_shared_building_slots = af_to_move
								add_building_construction = {
									type = arms_factory
									level = af_to_move
									instant_build = yes
								}
							}
						}
					}
					clr_country_flag = CHI_industrial_evacuations_moved_AF


					#Move IC
					random_owned_controlled_state = {
						prioritize = { 605 603 601 }
						limit = {
							is_fully_controlled_by = ROOT
							any_neighbor_state = {
								is_controlled_by = ROOT
							}
							free_building_slots = {
								building = industrial_complex
								size > 2
								include_locked = yes
							}
						}

						custom_effect_tooltip = CHI_industrial_evacuations_add_IC
						hidden_effect = {
							add_extra_state_shared_building_slots = ic_to_move
							add_building_construction = {
								type = industrial_complex
								level = ic_to_move
								instant_build = yes
							}
							CONTROLLER = { set_country_flag = CHI_industrial_evacuations_moved_IC }
						}
					}

					#If no states are really safe or all safe are filled
					#Move to random controlled state
					if = {
						limit = {
							NOT = { has_country_flag = CHI_industrial_evacuations_moved_IC }
							NOT = {
								any_state = {
									is_fully_controlled_by = ROOT
									any_neighbor_state = {
										is_controlled_by = ROOT
									}
									free_building_slots = {
										building = industrial_complex
										size > 2
										include_locked = yes
									}
								}
							}
						}
						random_owned_controlled_state = {
							prioritize = { 605 603 601 }
							limit = {
								is_controlled_by = ROOT
								free_building_slots = {
									building = industrial_complex
									size > 2
									include_locked = yes
								}
							}

							custom_effect_tooltip = CHI_industrial_evacuations_add_IC
							hidden_effect = {
								add_extra_state_shared_building_slots = ic_to_move
								add_building_construction = {
									type = industrial_complex
									level = ic_to_move
									instant_build = yes
								}
							}
						}
					}
					clr_country_flag = CHI_industrial_evacuations_moved_IC
				}
			}
		}

		ai_will_do = {
			factor = 1
		}
	}
}

#Category allowed for all potential nationalist china
#Visible for nationalist china if has warlords as subjects
CHI_integrate_the_warlords = {

	CHI_integrate_the_army = {
		icon = generic_prepare_civil_war
		available = {
			FROM = { compare_autonomy_state < autonomy_colony }
			NOT = {
				has_country_flag = CHI_integrate_the_army
			}
		}

		visible = {
			FROM = { is_subject_of = ROOT }
			NOT = {
				has_country_flag = CHI_integrate_the_army
			}
		}

		cost = 150

		target_trigger = {
			has_completed_focus = CHI_subjugate_the_warlords
			FROM = {
				is_subject_of = ROOT
				OR = {
					tag = GXC
					tag = YUN
					tag = SHX
					tag = XSM
					tag = SIK
				}
			}
		}

		days_remove = 90
		fire_only_once = yes
		ai_will_do = {
			factor = 10
			modifier = {
				OR = {
					has_idea = CHI_warlord_integration_3
					has_idea = CHI_warlord_integration_4
					has_idea = CHI_warlord_integration_5
				}
				factor = 0
				#TODO_WTT_CODE need a trigger for daily increase of PP to see if it's okay to reduce	
			}
		}

		remove_effect = {
			FROM = { set_country_flag = CHI_integrate_the_army }
		}

		complete_effect = {
			CHI_warlord_integration_up = yes
			if = {
				limit = { FROM = { tag = GXC } }
				create_corps_commander = {
					name = "Li Zongren"
					gfx = GFX_portrait_li_zongren
					skill = 3
				}
			}
			else_if = {
				limit = { FROM = { tag = YUN } }
				create_corps_commander = {
					name = "Long Yun"
					gfx = GFX_portrait_yun_long_yun
					skill = 3
				}
			}
			else_if = {
				limit = { FROM = { tag = SHX } }
				create_corps_commander = {
					name = "Yan Xishan"
					gfx = GFX_portrait_yan_xishan
					skill = 3
				}
			}
			else_if = {
				limit = { FROM = { tag = XSM } }
				create_corps_commander = {
					name = "Ma Bufang"
					gfx = GFX_portrait_xsm_ma_bufang
					skill = 3
				}
			}
			else_if = {
				limit = { FROM = { tag = SIK } }
				create_corps_commander = {
					name = "Sheng Shicai"
					gfx = GFX_portrait_sheng_shicai
					skill = 3
				}
			}
		}
	}

	CHI_integrate_the_administration = {
		icon = generic_political_discourse
		available = {
			FROM = {
				compare_autonomy_state < autonomy_colony
				has_country_flag = CHI_integrate_the_army
			}
		}

		visible = {
			FROM = {
				is_subject_of = ROOT
				has_country_flag = CHI_integrate_the_army
			}
		}

		cost = 150

		target_trigger = {
			FROM = {
				has_country_flag = CHI_integrate_the_army
				is_subject_of = ROOT
				OR = {
					tag = GXC
					tag = YUN
					tag = SHX
					tag = XSM
					tag = SIK
				}
			}
		}
		fire_only_once = yes
		ai_will_do = {
			factor = 10
			modifier = {
				OR = {
					has_idea = CHI_warlord_integration_3
					has_idea = CHI_warlord_integration_4
					has_idea = CHI_warlord_integration_5
				}
				factor = 0
				#TODO_WTT_CODE need a trigger for daily increase of PP to see if it's okay to reduce
			}
		}

		days_remove = 90
		remove_effect = {
			FROM = {
				set_country_flag = CHI_integrate_the_administration
			}
		}

		complete_effect = {
			FROM = {
				every_state = {
					limit = { is_core_of = FROM }
					FROM = { remove_state_core = PREV }
				}
			}
		}
	}

	CHI_full_integration = {
		icon = oppression
		available = {
			FROM = {
				FROM = { compare_autonomy_state < autonomy_colony }
			}
		}

		visible = {
			FROM = { is_subject_of = ROOT }
		}

		cost = 150

		target_trigger = {
			FROM = {
				has_country_flag = CHI_integrate_the_administration
				is_subject_of = ROOT
				OR = {
					tag = GXC
					tag = YUN
					tag = SHX
					tag = XSM
					tag = SIK
				}
			}
		}
		days_remove = 90

		remove_effect = {
			CHI_warlord_integration_down = yes
			if = {
				limit = { FROM = { tag = YUN tag = GXC } }
				set_country_flag = achievement_romance_of_the_three_kingdoms_@FROM
			}
			annex_country = { target = FROM transfer_troops = yes }
		}
		fire_only_once = yes
		ai_will_do = {
			factor = 10
		}

		complete_effect = {
		}
	}
}


### #  # ### ### #  ### ###   ##  ### ###  ##  #  #
#  ## # #    #  #   #  #  # #  #  #   #  #  # ## #
#  # ## ##   #  #   #  ###  ####  #   #  #  # # ##
#  #  # #    #  #   #  #  # #  #  #   #  #  # #  #
### #  # #   ### ### #  #  # #  #  #  ###  ##  #  #

#Category allowed for all potential nationalist china
#Visible when another country had completed focus PRC_infiltration
@REMOVE_INFILTRATION_PP_COST = 10
CHI_communist_infiltration = {

	CHI_detect_infiltration = {
		icon = oppression
		available = {

		}

		days_remove = 0
		days_re_enable = 30

		fixed_random_seed = no

		cost = 100

		ai_will_do = {
			base = 0
			modifier = {
				has_political_power < 150
				factor = 0
			}
			#Focus on political struggle first
			modifier = {
				factor = 0
				any_other_country = {
					has_country_flag = wtt_political_struggle
				}
			}
			modifier = {
				add = 75
				any_other_country = {
					is_potentially_communist_china = yes
					has_completed_focus = PRC_infiltration
					NOT = { has_country_flag = CHI_delay_sweep_for_communists }
				}
			}

			#Surely there must be commies somewhere
			modifier = {
				add = 85
				NOT = {
					any_state = {
						OR = {
							state = 283
							state = 597
							state = 598
							state = 607
							state = 608
							state = 614
							state = 615
							state = 621
							state = 744
							state = 746
						}
						has_state_flag = discovered_infiltration
					}
				}
			}
		}

		complete_effect = {
			custom_effect_tooltip = CHI_detect_infiltration_tooltip
			hidden_effect = {
				country_event = wtt_infiltration.1
			}
		}
	}

	CHI_communist_infiltration_in_gansu = {
		icon = infiltrate_state
		visible = { #TODO_WTT_CD merge the 2 visible triggers for all of these. Maybe for JAP as well.
			283 = {
				is_controlled_by = ROOT
				has_any_PRC_infiltration_flag = yes
			}
		}
		available = {
			has_equipment = { infantry_equipment > 999 }
		}

		highlight_states = {
			state = 283
		}

		visible = {
			283 = {
				is_controlled_by = ROOT
				has_state_flag = {
					flag = discovered_infiltration
					value > 0
				}
			}
		}

		modifier = {
			command_power_gain = -0.05
		}

		days_remove = 30
		days_re_enable = 0


		ai_will_do = {
			base = 100
			#Pretty damn important
			modifier = {
				add = 100
				always = yes
			}
		}

		cost = @REMOVE_INFILTRATION_PP_COST

		complete_effect = {
			add_equipment_to_stockpile = {
				type = infantry_equipment
				amount = -1000
			}
		}

		remove_effect = {
			283 = {
				CHI_show_state_uprising_effect_after_infiltration_level_down = yes
				save_event_target_as = infiltrated_state
				CHI_infiltration_flag_down_2 = yes
			}
			event_target:WTT_communist_china = { country_event = wtt_infiltration.6 }
		}
	}

	CHI_communist_infiltration_in_shandong = {
		icon = infiltrate_state
		visible = {
			597 = {
				is_controlled_by = ROOT
				has_any_PRC_infiltration_flag = yes
			}
		}
		available = {
			has_equipment = { infantry_equipment > 999 }
		}
		highlight_states = {
			state = 597
		}

		visible = {
			597 = {
				is_controlled_by = ROOT
				has_state_flag = {
					flag = discovered_infiltration
					value > 0
				}
			}
		}

		modifier = {
			command_power_gain = -0.05
		}

		days_remove = 30
		days_re_enable = 0

		cost = @REMOVE_INFILTRATION_PP_COST

		ai_will_do = {
			base = 100
			#Pretty damn important
			modifier = {
				add = 100
				always = yes
			}
		}

		complete_effect = {
			add_equipment_to_stockpile = {
				type = infantry_equipment
				amount = -1000
			}
		}

		remove_effect = {
			597 = {
				CHI_show_state_uprising_effect_after_infiltration_level_down = yes
				save_event_target_as = infiltrated_state
				CHI_infiltration_flag_down_2 = yes
			}
			event_target:WTT_communist_china = { country_event = wtt_infiltration.6 }
		}
	}

	CHI_communist_infiltration_in_jiangsu = {
		icon = infiltrate_state
		visible = {
			598 = {
				is_controlled_by = ROOT
				has_any_PRC_infiltration_flag = yes
			}
		}
		available = {
			has_equipment = { infantry_equipment > 999 }
		}

		highlight_states = {
			state = 598
		}

		visible = {
			598 = {
				is_controlled_by = ROOT
				has_state_flag = {
					flag = discovered_infiltration
					value > 0
				}
			}
		}

		modifier = {
			command_power_gain = -0.05
		}

		days_remove = 30
		days_re_enable = 0


		ai_will_do = {
			base = 100
			#Pretty damn important
			modifier = {
				add = 100
				always = yes
			}
		}
		cost = @REMOVE_INFILTRATION_PP_COST

		complete_effect = {
			add_equipment_to_stockpile = {
				type = infantry_equipment
				amount = -1000
			}
		}

		remove_effect = {
			598 = {
				CHI_show_state_uprising_effect_after_infiltration_level_down = yes
				save_event_target_as = infiltrated_state
				CHI_infiltration_flag_down_2 = yes
			}
			event_target:WTT_communist_china = { country_event = wtt_infiltration.6 }
		}
	}

	CHI_communist_infiltration_in_henan = {
		icon = infiltrate_state
		visible = {
			607 = {
				is_controlled_by = ROOT
				has_any_PRC_infiltration_flag = yes
			}
		}
		available = {
			has_equipment = { infantry_equipment > 999 }
		}

		visible = {
			607 = {
				is_controlled_by = ROOT
				has_state_flag = {
					flag = discovered_infiltration
					value > 0
				}
			}
		}
		highlight_states = {
			state = 607
		}


		modifier = {
			command_power_gain = -0.05
		}

		days_remove = 30
		days_re_enable = 0

		cost = @REMOVE_INFILTRATION_PP_COST

		ai_will_do = {
			base = 100
			#Pretty damn important
			modifier = {
				add = 100
				always = yes
			}
		}

		complete_effect = {
			add_equipment_to_stockpile = {
				type = infantry_equipment
				amount = -1000
			}
		}

		remove_effect = {
			607 = {
				CHI_show_state_uprising_effect_after_infiltration_level_down = yes
				save_event_target_as = infiltrated_state
				CHI_infiltration_flag_down_2 = yes
			}
			event_target:WTT_communist_china = { country_event = wtt_infiltration.6 }
		}
	}

	CHI_communist_infiltration_in_beijing = {
		icon = infiltrate_state
		visible = {
			608 = {
				is_controlled_by = ROOT
				has_any_PRC_infiltration_flag = yes
			}
		}
		available = {
			has_equipment = { infantry_equipment > 999 }
		}
		highlight_states = {
			state = 608
		}

		visible = {
			608 = {
				is_controlled_by = ROOT
				has_state_flag = {
					flag = discovered_infiltration
					value > 0
				}
			}
		}
		modifier = {
			command_power_gain = -0.05
		}

		days_remove = 30
		days_re_enable = 0

		cost = @REMOVE_INFILTRATION_PP_COST

		ai_will_do = {
			base = 100
			#Pretty damn important
			modifier = {
				add = 100
				always = yes
			}
		}

		complete_effect = {
			add_equipment_to_stockpile = {
				type = infantry_equipment
				amount = -1000
			}
		}

		remove_effect = {
			608 = {
				CHI_show_state_uprising_effect_after_infiltration_level_down = yes
				save_event_target_as = infiltrated_state
				CHI_infiltration_flag_down_2 = yes
			}
			event_target:WTT_communist_china = { country_event = wtt_infiltration.6 }
		}
	}

	CHI_communist_infiltration_in_hebei = {
		icon = infiltrate_state
		visible = {
			614 = {
				is_controlled_by = ROOT
				has_any_PRC_infiltration_flag = yes
			}
		}
		available = {
			has_equipment = { infantry_equipment > 999 }
		}
		highlight_states = {
			state = 614
		}

		visible = {
			614 = {
				is_controlled_by = ROOT
				has_state_flag = {
					flag = discovered_infiltration
					value > 0
				}
			}
		}

		modifier = {
			command_power_gain = -0.05
		}

		days_remove = 30
		days_re_enable = 0

		cost = @REMOVE_INFILTRATION_PP_COST

		ai_will_do = {
			base = 100
			#Pretty damn important
			modifier = {
				add = 100
				always = yes
			}
		}

		complete_effect = {
			add_equipment_to_stockpile = {
				type = infantry_equipment
				amount = -1000
			}
		}

		remove_effect = {
			614 = {
				CHI_show_state_uprising_effect_after_infiltration_level_down = yes
				save_event_target_as = infiltrated_state
				CHI_infiltration_flag_down_2 = yes
			}
			event_target:WTT_communist_china = { country_event = wtt_infiltration.6 }
		}
	}

	CHI_communist_infiltration_in_shanxi = {
		icon = infiltrate_state
		visible = {
			615 = {
				is_controlled_by = ROOT
				has_any_PRC_infiltration_flag = yes
			}
		}
		available = {
			has_equipment = { infantry_equipment > 999 }
		}
		highlight_states = {
			state = 615
		}

		visible = {
			615 = {
				is_controlled_by = ROOT
				has_state_flag = {
					flag = discovered_infiltration
					value > 0
				}
			}
		}

		modifier = {
			command_power_gain = -0.05
		}

		days_remove = 30
		days_re_enable = 0

		cost = @REMOVE_INFILTRATION_PP_COST

		ai_will_do = {
			base = 100
			#Pretty damn important
			modifier = {
				add = 100
				always = yes
			}
		}

		complete_effect = {
			add_equipment_to_stockpile = {
				type = infantry_equipment
				amount = -1000
			}
		}

		remove_effect = {
			615 = {
				CHI_show_state_uprising_effect_after_infiltration_level_down = yes
				save_event_target_as = infiltrated_state
				CHI_infiltration_flag_down_2 = yes
			}
			event_target:WTT_communist_china = { country_event = wtt_infiltration.6 }
		}
	}

	CHI_communist_infiltration_in_suiyuan = {
		icon = infiltrate_state
		visible = {
			621 = {
				is_controlled_by = ROOT
				has_any_PRC_infiltration_flag = yes
			}
		}
		available = {
			has_equipment = { infantry_equipment > 999 }
		}
		highlight_states = {
			state = 621
		}

		visible = {
			621 = {
				is_controlled_by = ROOT
				has_state_flag = {
					flag = discovered_infiltration
					value > 0
				}
			}
		}

		modifier = {
			command_power_gain = -0.05
		}

		days_remove = 30
		days_re_enable = 0

		cost = @REMOVE_INFILTRATION_PP_COST

		ai_will_do = {
			base = 100
			#Pretty damn important
			modifier = {
				add = 100
				always = yes
			}
		}

		complete_effect = {
			add_equipment_to_stockpile = {
				type = infantry_equipment
				amount = -1000
			}
		}

		remove_effect = {
			621 = {
				CHI_show_state_uprising_effect_after_infiltration_level_down = yes
				save_event_target_as = infiltrated_state
				CHI_infiltration_flag_down_2 = yes
			}
			event_target:WTT_communist_china = { country_event = wtt_infiltration.6 }
		}
	}

	CHI_communist_infiltration_in_xian = {
		icon = infiltrate_state
		visible = {
			744 = {
				is_controlled_by = ROOT
				has_any_PRC_infiltration_flag = yes
			}
		}
		available = {
			has_equipment = { infantry_equipment > 999 }
		}
		highlight_states = {
			state = 744
		}

		visible = {
			744 = {
				is_controlled_by = ROOT
				has_state_flag = {
					flag = discovered_infiltration
					value > 0
				}
			}
		}

		modifier = {
			command_power_gain = -0.05
		}

		days_remove = 30
		days_re_enable = 0

		cost = @REMOVE_INFILTRATION_PP_COST

		ai_will_do = {
			base = 100
			#Pretty damn important
			modifier = {
				add = 100
				always = yes
			}
		}

		complete_effect = {
			add_equipment_to_stockpile = {
				type = infantry_equipment
				amount = -1000
			}
		}

		remove_effect = {
			744 = {
				CHI_show_state_uprising_effect_after_infiltration_level_down = yes
				save_event_target_as = infiltrated_state
				CHI_infiltration_flag_down_2 = yes
			}
			event_target:WTT_communist_china = { country_event = wtt_infiltration.6 }
		}
	}

	CHI_communist_infiltration_in_ordos = {
		icon = infiltrate_state
		visible = {
			746 = {
				is_controlled_by = ROOT
				has_any_PRC_infiltration_flag = yes
			}
		}
		available = {
			has_equipment = { infantry_equipment > 999 }
		}
		highlight_states = {
			state = 746
		}

		visible = {
			746 = {
				is_controlled_by = ROOT
				has_state_flag = {
					flag = discovered_infiltration
					value > 0
				}
			}
		}


		modifier = {
			command_power_gain = -0.05
		}

		days_remove = 30
		days_re_enable = 0

		cost = @REMOVE_INFILTRATION_PP_COST

		ai_will_do = {
			base = 100
			#Pretty damn important
			modifier = {
				add = 100
				always = yes
			}
		}

		complete_effect = {
			add_equipment_to_stockpile = {
				type = infantry_equipment
				amount = -1000
			}
		}

		remove_effect = {
			746 = {
				CHI_show_state_uprising_effect_after_infiltration_level_down = yes
				save_event_target_as = infiltrated_state
				CHI_infiltration_flag_down_2 = yes
			}
			event_target:WTT_communist_china = { country_event = wtt_infiltration.6 }
		}
	}
}


###  ##  ###  ### ###  ##  #  #      ## #  # ###  ###   ##  ###  ### 
#   #  # #  # #    #  #    ## #     #   #  # #  # #  # #  # #  #  #  
##  #  # ###  ##   #  # ## # ##      #  #  # ###  ###  #  # ###   #  
#   #  # #  # #    #  #  # #  #       # #  # #    #    #  # #  #  #  
#    ##  #  # ### ###  ##  #  #     ##   ##  #    #     ##  #  #  #  

foreign_support = {
	CHI_flying_tigers = {
		icon = generic_air
		available = {
			has_equipment = { fighter_equipment > 149 }
		}
		visible = {
			has_country_flag = CHI_flying_tigers
		}
		cost = 25
		ai_will_do = {
			factor = 1
		}
		fire_only_once = yes
		days_remove = -1
		complete_effect = {
			random_country = {
				limit = {
					has_completed_focus = CHI_invite_the_flying_tigers
				}
				custom_effect_tooltip = flying_tigers_tt
				hidden_effect = {
					USA = {
						send_equipment = {
							target = PREV
							type = fighter_equipment
							amount = 150
						}
					}
				}
			}
			add_war_support = 0.05
		}
		modifier = {
			air_volunteer_cap = 100
		}
	}

	CHI_soviet_volunteer_group = {
		icon = generic_air
		available = {
			has_equipment = { fighter_equipment > 99 }
			has_equipment = { tac_bomber_equipment > 49 }
		}
		visible = {
			has_country_flag = CHI_soviet_volunteer_group
		}
		cost = 25
		ai_will_do = {
			factor = 1
		}
		days_remove = -1
		fire_only_once = yes
		complete_effect = {
			random_country = {
				limit = {
					has_completed_focus = CHI_the_soviet_volunteer_group
				}
				custom_effect_tooltip = soviet_volunteers_tt
				hidden_effect = {
					SOV = {
						send_equipment = {
							target = PREV
							type = fighter_equipment
							amount = 100
						}
					}
					SOV = {
						send_equipment = {
							target = PREV
							type = tac_bomber_equipment
							amount = 50
						}
					}
				}
			}
			add_war_support = 0.05
		}
		modifier = {
			air_volunteer_cap = 100
		}
	}

	CHI_expand_the_burma_road = {
		icon = generic_construction
		allowed = {
			OR = {
				original_tag = ENG
				is_literally_china = yes
			}
		}

		available = { #WTT_TODO_CD: Make this tooltip not look like complete garbage
			if = {
				limit = {
					OR = {
						has_focus_tree = china_nationalist_focus
						has_focus_tree = china_communist_focus
					}
				}
				has_completed_focus = CHI_burma_road
			}
			if = {
				limit = {
					has_focus_tree = british_focus
				}
				has_completed_focus = uk_burma_focus
			}

			288 = {
				CONTROLLER = {
					NOT = {
						has_war_with = ROOT
					}
				}
			}
			640 = {
				CONTROLLER = {
					NOT = {
						has_war_with = ROOT
					}
				}
			}
			325 = {
				CONTROLLER = {
					NOT = {
						has_war_with = ROOT
					}
				}
			}
			747 = {
				CONTROLLER = {
					NOT = {
						has_war_with = ROOT
					}
				}
			}

			any_state = {
				OR = {
					state = 288
					state = 640
					state = 325
					state = 747
				}
				CONTROLLER = {
					OR = {
						has_completed_focus = uk_burma_focus
						has_completed_focus = CHI_burma_road
						AND = {
							is_in_faction_with = ROOT
							has_completed_focus = uk_burma_focus
							has_completed_focus = CHI_burma_road
						}
						if = {
							limit = {
								is_subject = yes
							}
							OVERLORD = {
								OR = {
									has_completed_focus = uk_burma_focus
									has_completed_focus = CHI_burma_road
								}
							}
						}
					}
				}
			}
		}
		visible = {
			NOT = { has_global_flag = CHI_burma_3 }
			OR = {
				has_focus_tree = china_nationalist_focus
				has_focus_tree = china_communist_focus
				has_focus_tree = british_focus
			}
			OR = {
				AND = {
					OR = {
						controls_state = 325
						325 = {
							CONTROLLER = {
								OR = {
									is_subject_of = ROOT
									is_in_faction_with = ROOT
								}
							}
						}
					}
				}
				AND = {
					controls_state = 288
					controls_state = 640
				}
				AND = {
					288 = { CONTROLLER = { is_in_faction_with = ROOT } }
					640 = { CONTROLLER = { is_in_faction_with = ROOT } }
				}
			}
		}
		days_re_enable = 360
		ai_will_do = {
			factor = 1
		}
		cost = 25
		days_remove = 60
		modifier = {
			civilian_factory_use = 2
		}
		complete_effect = {
			if = {
				limit = {
					AND = {
						has_war = no
						has_war_support < 0.6
					}
				}
				add_war_support = 0.05
			}
		}
		remove_effect = {
			288 = {
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
			}
			640 = {
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
			}
			325 = {
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
			}
			if = {
				limit = {
					has_global_flag = CHI_burma_2
				}
				set_global_flag = CHI_burma_3
			}
			if = {
				limit = {
					NOT = { has_global_flag = CHI_burma_2 } #
				}
				set_global_flag = CHI_burma_2
			}

			random_country = {
				limit = { check_variable = { CHI_burma_road > 0 } }
				add_to_variable = { var = CHI_burma_road value = 1 }

				#Country that had the burma road open
				add_offsite_building = { type = arms_factory level = 1 }
			}
		}
	}
	CHI_expand_the_ledo_road = {
		icon = generic_construction
		available = {
			any_country = {
				has_completed_focus = CHI_ledo_road
			}
			OR = {
				controls_state = 640
				640 = {
					CONTROLLER = {
						is_in_faction_with = ROOT
					}
				}
				controls_state = 325
				325 = {
					CONTROLLER = {
						OR = {
							AND = {
								is_subject = yes
								OVERLORD = {
									has_completed_focus = CHI_ledo_road
								}
							}
							AND = {
								is_in_faction_with = event_target:WTT_current_china_leader
								event_target:WTT_current_china_leader = {
									has_completed_focus = CHI_ledo_road
								}
							}
						}
					}
				}
			}
		}
		visible = {
			any_country = {
				has_completed_focus = CHI_ledo_road
			}
			OR = {
				has_completed_focus = CHI_ledo_road
				controls_state = 640
				640 = {
					CONTROLLER = {
						is_in_faction_with = ROOT
					}
				}
			}
			NOT = {
				has_global_flag = CHI_ledo_3
			}
		}
		days_re_enable = 360
		ai_will_do = {
			factor = 1
		}
		cost = 25
		days_remove = 60
		modifier = {
			civilian_factory_use = 2
		}

		remove_effect = {
			if = {
				limit = {
					has_global_flag = CHI_ledo_2
				}
				set_global_flag = CHI_ledo_3
			}
			if = {
				limit = {
					NOT = { has_global_flag = CHI_ledo_2 } #
				}
				set_global_flag = CHI_ledo_2
			}

			random_country = {
				limit = { check_variable = { CHI_ledo_road > 0 } }
				add_to_variable = { var = CHI_ledo_road value = 1 }

				#Country that had the ledo road open
				add_offsite_building = { type = arms_factory level = 1 }
			}
		}
	}
	CHI_expand_the_airlift = {
		icon = generic_construction
		available = {
			434 = {
				CONTROLLER = {
					NOT = {
						has_war_with = CHI
					}
					is_in_faction_with = ROOT
				}
			}
		}
		visible = {
			OR = {
				AND = {
					has_completed_focus = CHI_the_hump
					OR = {
						controls_state = 601
						601 = {
							CONTROLLER = {
								is_in_faction_with = ROOT
							}
						}
					}
				}
				AND = {
					any_country = {
						has_completed_focus = CHI_the_hump
					}
					controls_state = 434
				}
			}
			NOT = {
				has_global_flag = CHI_hump_3
			}
		}
		cost = 25
		days_re_enable = 360
		ai_will_do = {
			factor = 1
		}
		days_remove = 60
		modifier = {
			civilian_factory_use = 2
		}
		complete_effect = {
			if = {
				limit = {
					AND = {
						has_war = no
						has_war_support < 0.6
					}
				}
				add_war_support = 0.05
			}
		}
		remove_effect = {
			434 = {
				add_building_construction = {
					type = air_base
					level = 1
					instant_build = yes
				}
			}
			601 = {
				add_building_construction = {
					type = air_base
					level = 1
					instant_build = yes
				}
			}
			if = {
				limit = {
					has_global_flag = CHI_hump_2
				}
				set_global_flag = CHI_hump_3 # Hump 3: Revenge of the Hump: The Humpening
			}
			if = {
				limit = {
					NOT = { has_global_flag = CHI_hump_2 } # Hump 2: Hump Harder
				}
				set_global_flag = CHI_hump_2
			}
			601 = {
				CONTROLLER = {
					add_to_variable = { var = CHI_the_hump value = 1 }
					add_offsite_building = { type = arms_factory level = 1 }
				}
			}
		}
	}
}

political_actions = {

	CHI_suspend_the_inter_party_coordination_council = {
		icon = oppression
		available = {
			has_idea = CHI_inter_party_coordination_council
		}
		visible = {
			has_idea = CHI_inter_party_coordination_council
		}
		cost = 25
		complete_effect = {
			if = {
				limit = {
					NOT = {
						has_government = democratic
					}
				}
				add_stability = -0.05
			}
			remove_ideas = CHI_inter_party_coordination_council
		}
	}
	CHI_reinstate_the_inter_party_coordination_council = {
		icon = generic_political_discourse
		available = {
			NOT = { has_idea = CHI_inter_party_coordination_council }
			NOT = {
				has_government = democratic
			}
			has_completed_focus = CHI_inter_party_coordination_council
		}
		visible = {
			NOT = { has_idea = CHI_inter_party_coordination_council }
			NOT = {
				has_government = democratic
			}
			has_completed_focus = CHI_inter_party_coordination_council
		}
		cost = 25
		complete_effect = {
			add_ideas = CHI_inter_party_coordination_council
		}
	}

	CHI_join_united_front = {
		available = {
			always = no
			is_literally_china = yes
			CHI = {
				is_in_faction_with = PRC
			}
			OR = {
				PRC = {
					is_faction_leader = yes
				}
				CHI = {
					is_faction_leader = yes
				}
			}
			NOT = {
				OR = {
					has_war_with = CHI
					has_war_with = PRC
				}
			}
			is_in_faction = no
			NOT = {
				has_completed_focus = CHI_opposition
			}
		}
		visible = {
			always = no
			is_literally_china = yes
			CHI = {
				is_in_faction_with = PRC
			}
			is_in_faction = no
		}
		cost = 25
		ai_will_do = {
			factor = 1
			modifier = {
				JAP = {
					OR = {
						has_war_with = CHI
						has_war_with = PRC
					}
				}
				factor = 10
			}
		}
		complete_effect = {
			If = {
				limit = {
					CHI = {
						is_faction_leader = yes
					}
				}
				CHI = {
					country_event = generic.2
				}
				add_ai_strategy = {
					type = alliance
					id = "CHI"
					value = 200
				}
			}
			else_if = {
				limit = {
					PRC = {
						is_faction_leader = yes
					}
				}
				PRC = {
					country_event = generic.2
				}
				add_ai_strategy = {
					type = alliance
					id = "PRC"
					value = 200
				}
			}
		}
	}
	CHI_move_the_capital = {
		allowed = {
			is_literally_china = yes
			has_dlc = "Waking the Tiger"
		}
		available = {
			has_war = no
			OR = {
				has_full_control_of_state = 608
				has_full_control_of_state = 613
			}
			capital_scope = {
				NOT = {
					OR = {
						state = 608
						state = 613
					}
				}
			}
		}
		visible = {
			has_war = no
			OR = {
				has_full_control_of_state = 608
				has_full_control_of_state = 613
			}
			capital_scope = {
				NOT = {
					OR = {
						state = 608
						state = 613
					}
				}
			}
		}
		cost = 50
		ai_will_do = {
			factor = 1
		}
		complete_effect = {
			country_event = wtt_china.204
		}
	}
}

CHI_xian_incident = {
	CHI_instigate_xian_incident = {
		icon = generic_political_discourse
		available = {
			NOT = {
				has_global_flag = CHI_xian_fired
			}
			CHI = {
				NOT = {
					is_in_faction_with = PRC
				}
				NOT = {
					has_war_with = JAP
				}
				NOT = {
					has_war_with = PRC
				}
				NOT = {
					OR = {
						has_completed_focus = CHI_foreign_threats
						has_completed_focus = CHI_prioritize_the_interior
					}
				}
			}
			PRC = {
				NOT = {
					has_war_with = JAP
				}
				NOT = {
					has_war_with = CHI
				}
				is_in_faction = no
			}
			NOT = {
				has_war_with = CHI
			}
			NOT = {
				has_war_with = PRC
			}
		}

		visible = {
			NOT = {
				has_global_flag = CHI_xian_fired
			}
			CHI = {
				NOT = {
					is_in_faction_with = PRC
				}
				NOT = {
					has_war_with = JAP
				}
			}
			PRC = {
				NOT = {
					has_war_with = JAP
				}
			}
			is_literally_china = yes
			NOT = {
				OR = {
					original_tag = CHI
					original_tag = PRC
				}
			}
			event_target:WTT_current_china_leader = { tag = CHI }
		}
		cost = 25
		fire_only_once = yes
		ai_will_do = {
			factor = 1
			modifier = {
				threat > 0.1
				factor = 2
			}
			modifier = {
				NOT = {
					JAP = {
						has_added_tension_amount > 0
					}
				}
				factor = 0
			}
			modifier = {
				JAP = {
					NOT = {
						has_government = fascism
					}
				}
				factor = 0
			}
		}
		complete_effect = {
			set_country_flag = CHI_xian_instigator_flag
			set_global_flag = CHI_xian_fired
			CHI = {
				country_event = wtt_xian_incident.1
			}
		}
	}
}

operations = {

	CHI_overlordship_over_indochina = {
		icon = generic_operation
		available = {
			controls_state = 671
			controls_state = 670
			controls_state = 286
			controls_state = 741
		}

		days_mission_timeout = 360

		fire_only_once = yes

		activation = {
			has_completed_focus = CHI_overlordship_over_indochina
		}

		complete_effect = {
			add_political_power = 50
			add_war_support = 0.05
			add_stability = 0.05
		}

		timeout_effect = {
			add_war_support = -0.1
		}
	}
}

prestigious_projects = {
	CHI_build_a_carrier = {
		icon = generic_naval
		available = {
			has_navy_size = { archetype = ship_hull_carrier size > 0 }
		}

		days_mission_timeout = 720

		fire_only_once = yes
		is_good = no
		activation = {
			has_completed_focus = CHI_naval_aviation
		}

		complete_effect = {
			add_political_power = 100
			navy_experience = 30
			add_war_support = 0.05
		}

		timeout_effect = {

		}
	}
}
# INV = Investors (decisions for others than CHI)
# tag = USA
# tag = ENG
# tag = FRA
# tag = GER
# tag = ITA
# tag = SOV
# tag = JAP

# tag = TUR
# tag = BRA
# tag = AST


CHI_foreign_investments_cat = {
	### CHI - use 3 INV to DEVELOP
	CHI_fi_use_three_to_develop_research_dec = {

		icon = generic_research

		allowed = {
			tag = CHI
		}

		visible = {
			NOT = { has_country_flag = CHI_fi_use_three_to_develop_factories_dec_FLAG }
		}

		available = {
			NOT = { has_decision = CHI_fi_use_three_to_develop_factories_dec }

			custom_trigger_tooltip = {
				tooltip = CHI_fi_use_three_to_develop_TRIG

				any_country = {
					check_variable = {
						var = CHI_lvl_of_investment_VAR
						value = 2
						compare = greater_than
					}
				}
			}
		}

		cost = 50

		fire_only_once = yes

		complete_effect = {
			add_tech_bonus = {
				name = CHI_unified_industrial_planning
				bonus = 1
				uses = 1
				category = industry
			}

			custom_effect_tooltip = CHI_fi_use_three_to_develop_research_dec_EXPL

			set_country_flag = CHI_fi_use_three_to_develop_research_dec_FLAG
		}

		ai_will_do = {
			factor = 3
		}
	}
	CHI_fi_use_three_to_develop_factories_dec = {

		icon = generic_construction

		allowed = {
			tag = CHI
		}

		visible = {
			NOT = { has_country_flag = CHI_fi_use_three_to_develop_research_dec_FLAG }
		}

		available = {
			NOT = { has_decision = CHI_fi_use_three_to_develop_research_dec }

			custom_trigger_tooltip = {
				tooltip = CHI_fi_use_three_to_develop_TRIG

				any_country = {
					check_variable = {
						var = CHI_lvl_of_investment_VAR
						value = 2
						compare = greater_than
					}
				}
			}
		}

		cost = 50

		fire_only_once = yes

		complete_effect = {
			random_owned_controlled_state = {
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}
			random_owned_controlled_state = {
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
			}
			random_owned_controlled_state = {
				limit = {
					dockyard > 0
					free_building_slots = {
						building = dockyard
						size > 1
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = dockyard
					level = 1
					instant_build = yes
				}
			}

			custom_effect_tooltip = CHI_fi_use_six_to_develop_mining_dec_EXPL

			set_country_flag = CHI_fi_use_three_to_develop_factories_dec_FLAG
		}

		ai_will_do = {
			factor = 3
		}
	}

	### CHI - use 6 INV to DEVELOP
	CHI_fi_use_six_to_develop_res_procesing_dec = {

		icon = generic_research

		allowed = {
			tag = CHI
		}

		visible = {
			NOT = { has_country_flag = CHI_fi_use_six_to_develop_mining_dec_FLAG }
		}

		available = {
			NOT = { has_decision = CHI_fi_use_six_to_develop_mining_dec }

			custom_trigger_tooltip = {
				tooltip = CHI_fi_use_six_to_develop_TRIG

				any_country = {
					check_variable = {
						var = CHI_lvl_of_investment_VAR
						value = 5
						compare = greater_than
					}
				}
			}
		}

		cost = 100

		fire_only_once = yes

		complete_effect = {
			random_owned_controlled_state = {
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = synthetic_refinery
					level = 1
					instant_build = yes
				}
			}
			random_owned_controlled_state = {
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = synthetic_refinery
					level = 1
					instant_build = yes
				}
			}
			random_owned_controlled_state = {
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
				add_resource = {
					type = aluminium
					amount = 2
				}
			}
			random_owned_controlled_state = {
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
				add_resource = {
					type = aluminium
					amount = 2
				}
			}

			add_tech_bonus = {
				name = CHI_fi_use_six_to_develop_res_procesing_dec
				bonus = 1
				uses = 1
				category = synth_resources
			}

			custom_effect_tooltip = CHI_fi_use_six_to_develop_res_procesing_dec_EXPL

			set_country_flag = CHI_fi_use_six_to_develop_res_procesing_dec_FLAG
		}

		ai_will_do = {
			factor = 3
		}
	}
	CHI_fi_use_six_to_develop_mining_dec = {

		icon = generic_construction

		allowed = {
			tag = CHI
		}

		visible = {
			NOT = { has_country_flag = CHI_fi_use_six_to_develop_res_procesing_dec_FLAG }
		}

		available = {
			NOT = { has_decision = CHI_fi_use_six_to_develop_res_procesing_dec }

			custom_trigger_tooltip = {
				tooltip = CHI_fi_use_six_to_develop_TRIG

				any_country = {
					check_variable = {
						var = CHI_lvl_of_investment_VAR
						value = 5
						compare = greater_than
					}
				}
			}
		}

		cost = 100

		fire_only_once = yes

		complete_effect = {
			every_owned_state = {
				limit = {
					has_resources_amount = {
						resource = steel
						amount > 1
					}
				}

				add_resource = {
					type = steel
					amount = 1
				}
			}
			every_owned_state = {
				limit = {
					has_resources_amount = {
						resource = tungsten
						amount > 1
					}
				}

				add_resource = {
					type = tungsten
					amount = 1
				}
			}
			every_owned_state = {
				limit = {
					has_resources_amount = {
						resource = chromium
						amount > 1
					}
				}

				add_resource = {
					type = chromium
					amount = 1
				}
			}
			every_owned_state = {
				limit = {
					has_resources_amount = {
						resource = oil
						amount > 1
					}
				}

				add_resource = {
					type = oil
					amount = 1
				}
			}

			add_tech_bonus = {
				name = CHI_unified_industrial_planning
				bonus = 1
				uses = 1
				technology = excavation1
				technology = excavation2
				technology = excavation3
				technology = excavation4
				technology = excavation5
			}

			custom_effect_tooltip = CHI_fi_use_six_to_develop_res_procesing_dec_EXPL

			set_country_flag = CHI_fi_use_six_to_develop_mining_dec_FLAG
		}

		ai_will_do = {
			factor = 3
		}
	}

	### CHI - use 10 INV to DEVELOP
	CHI_fi_use_ten_to_develop_oil_dec = {

		icon = oil

		allowed = {
			tag = CHI
		}

		visible = {
			NOT = { has_country_flag = CHI_fi_use_ten_to_develop_rubber_dec_FLAG }
		}

		available = {
			NOT = { has_decision = CHI_fi_use_ten_to_develop_rubber_dec }

			custom_trigger_tooltip = {
				tooltip = CHI_fi_use_ten_to_develop_TRIG

				any_country = {
					check_variable = {
						var = CHI_lvl_of_investment_VAR
						value = 9
						compare = greater_than
					}
				}
			}
		}

		cost = 150

		fire_only_once = yes

		complete_effect = {
			random_owned_controlled_state = {
				limit = {
					has_resources_amount = {
						resource = oil
						amount > 1
					}
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = synthetic_refinery
					level = 1
					instant_build = yes
				}
				add_resource = {
					type = oil
					amount = 4
				}
			}
			random_owned_controlled_state = {
				limit = {
					has_resources_amount = {
						resource = oil
						amount > 1
					}
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = synthetic_refinery
					level = 1
					instant_build = yes
				}
				add_resource = {
					type = oil
					amount = 4
				}
			}
			random_owned_controlled_state = {
				limit = {
					has_resources_amount = {
						resource = oil
						amount > 1
					}
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = synthetic_refinery
					level = 1
					instant_build = yes
				}
				add_resource = {
					type = oil
					amount = 4
				}
			}
			add_tech_bonus = {
				name = CHI_fi_use_ten_to_develop_oil_dec
				bonus = 1
				uses = 1
				category = synth_resources
			}

			custom_effect_tooltip = CHI_fi_use_ten_to_develop_oil_dec_EXPL

			set_country_flag = CHI_fi_use_ten_to_develop_oil_dec_FLAG
		}

		ai_will_do = {
			factor = 3
		}
	}
	CHI_fi_use_ten_to_develop_rubber_dec = {

		icon = rubber

		allowed = {
			tag = CHI
		}

		visible = {
			NOT = { has_country_flag = CHI_fi_use_ten_to_develop_oil_dec_FLAG }
		}

		available = {
			NOT = { has_decision = CHI_fi_use_ten_to_develop_oil_dec }

			custom_trigger_tooltip = {
				tooltip = CHI_fi_use_ten_to_develop_TRIG

				any_country = {
					check_variable = {
						var = CHI_lvl_of_investment_VAR
						value = 9
						compare = greater_than
					}
				}
			}
		}

		cost = 150

		fire_only_once = yes

		complete_effect = {
			random_owned_controlled_state = {
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = synthetic_refinery
					level = 1
					instant_build = yes
				}
			}
			random_owned_controlled_state = {
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = synthetic_refinery
					level = 1
					instant_build = yes
				}
			}
			random_owned_controlled_state = {
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = synthetic_refinery
					level = 1
					instant_build = yes
				}
			}
			modify_building_resources = {
				building = synthetic_refinery
				resource = rubber
				amount = 1
			}

			custom_effect_tooltip = CHI_fi_use_ten_to_develop_rubber_dec_EXPL

			set_country_flag = CHI_fi_use_ten_to_develop_rubber_dec_FLAG
		}

		ai_will_do = {
			factor = 3
		}
	}


	### CHI - REDUCE INFLUENCE
	CHI_fi_reduce_influence_minor_dec = {

		icon = hol_attract_foreign_investors

		allowed = {
			tag = CHI
		}

		visible = {

		}

		available = {
			custom_trigger_tooltip = {
				tooltip = CHI_fi_reduce_influence_minor_dec_TRIG

				any_country = {
					check_variable = {
						var = CHI_lvl_of_influence_VAR
						value = 0
						compare = greater_than
					}
				}
			}
		}

		cost = 25

		days_remove = 120

		modifier = {
			political_power_gain = -0.25
		}

		remove_effect = {
			add_stability = 0.01

			every_country = {
				limit = {
					check_variable = {
						var = CHI_lvl_of_influence_VAR
						value = 0
						compare = greater_than
					}
				}

				add_political_power = -15

				subtract_from_variable = {
					var = CHI_lvl_of_influence_VAR
					value = 1
				}

				custom_effect_tooltip = CHI_reduce_influence_one_EXPL
			}
		}

		ai_will_do = {
			factor = 1
		}
	}

	CHI_fi_USA_reduce_influence_greatly_dec = {

		icon = generic_decision

		allowed = {
			tag = CHI
		}

		visible = {
			USA = {
				custom_trigger_tooltip = {
					tooltip = CHI_fi_has_at_least_five_influence_TRIG

					check_variable = {
						var = CHI_lvl_of_influence_VAR
						value = 4
						compare = greater_than
					}
				}
			}
		}

		available = {
			USA = {
				custom_trigger_tooltip = {
					tooltip = CHI_fi_has_at_least_five_influence_TRIG

					check_variable = {
						var = CHI_lvl_of_influence_VAR
						value = 4
						compare = greater_than
					}
				}
			}
		}

		cost = 50

		days_remove = 120

		modifier = {
			political_power_gain = -0.25
		}

		remove_effect = {
			add_stability = 0.01

			USA = {
				effect_tooltip = {
					add_political_power = -25
				}

				subtract_from_variable = {
					var = CHI_lvl_of_influence_VAR
					value = 3
				}

				custom_effect_tooltip = CHI_reduce_influence_three_EXPL

				country_event = umc_chi_inv.20

				custom_effect_tooltip = CHI_will_be_able_to_withdraw_investments_EXPL
			}
		}

		ai_will_do = {
			factor = 1
		}
	}
	CHI_fi_ENG_reduce_influence_greatly_dec = {

		icon = generic_decision

		allowed = {
			tag = CHI
		}

		visible = {
			ENG = {
				custom_trigger_tooltip = {
					tooltip = CHI_fi_has_at_least_five_influence_TRIG

					check_variable = {
						var = CHI_lvl_of_influence_VAR
						value = 4
						compare = greater_than
					}
				}
			}
		}

		available = {
			ENG = {
				custom_trigger_tooltip = {
					tooltip = CHI_fi_has_at_least_five_influence_TRIG

					check_variable = {
						var = CHI_lvl_of_influence_VAR
						value = 4
						compare = greater_than
					}
				}
			}
		}

		cost = 50

		days_remove = 120

		modifier = {
			political_power_gain = -0.25
		}

		remove_effect = {
			add_stability = 0.01

			ENG = {
				effect_tooltip = {
					add_political_power = -25
				}

				subtract_from_variable = {
					var = CHI_lvl_of_influence_VAR
					value = 3
				}

				custom_effect_tooltip = CHI_reduce_influence_three_EXPL

				country_event = umc_chi_inv.20

				custom_effect_tooltip = CHI_will_be_able_to_withdraw_investments_EXPL
			}
		}

		ai_will_do = {
			factor = 1
		}
	}
	CHI_fi_FRA_reduce_influence_greatly_dec = {

		icon = generic_decision

		allowed = {
			tag = CHI
		}

		visible = {
			FRA = {
				custom_trigger_tooltip = {
					tooltip = CHI_fi_has_at_least_five_influence_TRIG

					check_variable = {
						var = CHI_lvl_of_influence_VAR
						value = 4
						compare = greater_than
					}
				}
			}
		}

		available = {
			FRA = {
				custom_trigger_tooltip = {
					tooltip = CHI_fi_has_at_least_five_influence_TRIG

					check_variable = {
						var = CHI_lvl_of_influence_VAR
						value = 4
						compare = greater_than
					}
				}
			}
		}

		cost = 50

		days_remove = 120

		modifier = {
			political_power_gain = -0.25
		}

		remove_effect = {
			add_stability = 0.01

			FRA = {
				effect_tooltip = {
					add_political_power = -25
				}

				subtract_from_variable = {
					var = CHI_lvl_of_influence_VAR
					value = 3
				}

				custom_effect_tooltip = CHI_reduce_influence_three_EXPL

				country_event = umc_chi_inv.20

				custom_effect_tooltip = CHI_will_be_able_to_withdraw_investments_EXPL
			}
		}

		ai_will_do = {
			factor = 1
		}
	}
	CHI_fi_GER_reduce_influence_greatly_dec = {

		icon = generic_decision

		allowed = {
			tag = CHI
		}

		visible = {
			GER = {
				custom_trigger_tooltip = {
					tooltip = CHI_fi_has_at_least_five_influence_TRIG

					check_variable = {
						var = CHI_lvl_of_influence_VAR
						value = 4
						compare = greater_than
					}
				}
			}
		}

		available = {
			GER = {
				custom_trigger_tooltip = {
					tooltip = CHI_fi_has_at_least_five_influence_TRIG

					check_variable = {
						var = CHI_lvl_of_influence_VAR
						value = 4
						compare = greater_than
					}
				}
			}
		}

		cost = 50

		days_remove = 120

		modifier = {
			political_power_gain = -0.25
		}

		remove_effect = {
			add_stability = 0.01

			GER = {
				effect_tooltip = {
					add_political_power = -25
				}

				subtract_from_variable = {
					var = CHI_lvl_of_influence_VAR
					value = 3
				}

				custom_effect_tooltip = CHI_reduce_influence_three_EXPL

				country_event = umc_chi_inv.20

				custom_effect_tooltip = CHI_will_be_able_to_withdraw_investments_EXPL
			}
		}

		ai_will_do = {
			factor = 1
		}
	}
	CHI_fi_ITA_reduce_influence_greatly_dec = {

		icon = generic_decision

		allowed = {
			tag = CHI
		}

		visible = {
			ITA = {
				custom_trigger_tooltip = {
					tooltip = CHI_fi_has_at_least_five_influence_TRIG

					check_variable = {
						var = CHI_lvl_of_influence_VAR
						value = 4
						compare = greater_than
					}
				}
			}
		}

		available = {
			ITA = {
				custom_trigger_tooltip = {
					tooltip = CHI_fi_has_at_least_five_influence_TRIG

					check_variable = {
						var = CHI_lvl_of_influence_VAR
						value = 4
						compare = greater_than
					}
				}
			}
		}

		cost = 50

		days_remove = 120

		modifier = {
			political_power_gain = -0.25
		}

		remove_effect = {
			add_stability = 0.01

			ITA = {
				effect_tooltip = {
					add_political_power = -25
				}

				subtract_from_variable = {
					var = CHI_lvl_of_influence_VAR
					value = 3
				}

				custom_effect_tooltip = CHI_reduce_influence_three_EXPL

				country_event = umc_chi_inv.20

				custom_effect_tooltip = CHI_will_be_able_to_withdraw_investments_EXPL
			}
		}

		ai_will_do = {
			factor = 1
		}
	}
	CHI_fi_SOV_reduce_influence_greatly_dec = {

		icon = generic_decision

		allowed = {
			tag = CHI
		}

		visible = {
			SOV = {
				custom_trigger_tooltip = {
					tooltip = CHI_fi_has_at_least_five_influence_TRIG

					check_variable = {
						var = CHI_lvl_of_influence_VAR
						value = 4
						compare = greater_than
					}
				}
			}
		}

		available = {
			SOV = {
				custom_trigger_tooltip = {
					tooltip = CHI_fi_has_at_least_five_influence_TRIG

					check_variable = {
						var = CHI_lvl_of_influence_VAR
						value = 4
						compare = greater_than
					}
				}
			}
		}

		cost = 50

		days_remove = 120

		modifier = {
			political_power_gain = -0.25
		}

		remove_effect = {
			add_stability = 0.01

			SOV = {
				effect_tooltip = {
					add_political_power = -25
				}

				subtract_from_variable = {
					var = CHI_lvl_of_influence_VAR
					value = 3
				}

				custom_effect_tooltip = CHI_reduce_influence_three_EXPL

				country_event = umc_chi_inv.20

				custom_effect_tooltip = CHI_will_be_able_to_withdraw_investments_EXPL
			}
		}

		ai_will_do = {
			factor = 1
		}
	}
	CHI_fi_JAP_reduce_influence_greatly_dec = {

		icon = generic_decision

		allowed = {
			tag = CHI
		}

		visible = {
			JAP = {
				custom_trigger_tooltip = {
					tooltip = CHI_fi_has_at_least_five_influence_TRIG

					check_variable = {
						var = CHI_lvl_of_influence_VAR
						value = 4
						compare = greater_than
					}
				}
			}
		}

		available = {
			JAP = {
				custom_trigger_tooltip = {
					tooltip = CHI_fi_has_at_least_five_influence_TRIG

					check_variable = {
						var = CHI_lvl_of_influence_VAR
						value = 4
						compare = greater_than
					}
				}
			}
		}

		cost = 50

		days_remove = 120

		modifier = {
			political_power_gain = -0.25
		}

		remove_effect = {
			add_stability = 0.01

			JAP = {
				effect_tooltip = {
					add_political_power = -25
				}

				subtract_from_variable = {
					var = CHI_lvl_of_influence_VAR
					value = 3
				}

				custom_effect_tooltip = CHI_reduce_influence_three_EXPL

				country_event = umc_chi_inv.20

				custom_effect_tooltip = CHI_will_be_able_to_withdraw_investments_EXPL
			}
		}

		ai_will_do = {
			factor = 1
		}
	}
	CHI_fi_TUR_reduce_influence_greatly_dec = {

		icon = generic_decision

		allowed = {
			tag = CHI
		}

		visible = {
			TUR = {
				custom_trigger_tooltip = {
					tooltip = CHI_fi_has_at_least_five_influence_TRIG

					check_variable = {
						var = CHI_lvl_of_influence_VAR
						value = 4
						compare = greater_than
					}
				}
			}
		}

		available = {
			TUR = {
				custom_trigger_tooltip = {
					tooltip = CHI_fi_has_at_least_five_influence_TRIG

					check_variable = {
						var = CHI_lvl_of_influence_VAR
						value = 4
						compare = greater_than
					}
				}
			}
		}

		cost = 50

		days_remove = 120

		modifier = {
			political_power_gain = -0.25
		}

		remove_effect = {
			add_stability = 0.01

			TUR = {
				effect_tooltip = {
					add_political_power = -25
				}

				subtract_from_variable = {
					var = CHI_lvl_of_influence_VAR
					value = 3
				}

				custom_effect_tooltip = CHI_reduce_influence_three_EXPL

				country_event = umc_chi_inv.20

				custom_effect_tooltip = CHI_will_be_able_to_withdraw_investments_EXPL
			}
		}

		ai_will_do = {
			factor = 1
		}
	}
	CHI_fi_BRA_reduce_influence_greatly_dec = {

		icon = generic_decision

		allowed = {
			tag = CHI
		}

		visible = {
			BRA = {
				custom_trigger_tooltip = {
					tooltip = CHI_fi_has_at_least_five_influence_TRIG

					check_variable = {
						var = CHI_lvl_of_influence_VAR
						value = 4
						compare = greater_than
					}
				}
			}
		}

		available = {
			BRA = {
				custom_trigger_tooltip = {
					tooltip = CHI_fi_has_at_least_five_influence_TRIG

					check_variable = {
						var = CHI_lvl_of_influence_VAR
						value = 4
						compare = greater_than
					}
				}
			}
		}

		cost = 50

		days_remove = 120

		modifier = {
			political_power_gain = -0.25
		}

		remove_effect = {
			add_stability = 0.01

			BRA = {
				effect_tooltip = {
					add_political_power = -25
				}

				subtract_from_variable = {
					var = CHI_lvl_of_influence_VAR
					value = 3
				}

				custom_effect_tooltip = CHI_reduce_influence_three_EXPL

				country_event = umc_chi_inv.20

				custom_effect_tooltip = CHI_will_be_able_to_withdraw_investments_EXPL
			}
		}

		ai_will_do = {
			factor = 1
		}
	}
	CHI_fi_AST_reduce_influence_greatly_dec = {

		icon = generic_decision

		allowed = {
			tag = CHI
		}

		visible = {
			AST = {
				custom_trigger_tooltip = {
					tooltip = CHI_fi_has_at_least_five_influence_TRIG

					check_variable = {
						var = CHI_lvl_of_influence_VAR
						value = 4
						compare = greater_than
					}
				}
			}
		}

		available = {
			AST = {
				custom_trigger_tooltip = {
					tooltip = CHI_fi_has_at_least_five_influence_TRIG

					check_variable = {
						var = CHI_lvl_of_influence_VAR
						value = 4
						compare = greater_than
					}
				}
			}
		}

		cost = 50

		days_remove = 120

		modifier = {
			political_power_gain = -0.25
		}

		remove_effect = {
			add_stability = 0.01

			AST = {
				effect_tooltip = {
					add_political_power = -25
				}

				subtract_from_variable = {
					var = CHI_lvl_of_influence_VAR
					value = 3
				}

				custom_effect_tooltip = CHI_reduce_influence_three_EXPL

				country_event = umc_chi_inv.20

				custom_effect_tooltip = CHI_will_be_able_to_withdraw_investments_EXPL
			}
		}

		ai_will_do = {
			factor = 1
		}
	}



	### CHI - NATIONALIZE FOREIGN CAPITAL
	CHI_fi_USA_nationalize_investments_dec = {

		icon = generic_operation

		allowed = {
			tag = CHI
		}

		visible = {
			USA = {
				check_variable = {
					var = CHI_lvl_of_investment_VAR
					value = 0
					compare = greater_than
				}
			}
		}

		available = {

		}

		cost = 150

		days_remove = 60

		complete_effect = {
			USA = {
				add_stability = -0.005
				activate_mission = CHI_fi_USA_INV_nationalize_investments_mis
			}
		}

		modifier = {
			political_power_gain = -0.1
		}

		remove_effect = {
			add_political_power = -25

			custom_effect_tooltip = CHI_fi_USA_nationalize_investments_dec_EXPL1

			set_temp_variable = {
				var = CHI_USA_lvl_of_influence_VAR
				value = USA.CHI_lvl_of_influence_VAR
			}

			multiply_temp_variable = {
				var = CHI_USA_lvl_of_influence_VAR
				value = -0.01
			}

			add_stability = CHI_USA_lvl_of_influence_VAR

			custom_effect_tooltip = CHI_fi_add_factories_based_on_lvl_of_invest_EXPL

			set_temp_variable = {
				var = CHI_USA_lvl_of_investments_civ_VAR
				value = USA.CHI_lvl_of_investment_VAR
			}

			multiply_temp_variable = {
				var = CHI_USA_lvl_of_investments_civ_VAR
				value = 0.5
			}

			add_offsite_building = { type = industrial_complex level = CHI_USA_lvl_of_investments_civ_VAR }

			set_temp_variable = {
				var = CHI_USA_lvl_of_investments_doc_VAR
				value = USA.CHI_lvl_of_investment_VAR
			}

			multiply_temp_variable = {
				var = CHI_USA_lvl_of_investments_doc_VAR
				value = 0.25
			}

			add_offsite_building = { type = dockyard level = CHI_USA_lvl_of_investments_doc_VAR }

			USA = {
				effect_tooltip = {
					add_political_power = -50

					add_stability = -0.01
					add_war_support = 0.025
				}

				country_event = umc_chi_inv.30

				custom_effect_tooltip = CHI_fi_nationalize_investments_dec_EXPL1

				clr_country_flag = ROOT_will_invest_in_CHI_FLAG
			}
		}

		ai_will_do = {
			factor = 1
		}
	}
	CHI_fi_USA_INV_nationalize_investments_mis = {
		allowed = {
			tag = USA
		}

		available = {
			always = no
		}

		activation = {
			always = no
		}

		is_good = no

		days_mission_timeout = 60

		timeout_effect = {
			effect_tooltip = {
				add_political_power = -50

				add_stability = -0.01
				add_war_support = 0.025

				country_event = umc_chi_inv.30
			}
		}
	}

	CHI_fi_ENG_nationalize_investments_dec = {

		icon = generic_operation

		allowed = {
			tag = CHI
		}

		visible = {
			ENG = {
				check_variable = {
					var = CHI_lvl_of_investment_VAR
					value = 0
					compare = greater_than
				}
			}
		}

		available = {

		}

		cost = 150

		days_remove = 60

		complete_effect = {
			ENG = {
				add_stability = -0.005
				activate_mission = CHI_fi_USA_INV_nationalize_investments_mis
			}
		}

		modifier = {
			political_power_gain = -0.1
		}

		remove_effect = {
			add_political_power = -25

			custom_effect_tooltip = CHI_fi_ENG_nationalize_investments_dec_EXPL1

			set_temp_variable = {
				var = CHI_ENG_lvl_of_influence_VAR
				value = ENG.CHI_lvl_of_influence_VAR
			}

			multiply_temp_variable = {
				var = CHI_ENG_lvl_of_influence_VAR
				value = -0.01
			}

			add_stability = CHI_ENG_lvl_of_influence_VAR

			custom_effect_tooltip = CHI_fi_add_factories_based_on_lvl_of_invest_EXPL

			set_temp_variable = {
				var = CHI_ENG_lvl_of_investments_civ_VAR
				value = ENG.CHI_lvl_of_investment_VAR
			}

			multiply_temp_variable = {
				var = CHI_ENG_lvl_of_investments_civ_VAR
				value = 0.5
			}

			add_offsite_building = { type = industrial_complex level = CHI_ENG_lvl_of_investments_civ_VAR }

			set_temp_variable = {
				var = CHI_ENG_lvl_of_investments_doc_VAR
				value = ENG.CHI_lvl_of_investment_VAR
			}

			multiply_temp_variable = {
				var = CHI_ENG_lvl_of_investments_doc_VAR
				value = 0.25
			}

			add_offsite_building = { type = dockyard level = CHI_ENG_lvl_of_investments_doc_VAR }

			ENG = {
				effect_tooltip = {
					add_political_power = -50

					add_stability = -0.01
					add_war_support = 0.025
				}

				country_event = umc_chi_inv.30

				custom_effect_tooltip = CHI_fi_nationalize_investments_dec_EXPL1

				clr_country_flag = ROOT_will_invest_in_CHI_FLAG
			}
		}

		ai_will_do = {
			factor = 1
		}
	}
	CHI_fi_ENG_INV_nationalize_investments_mis = {
		allowed = {
			tag = ENG
		}

		available = {
			always = no
		}

		activation = {
			always = no
		}

		is_good = no

		days_mission_timeout = 60

		timeout_effect = {
			effect_tooltip = {
				add_political_power = -50

				add_stability = -0.01
				add_war_support = 0.025

				country_event = umc_chi_inv.30
			}
		}
	}

	CHI_fi_FRA_nationalize_investments_dec = {

		icon = generic_operation

		allowed = {
			tag = CHI
		}

		visible = {
			FRA = {
				check_variable = {
					var = CHI_lvl_of_investment_VAR
					value = 0
					compare = greater_than
				}
			}
		}

		available = {

		}

		cost = 150

		days_remove = 60

		complete_effect = {
			FRA = {
				add_stability = -0.005
				activate_mission = CHI_fi_USA_INV_nationalize_investments_mis
			}
		}

		modifier = {
			political_power_gain = -0.1
		}

		remove_effect = {
			add_political_power = -25

			custom_effect_tooltip = CHI_fi_FRA_nationalize_investments_dec_EXPL1

			set_temp_variable = {
				var = CHI_FRA_lvl_of_influence_VAR
				value = FRA.CHI_lvl_of_influence_VAR
			}

			multiply_temp_variable = {
				var = CHI_FRA_lvl_of_influence_VAR
				value = -0.01
			}

			add_stability = CHI_FRA_lvl_of_influence_VAR

			custom_effect_tooltip = CHI_fi_add_factories_based_on_lvl_of_invest_EXPL

			set_temp_variable = {
				var = CHI_FRA_lvl_of_investments_civ_VAR
				value = FRA.CHI_lvl_of_investment_VAR
			}

			multiply_temp_variable = {
				var = CHI_FRA_lvl_of_investments_civ_VAR
				value = 0.5
			}

			add_offsite_building = { type = industrial_complex level = CHI_FRA_lvl_of_investments_civ_VAR }

			set_temp_variable = {
				var = CHI_FRA_lvl_of_investments_doc_VAR
				value = FRA.CHI_lvl_of_investment_VAR
			}

			multiply_temp_variable = {
				var = CHI_FRA_lvl_of_investments_doc_VAR
				value = 0.25
			}

			add_offsite_building = { type = dockyard level = CHI_FRA_lvl_of_investments_doc_VAR }

			FRA = {
				effect_tooltip = {
					add_political_power = -50

					add_stability = -0.01
					add_war_support = 0.025
				}

				country_event = umc_chi_inv.30

				custom_effect_tooltip = CHI_fi_nationalize_investments_dec_EXPL1

				clr_country_flag = ROOT_will_invest_in_CHI_FLAG
			}
		}

		ai_will_do = {
			factor = 1
		}
	}
	CHI_fi_FRA_INV_nationalize_investments_mis = {
		allowed = {
			tag = FRA
		}

		available = {
			always = no
		}

		activation = {
			always = no
		}

		is_good = no

		days_mission_timeout = 60

		timeout_effect = {
			effect_tooltip = {
				add_political_power = -50

				add_stability = -0.01
				add_war_support = 0.025

				country_event = umc_chi_inv.30
			}
		}
	}

	CHI_fi_GER_nationalize_investments_dec = {

		icon = generic_operation

		allowed = {
			tag = CHI
		}

		visible = {
			GER = {
				check_variable = {
					var = CHI_lvl_of_investment_VAR
					value = 0
					compare = greater_than
				}
			}
		}

		available = {

		}

		cost = 150

		days_remove = 60

		complete_effect = {
			GER = {
				add_stability = -0.005
				activate_mission = CHI_fi_USA_INV_nationalize_investments_mis
			}
		}

		modifier = {
			political_power_gain = -0.1
		}

		remove_effect = {
			add_political_power = -25

			custom_effect_tooltip = CHI_fi_GER_nationalize_investments_dec_EXPL1

			set_temp_variable = {
				var = CHI_GER_lvl_of_influence_VAR
				value = GER.CHI_lvl_of_influence_VAR
			}

			multiply_temp_variable = {
				var = CHI_GER_lvl_of_influence_VAR
				value = -0.01
			}

			add_stability = CHI_GER_lvl_of_influence_VAR

			custom_effect_tooltip = CHI_fi_add_factories_based_on_lvl_of_invest_EXPL

			set_temp_variable = {
				var = CHI_GER_lvl_of_investments_civ_VAR
				value = GER.CHI_lvl_of_investment_VAR
			}

			multiply_temp_variable = {
				var = CHI_GER_lvl_of_investments_civ_VAR
				value = 0.5
			}

			add_offsite_building = { type = industrial_complex level = CHI_GER_lvl_of_investments_civ_VAR }

			set_temp_variable = {
				var = CHI_GER_lvl_of_investments_doc_VAR
				value = GER.CHI_lvl_of_investment_VAR
			}

			multiply_temp_variable = {
				var = CHI_GER_lvl_of_investments_doc_VAR
				value = 0.25
			}

			add_offsite_building = { type = dockyard level = CHI_GER_lvl_of_investments_doc_VAR }

			GER = {
				effect_tooltip = {
					add_political_power = -50

					add_stability = -0.01
					add_war_support = 0.025
				}

				country_event = umc_chi_inv.30

				custom_effect_tooltip = CHI_fi_nationalize_investments_dec_EXPL1

				clr_country_flag = ROOT_will_invest_in_CHI_FLAG
			}
		}

		ai_will_do = {
			factor = 1
		}
	}
	CHI_fi_GER_INV_nationalize_investments_mis = {
		allowed = {
			tag = GER
		}

		available = {
			always = no
		}

		activation = {
			always = no
		}

		is_good = no

		days_mission_timeout = 60

		timeout_effect = {
			effect_tooltip = {
				add_political_power = -50

				add_stability = -0.01
				add_war_support = 0.025

				country_event = umc_chi_inv.30
			}
		}
	}

	CHI_fi_ITA_nationalize_investments_dec = {

		icon = generic_operation

		allowed = {
			tag = CHI
		}

		visible = {
			ITA = {
				check_variable = {
					var = CHI_lvl_of_investment_VAR
					value = 0
					compare = greater_than
				}
			}
		}

		available = {

		}

		cost = 150

		days_remove = 60

		complete_effect = {
			ITA = {
				add_stability = -0.005
				activate_mission = CHI_fi_USA_INV_nationalize_investments_mis
			}
		}

		modifier = {
			political_power_gain = -0.1
		}

		remove_effect = {
			add_political_power = -25

			custom_effect_tooltip = CHI_fi_ITA_nationalize_investments_dec_EXPL1

			set_temp_variable = {
				var = CHI_ITA_lvl_of_influence_VAR
				value = ITA.CHI_lvl_of_influence_VAR
			}

			multiply_temp_variable = {
				var = CHI_ITA_lvl_of_influence_VAR
				value = -0.01
			}

			add_stability = CHI_ITA_lvl_of_influence_VAR

			custom_effect_tooltip = CHI_fi_add_factories_based_on_lvl_of_invest_EXPL

			set_temp_variable = {
				var = CHI_ITA_lvl_of_investments_civ_VAR
				value = ITA.CHI_lvl_of_investment_VAR
			}

			multiply_temp_variable = {
				var = CHI_ITA_lvl_of_investments_civ_VAR
				value = 0.5
			}

			add_offsite_building = { type = industrial_complex level = CHI_ITA_lvl_of_investments_civ_VAR }

			set_temp_variable = {
				var = CHI_ITA_lvl_of_investments_doc_VAR
				value = ITA.CHI_lvl_of_investment_VAR
			}

			multiply_temp_variable = {
				var = CHI_ITA_lvl_of_investments_doc_VAR
				value = 0.25
			}

			add_offsite_building = { type = dockyard level = CHI_ITA_lvl_of_investments_doc_VAR }

			ITA = {
				effect_tooltip = {
					add_political_power = -50

					add_stability = -0.01
					add_war_support = 0.025
				}

				country_event = umc_chi_inv.30

				custom_effect_tooltip = CHI_fi_nationalize_investments_dec_EXPL1

				clr_country_flag = ROOT_will_invest_in_CHI_FLAG
			}
		}

		ai_will_do = {
			factor = 1
		}
	}
	CHI_fi_ITA_INV_nationalize_investments_mis = {
		allowed = {
			tag = ITA
		}

		available = {
			always = no
		}

		activation = {
			always = no
		}

		is_good = no

		days_mission_timeout = 60

		timeout_effect = {
			effect_tooltip = {
				add_political_power = -50

				add_stability = -0.01
				add_war_support = 0.025

				country_event = umc_chi_inv.30
			}
		}
	}

	CHI_fi_SOV_nationalize_investments_dec = {

		icon = generic_operation

		allowed = {
			tag = CHI
		}

		visible = {
			SOV = {
				check_variable = {
					var = CHI_lvl_of_investment_VAR
					value = 0
					compare = greater_than
				}
			}
		}

		available = {

		}

		cost = 150

		days_remove = 60

		complete_effect = {
			SOV = {
				add_stability = -0.005
				activate_mission = CHI_fi_USA_INV_nationalize_investments_mis
			}
		}

		modifier = {
			political_power_gain = -0.1
		}

		remove_effect = {
			add_political_power = -25

			custom_effect_tooltip = CHI_fi_SOV_nationalize_investments_dec_EXPL1

			set_temp_variable = {
				var = CHI_SOV_lvl_of_influence_VAR
				value = SOV.CHI_lvl_of_influence_VAR
			}

			multiply_temp_variable = {
				var = CHI_SOV_lvl_of_influence_VAR
				value = -0.01
			}

			add_stability = CHI_SOV_lvl_of_influence_VAR

			custom_effect_tooltip = CHI_fi_add_factories_based_on_lvl_of_invest_EXPL

			set_temp_variable = {
				var = CHI_SOV_lvl_of_investments_civ_VAR
				value = SOV.CHI_lvl_of_investment_VAR
			}

			multiply_temp_variable = {
				var = CHI_SOV_lvl_of_investments_civ_VAR
				value = 0.5
			}

			add_offsite_building = { type = industrial_complex level = CHI_SOV_lvl_of_investments_civ_VAR }

			set_temp_variable = {
				var = CHI_SOV_lvl_of_investments_doc_VAR
				value = SOV.CHI_lvl_of_investment_VAR
			}

			multiply_temp_variable = {
				var = CHI_SOV_lvl_of_investments_doc_VAR
				value = 0.25
			}

			add_offsite_building = { type = dockyard level = CHI_SOV_lvl_of_investments_doc_VAR }

			SOV = {
				effect_tooltip = {
					add_political_power = -50

					add_stability = -0.01
					add_war_support = 0.025
				}

				country_event = umc_chi_inv.30

				custom_effect_tooltip = CHI_fi_nationalize_investments_dec_EXPL1

				clr_country_flag = ROOT_will_invest_in_CHI_FLAG
			}
		}

		ai_will_do = {
			factor = 1
		}
	}
	CHI_fi_SOV_INV_nationalize_investments_mis = {
		allowed = {
			tag = SOV
		}

		available = {
			always = no
		}

		activation = {
			always = no
		}

		is_good = no

		days_mission_timeout = 60

		timeout_effect = {
			effect_tooltip = {
				add_political_power = -50

				add_stability = -0.01
				add_war_support = 0.025

				country_event = umc_chi_inv.30
			}
		}
	}

	CHI_fi_JAP_nationalize_investments_dec = {

		icon = generic_operation

		allowed = {
			tag = CHI
		}

		visible = {
			JAP = {
				check_variable = {
					var = CHI_lvl_of_investment_VAR
					value = 0
					compare = greater_than
				}
			}
		}

		available = {

		}

		cost = 150

		days_remove = 60

		complete_effect = {
			JAP = {
				add_stability = -0.005
				activate_mission = CHI_fi_USA_INV_nationalize_investments_mis
			}
		}

		modifier = {
			political_power_gain = -0.1
		}

		remove_effect = {
			add_political_power = -25

			custom_effect_tooltip = CHI_fi_JAP_nationalize_investments_dec_EXPL1

			set_temp_variable = {
				var = CHI_JAP_lvl_of_influence_VAR
				value = JAP.CHI_lvl_of_influence_VAR
			}

			multiply_temp_variable = {
				var = CHI_JAP_lvl_of_influence_VAR
				value = -0.01
			}

			add_stability = CHI_JAP_lvl_of_influence_VAR

			custom_effect_tooltip = CHI_fi_add_factories_based_on_lvl_of_invest_EXPL

			set_temp_variable = {
				var = CHI_JAP_lvl_of_investments_civ_VAR
				value = JAP.CHI_lvl_of_investment_VAR
			}

			multiply_temp_variable = {
				var = CHI_JAP_lvl_of_investments_civ_VAR
				value = 0.5
			}

			add_offsite_building = { type = industrial_complex level = CHI_JAP_lvl_of_investments_civ_VAR }

			set_temp_variable = {
				var = CHI_JAP_lvl_of_investments_doc_VAR
				value = JAP.CHI_lvl_of_investment_VAR
			}

			multiply_temp_variable = {
				var = CHI_JAP_lvl_of_investments_doc_VAR
				value = 0.25
			}

			add_offsite_building = { type = dockyard level = CHI_JAP_lvl_of_investments_doc_VAR }

			JAP = {
				effect_tooltip = {
					add_political_power = -50

					add_stability = -0.01
					add_war_support = 0.025
				}

				country_event = umc_chi_inv.30

				custom_effect_tooltip = CHI_fi_nationalize_investments_dec_EXPL1

				clr_country_flag = ROOT_will_invest_in_CHI_FLAG
			}
		}

		ai_will_do = {
			factor = 1
		}
	}
	CHI_fi_JAP_INV_nationalize_investments_mis = {
		allowed = {
			tag = JAP
		}

		available = {
			always = no
		}

		activation = {
			always = no
		}

		is_good = no

		days_mission_timeout = 60

		timeout_effect = {
			effect_tooltip = {
				add_political_power = -50

				add_stability = -0.01
				add_war_support = 0.025

				country_event = umc_chi_inv.30
			}
		}
	}

	CHI_fi_TUR_nationalize_investments_dec = {

		icon = generic_operation

		allowed = {
			tag = CHI
		}

		visible = {
			TUR = {
				check_variable = {
					var = CHI_lvl_of_investment_VAR
					value = 0
					compare = greater_than
				}
			}
		}

		available = {

		}

		cost = 150

		days_remove = 60

		complete_effect = {
			TUR = {
				add_stability = -0.005
				activate_mission = CHI_fi_USA_INV_nationalize_investments_mis
			}
		}

		modifier = {
			political_power_gain = -0.1
		}

		remove_effect = {
			add_political_power = -25

			custom_effect_tooltip = CHI_fi_TUR_nationalize_investments_dec_EXPL1

			set_temp_variable = {
				var = CHI_TUR_lvl_of_influence_VAR
				value = TUR.CHI_lvl_of_influence_VAR
			}

			multiply_temp_variable = {
				var = CHI_TUR_lvl_of_influence_VAR
				value = -0.01
			}

			add_stability = CHI_TUR_lvl_of_influence_VAR

			custom_effect_tooltip = CHI_fi_add_factories_based_on_lvl_of_invest_EXPL

			set_temp_variable = {
				var = CHI_TUR_lvl_of_investments_civ_VAR
				value = TUR.CHI_lvl_of_investment_VAR
			}

			multiply_temp_variable = {
				var = CHI_TUR_lvl_of_investments_civ_VAR
				value = 0.5
			}

			add_offsite_building = { type = industrial_complex level = CHI_TUR_lvl_of_investments_civ_VAR }

			set_temp_variable = {
				var = CHI_TUR_lvl_of_investments_doc_VAR
				value = TUR.CHI_lvl_of_investment_VAR
			}

			multiply_temp_variable = {
				var = CHI_TUR_lvl_of_investments_doc_VAR
				value = 0.25
			}

			add_offsite_building = { type = dockyard level = CHI_TUR_lvl_of_investments_doc_VAR }

			TUR = {
				effect_tooltip = {
					add_political_power = -50

					add_stability = -0.01
					add_war_support = 0.025
				}

				country_event = umc_chi_inv.30

				custom_effect_tooltip = CHI_fi_nationalize_investments_dec_EXPL1

				clr_country_flag = ROOT_will_invest_in_CHI_FLAG
			}
		}

		ai_will_do = {
			factor = 1
		}
	}
	CHI_fi_TUR_INV_nationalize_investments_mis = {
		allowed = {
			tag = TUR
		}

		available = {
			always = no
		}

		activation = {
			always = no
		}

		is_good = no

		days_mission_timeout = 60

		timeout_effect = {
			effect_tooltip = {
				add_political_power = -50

				add_stability = -0.01
				add_war_support = 0.025

				country_event = umc_chi_inv.30
			}
		}
	}

	CHI_fi_BRA_nationalize_investments_dec = {

		icon = generic_operation

		allowed = {
			tag = CHI
		}

		visible = {
			BRA = {
				check_variable = {
					var = CHI_lvl_of_investment_VAR
					value = 0
					compare = greater_than
				}
			}
		}

		available = {

		}

		cost = 150

		days_remove = 60

		complete_effect = {
			BRA = {
				add_stability = -0.005
				activate_mission = CHI_fi_USA_INV_nationalize_investments_mis
			}
		}

		modifier = {
			political_power_gain = -0.1
		}

		remove_effect = {
			add_political_power = -25

			custom_effect_tooltip = CHI_fi_BRA_nationalize_investments_dec_EXPL1

			set_temp_variable = {
				var = CHI_BRA_lvl_of_influence_VAR
				value = BRA.CHI_lvl_of_influence_VAR
			}

			multiply_temp_variable = {
				var = CHI_BRA_lvl_of_influence_VAR
				value = -0.01
			}

			add_stability = CHI_BRA_lvl_of_influence_VAR

			custom_effect_tooltip = CHI_fi_add_factories_based_on_lvl_of_invest_EXPL

			set_temp_variable = {
				var = CHI_BRA_lvl_of_investments_civ_VAR
				value = BRA.CHI_lvl_of_investment_VAR
			}

			multiply_temp_variable = {
				var = CHI_BRA_lvl_of_investments_civ_VAR
				value = 0.5
			}

			add_offsite_building = { type = industrial_complex level = CHI_BRA_lvl_of_investments_civ_VAR }

			set_temp_variable = {
				var = CHI_BRA_lvl_of_investments_doc_VAR
				value = BRA.CHI_lvl_of_investment_VAR
			}

			multiply_temp_variable = {
				var = CHI_BRA_lvl_of_investments_doc_VAR
				value = 0.25
			}

			add_offsite_building = { type = dockyard level = CHI_BRA_lvl_of_investments_doc_VAR }

			BRA = {
				effect_tooltip = {
					add_political_power = -50

					add_stability = -0.01
					add_war_support = 0.025
				}

				country_event = umc_chi_inv.30

				custom_effect_tooltip = CHI_fi_nationalize_investments_dec_EXPL1

				clr_country_flag = ROOT_will_invest_in_CHI_FLAG
			}
		}

		ai_will_do = {
			factor = 1
		}
	}
	CHI_fi_BRA_INV_nationalize_investments_mis = {
		allowed = {
			tag = BRA
		}

		available = {
			always = no
		}

		activation = {
			always = no
		}

		is_good = no

		days_mission_timeout = 60

		timeout_effect = {
			effect_tooltip = {
				add_political_power = -50

				add_stability = -0.01
				add_war_support = 0.025

				country_event = umc_chi_inv.30
			}
		}
	}

	CHI_fi_AST_nationalize_investments_dec = {

		icon = generic_operation

		allowed = {
			tag = CHI
		}

		visible = {
			AST = {
				check_variable = {
					var = CHI_lvl_of_investment_VAR
					value = 0
					compare = greater_than
				}
			}
		}

		available = {

		}

		cost = 150

		days_remove = 60

		complete_effect = {
			AST = {
				add_stability = -0.005
				activate_mission = CHI_fi_USA_INV_nationalize_investments_mis
			}
		}

		modifier = {
			political_power_gain = -0.1
		}

		remove_effect = {
			add_political_power = -25

			custom_effect_tooltip = CHI_fi_AST_nationalize_investments_dec_EXPL1

			set_temp_variable = {
				var = CHI_AST_lvl_of_influence_VAR
				value = AST.CHI_lvl_of_influence_VAR
			}

			multiply_temp_variable = {
				var = CHI_AST_lvl_of_influence_VAR
				value = -0.01
			}

			add_stability = CHI_AST_lvl_of_influence_VAR

			custom_effect_tooltip = CHI_fi_add_factories_based_on_lvl_of_invest_EXPL

			set_temp_variable = {
				var = CHI_AST_lvl_of_investments_civ_VAR
				value = AST.CHI_lvl_of_investment_VAR
			}

			multiply_temp_variable = {
				var = CHI_AST_lvl_of_investments_civ_VAR
				value = 0.5
			}

			add_offsite_building = { type = industrial_complex level = CHI_AST_lvl_of_investments_civ_VAR }

			set_temp_variable = {
				var = CHI_AST_lvl_of_investments_doc_VAR
				value = AST.CHI_lvl_of_investment_VAR
			}

			multiply_temp_variable = {
				var = CHI_AST_lvl_of_investments_doc_VAR
				value = 0.25
			}

			add_offsite_building = { type = dockyard level = CHI_AST_lvl_of_investments_doc_VAR }

			AST = {
				effect_tooltip = {
					add_political_power = -50

					add_stability = -0.01
					add_war_support = 0.025
				}

				country_event = umc_chi_inv.30

				custom_effect_tooltip = CHI_fi_nationalize_investments_dec_EXPL1

				clr_country_flag = ROOT_will_invest_in_CHI_FLAG
			}
		}

		ai_will_do = {
			factor = 1
		}
	}
	CHI_fi_AST_INV_nationalize_investments_mis = {
		allowed = {
			tag = AST
		}

		available = {
			always = no
		}

		activation = {
			always = no
		}

		is_good = no

		days_mission_timeout = 60

		timeout_effect = {
			effect_tooltip = {
				add_political_power = -50

				add_stability = -0.01
				add_war_support = 0.025

				country_event = umc_chi_inv.30
			}
		}
	}



	### INV DEVELOP branch
	CHI_fi_INV_develop_steel_dec = {

		icon = steel

		allowed = {
			OR = {
				tag = ENG
				tag = FRA
				tag = GER
				tag = ITA
				tag = SOV
				tag = JAP
				tag = USA

				tag = TUR
				tag = BRA
				tag = AST
			}
		}

		visible = {
			NOT = { has_war_with = CHI }

			has_country_flag = ROOT_will_invest_in_CHI_FLAG

			CHI = {
				any_owned_state = {
					has_resources_amount = {
						resource = steel
						amount > 1
					}
				}
			}
		}

		available = {
			custom_trigger_tooltip = {
				tooltip = CHI_fi_INV_is_not_already_investing_in_CHI_TRIG

				NOT = { has_decision = CHI_fi_INV_develop_aluminium_dec }
				NOT = { has_decision = CHI_fi_INV_develop_tungsten_dec }
				NOT = { has_decision = CHI_fi_INV_develop_chromium_dec }
				NOT = { has_decision = CHI_fi_INV_develop_oil_dec }
			}

			num_of_civilian_factories_available_for_projects > 3
		}

		cost = 0

		days_remove = 90

		modifier = {
			civilian_factory_use = 3
		}

		remove_effect = {
			add_to_variable = {
				var = CHI_lvl_of_investment_VAR
				value = 1
			}

			if = {
				limit = {
					OR = {
						check_variable = {
							var = CHI_lvl_of_investment_VAR
							value = 3
							compare = equals
						}
						check_variable = {
							var = CHI_lvl_of_investment_VAR
							value = 6
							compare = equals
						}
						check_variable = {
							var = CHI_lvl_of_investment_VAR
							value = 9
							compare = equals
						}
						check_variable = {
							var = CHI_lvl_of_investment_VAR
							value = 12
							compare = equals
						}
						check_variable = {
							var = CHI_lvl_of_investment_VAR
							value = 15
							compare = equals
						}
					}
				}

				add_political_power = 25
				add_offsite_building = { type = industrial_complex level = 1 }

				custom_effect_tooltip = CHI_INV_receive_influence_two_EXPL

				add_to_variable = {
					var = CHI_lvl_of_influence_VAR
					value = 2
				}

				CHI = {
					add_political_power = 10
					add_stability = -0.003

					random_owned_controlled_state = {
						limit = {
							has_resources_amount = {
								resource = steel
								amount > 1
							}
						}

						add_extra_state_shared_building_slots = 1
						add_building_construction = {
							type = industrial_complex
							level = 1
							instant_build = yes
						}
						add_resource = {
							type = steel
							amount = 2
						}
					}
				}
			}
			else = {
				add_political_power = 15

				custom_effect_tooltip = CHI_INV_receive_influence_one_EXPL

				add_to_variable = {
					var = CHI_lvl_of_influence_VAR
					value = 1
				}

				custom_effect_tooltip = CHI_INV_receive_civ_EXPL

				CHI = {
					add_political_power = 10
					add_stability = -0.002

					random_owned_controlled_state = {
						limit = {
							has_resources_amount = {
								resource = steel
								amount > 1
							}
						}

						add_resource = {
							type = steel
							amount = 2
						}
					}
				}
			}
		}

		ai_will_do = {
			factor = 1
		}
	}

	CHI_fi_INV_develop_aluminium_dec = {

		icon = aluminium

		allowed = {
			OR = {
				tag = ENG
				tag = FRA
				tag = GER
				tag = ITA
				tag = SOV
				tag = JAP
				tag = USA

				tag = TUR
				tag = BRA
				tag = AST
			}
		}

		visible = {
			NOT = { has_war_with = CHI }

			has_country_flag = ROOT_will_invest_in_CHI_FLAG

			CHI = {
				any_owned_state = {
					has_resources_amount = {
						resource = aluminium
						amount > 1
					}
				}
			}
		}

		available = {
			custom_trigger_tooltip = {
				tooltip = CHI_fi_INV_is_not_already_investing_in_CHI_TRIG

				NOT = { has_decision = CHI_fi_INV_develop_steel_dec }
				NOT = { has_decision = CHI_fi_INV_develop_tungsten_dec }
				NOT = { has_decision = CHI_fi_INV_develop_chromium_dec }
				NOT = { has_decision = CHI_fi_INV_develop_oil_dec }
			}

			num_of_civilian_factories_available_for_projects > 3
		}

		cost = 0

		days_remove = 90

		modifier = {
			civilian_factory_use = 3
		}

		remove_effect = {
			add_to_variable = {
				var = CHI_lvl_of_investment_VAR
				value = 1
			}

			if = {
				limit = {
					OR = {
						check_variable = {
							var = CHI_lvl_of_investment_VAR
							value = 3
							compare = equals
						}
						check_variable = {
							var = CHI_lvl_of_investment_VAR
							value = 6
							compare = equals
						}
						check_variable = {
							var = CHI_lvl_of_investment_VAR
							value = 9
							compare = equals
						}
						check_variable = {
							var = CHI_lvl_of_investment_VAR
							value = 12
							compare = equals
						}
						check_variable = {
							var = CHI_lvl_of_investment_VAR
							value = 15
							compare = equals
						}
					}
				}

				add_political_power = 25
				add_offsite_building = { type = industrial_complex level = 1 }

				custom_effect_tooltip = CHI_INV_receive_influence_two_EXPL

				add_to_variable = {
					var = CHI_lvl_of_influence_VAR
					value = 2
				}

				CHI = {
					add_political_power = 10
					add_stability = -0.003

					random_owned_controlled_state = {
						limit = {
							has_resources_amount = {
								resource = aluminium
								amount > 1
							}
						}

						add_extra_state_shared_building_slots = 1
						add_building_construction = {
							type = industrial_complex
							level = 1
							instant_build = yes
						}
						add_resource = {
							type = aluminium
							amount = 2
						}
					}

				}
			}
			else = {
				add_political_power = 15

				custom_effect_tooltip = CHI_INV_receive_influence_one_EXPL

				add_to_variable = {
					var = CHI_lvl_of_influence_VAR
					value = 1
				}

				custom_effect_tooltip = CHI_INV_receive_civ_EXPL

				CHI = {
					add_political_power = 10
					add_stability = -0.002

					random_owned_controlled_state = {
						limit = {
							has_resources_amount = {
								resource = aluminium
								amount > 1
							}
						}

						add_resource = {
							type = aluminium
							amount = 2
						}
					}
				}
			}
		}

		ai_will_do = {
			factor = 1
		}
	}

	CHI_fi_INV_develop_tungsten_dec = {

		icon = tungsten

		allowed = {
			OR = {
				tag = ENG
				tag = FRA
				tag = GER
				tag = ITA
				tag = SOV
				tag = JAP
				tag = USA

				tag = TUR
				tag = BRA
				tag = AST
			}
		}

		visible = {
			NOT = { has_war_with = CHI }

			has_country_flag = ROOT_will_invest_in_CHI_FLAG

			CHI = {
				any_owned_state = {
					has_resources_amount = {
						resource = tungsten
						amount > 1
					}
				}
			}
		}

		available = {
			custom_trigger_tooltip = {
				tooltip = CHI_fi_INV_is_not_already_investing_in_CHI_TRIG

				NOT = { has_decision = CHI_fi_INV_develop_steel_dec }
				NOT = { has_decision = CHI_fi_INV_develop_aluminium_dec }
				NOT = { has_decision = CHI_fi_INV_develop_chromium_dec }
				NOT = { has_decision = CHI_fi_INV_develop_oil_dec }
			}

			num_of_civilian_factories_available_for_projects > 3
		}

		cost = 0

		days_remove = 90

		modifier = {
			civilian_factory_use = 3
		}

		remove_effect = {
			add_to_variable = {
				var = CHI_lvl_of_investment_VAR
				value = 1
			}

			if = {
				limit = {
					OR = {
						check_variable = {
							var = CHI_lvl_of_investment_VAR
							value = 3
							compare = equals
						}
						check_variable = {
							var = CHI_lvl_of_investment_VAR
							value = 6
							compare = equals
						}
						check_variable = {
							var = CHI_lvl_of_investment_VAR
							value = 9
							compare = equals
						}
						check_variable = {
							var = CHI_lvl_of_investment_VAR
							value = 12
							compare = equals
						}
						check_variable = {
							var = CHI_lvl_of_investment_VAR
							value = 15
							compare = equals
						}
					}
				}

				add_political_power = 25
				add_offsite_building = { type = industrial_complex level = 1 }

				custom_effect_tooltip = CHI_INV_receive_influence_two_EXPL

				add_to_variable = {
					var = CHI_lvl_of_influence_VAR
					value = 2
				}

				CHI = {
					add_political_power = 10
					add_stability = -0.003

					random_owned_controlled_state = {
						limit = {
							has_resources_amount = {
								resource = tungsten
								amount > 1
							}
						}

						add_extra_state_shared_building_slots = 1
						add_building_construction = {
							type = industrial_complex
							level = 1
							instant_build = yes
						}
						add_resource = {
							type = tungsten
							amount = 2
						}
					}
				}
			}
			else = {
				add_political_power = 15

				custom_effect_tooltip = CHI_INV_receive_influence_one_EXPL

				add_to_variable = {
					var = CHI_lvl_of_influence_VAR
					value = 1
				}

				custom_effect_tooltip = CHI_INV_receive_civ_EXPL

				CHI = {
					add_political_power = 10
					add_stability = -0.002

					random_owned_controlled_state = {
						limit = {
							has_resources_amount = {
								resource = tungsten
								amount > 1
							}
						}

						add_resource = {
							type = tungsten
							amount = 2
						}
					}
				}
			}
		}

		ai_will_do = {
			factor = 1
		}
	}

	CHI_fi_INV_develop_chromium_dec = {

		icon = chromium

		allowed = {
			OR = {
				tag = ENG
				tag = FRA
				tag = GER
				tag = ITA
				tag = SOV
				tag = JAP
				tag = USA

				tag = TUR
				tag = BRA
				tag = AST
			}
		}

		visible = {
			NOT = { has_war_with = CHI }

			has_country_flag = ROOT_will_invest_in_CHI_FLAG

			CHI = {
				any_owned_state = {
					has_resources_amount = {
						resource = chromium
						amount > 1
					}
				}
			}
		}

		available = {
			custom_trigger_tooltip = {
				tooltip = CHI_fi_INV_is_not_already_investing_in_CHI_TRIG

				NOT = { has_decision = CHI_fi_INV_develop_steel_dec }
				NOT = { has_decision = CHI_fi_INV_develop_aluminium_dec }
				NOT = { has_decision = CHI_fi_INV_develop_tungsten_dec }
				NOT = { has_decision = CHI_fi_INV_develop_oil_dec }
			}

			num_of_civilian_factories_available_for_projects > 3
		}

		cost = 0

		days_remove = 90

		modifier = {
			civilian_factory_use = 3
		}

		remove_effect = {
			add_to_variable = {
				var = CHI_lvl_of_investment_VAR
				value = 1
			}

			if = {
				limit = {
					OR = {
						check_variable = {
							var = CHI_lvl_of_investment_VAR
							value = 3
							compare = equals
						}
						check_variable = {
							var = CHI_lvl_of_investment_VAR
							value = 6
							compare = equals
						}
						check_variable = {
							var = CHI_lvl_of_investment_VAR
							value = 9
							compare = equals
						}
						check_variable = {
							var = CHI_lvl_of_investment_VAR
							value = 12
							compare = equals
						}
						check_variable = {
							var = CHI_lvl_of_investment_VAR
							value = 15
							compare = equals
						}
					}
				}

				add_political_power = 25
				add_offsite_building = { type = industrial_complex level = 1 }

				custom_effect_tooltip = CHI_INV_receive_influence_two_EXPL

				add_to_variable = {
					var = CHI_lvl_of_influence_VAR
					value = 2
				}

				CHI = {
					add_political_power = 10
					add_stability = -0.003

					random_owned_controlled_state = {
						limit = {
							has_resources_amount = {
								resource = chromium
								amount > 1
							}
						}

						add_extra_state_shared_building_slots = 1
						add_building_construction = {
							type = industrial_complex
							level = 1
							instant_build = yes
						}
						add_resource = {
							type = chromium
							amount = 2
						}
					}
				}
			}
			else = {
				add_political_power = 15

				custom_effect_tooltip = CHI_INV_receive_influence_one_EXPL

				add_to_variable = {
					var = CHI_lvl_of_influence_VAR
					value = 1
				}

				custom_effect_tooltip = CHI_INV_receive_civ_EXPL

				CHI = {
					add_political_power = 10
					add_stability = -0.002

					random_owned_controlled_state = {
						limit = {
							has_resources_amount = {
								resource = chromium
								amount > 1
							}
						}

						add_resource = {
							type = chromium
							amount = 2
						}
					}
				}
			}
		}

		ai_will_do = {
			factor = 1
		}
	}

	CHI_fi_INV_develop_oil_dec = {

		icon = oil

		allowed = {
			OR = {
				tag = ENG
				tag = FRA
				tag = GER
				tag = ITA
				tag = SOV
				tag = JAP
				tag = USA

				tag = TUR
				tag = BRA
				tag = AST
			}
		}

		visible = {
			NOT = { has_war_with = CHI }

			has_country_flag = ROOT_will_invest_in_CHI_FLAG

			CHI = {
				any_owned_state = {
					has_resources_amount = {
						resource = oil
						amount > 1
					}
				}
			}
		}

		available = {
			custom_trigger_tooltip = {
				tooltip = CHI_fi_INV_is_not_already_investing_in_CHI_TRIG

				NOT = { has_decision = CHI_fi_INV_develop_steel_dec }
				NOT = { has_decision = CHI_fi_INV_develop_aluminium_dec }
				NOT = { has_decision = CHI_fi_INV_develop_tungsten_dec }
				NOT = { has_decision = CHI_fi_INV_develop_chromium_dec }
			}

			num_of_civilian_factories_available_for_projects > 3
		}

		cost = 0

		days_remove = 90

		modifier = {
			civilian_factory_use = 3
		}

		remove_effect = {
			add_to_variable = {
				var = CHI_lvl_of_investment_VAR
				value = 1
			}

			if = {
				limit = {
					OR = {
						check_variable = {
							var = CHI_lvl_of_investment_VAR
							value = 3
							compare = equals
						}
						check_variable = {
							var = CHI_lvl_of_investment_VAR
							value = 6
							compare = equals
						}
						check_variable = {
							var = CHI_lvl_of_investment_VAR
							value = 9
							compare = equals
						}
						check_variable = {
							var = CHI_lvl_of_investment_VAR
							value = 12
							compare = equals
						}
						check_variable = {
							var = CHI_lvl_of_investment_VAR
							value = 15
							compare = equals
						}
					}
				}

				add_political_power = 25
				add_offsite_building = { type = industrial_complex level = 1 }

				custom_effect_tooltip = CHI_INV_receive_influence_two_EXPL

				add_to_variable = {
					var = CHI_lvl_of_influence_VAR
					value = 2
				}

				CHI = {
					add_political_power = 10
					add_stability = -0.003

					random_owned_controlled_state = {
						limit = {
							has_resources_amount = {
								resource = oil
								amount > 1
							}
						}

						add_extra_state_shared_building_slots = 1
						add_building_construction = {
							type = industrial_complex
							level = 1
							instant_build = yes
						}
						add_resource = {
							type = oil
							amount = 2
						}
					}
				}
			}
			else = {
				add_political_power = 15

				custom_effect_tooltip = CHI_INV_receive_influence_one_EXPL

				add_to_variable = {
					var = CHI_lvl_of_influence_VAR
					value = 1
				}

				custom_effect_tooltip = CHI_INV_receive_civ_EXPL

				CHI = {
					add_political_power = 10
					add_stability = -0.002

					random_owned_controlled_state = {
						limit = {
							has_resources_amount = {
								resource = oil
								amount > 1
							}
						}

						add_resource = {
							type = oil
							amount = 2
						}
					}
				}
			}
		}

		ai_will_do = {
			factor = 1
		}
	}



	### INV - USE INFLUENCE BRANCH
	CHI_fi_INV_political_concessions_dec = {

		icon = generic_decision

		allowed = {
			OR = {
				tag = USA
				tag = ENG
				tag = FRA
				tag = GER
				tag = ITA
				tag = SOV
				tag = JAP

				tag = TUR
				tag = BRA
				tag = AST
			}
		}

		visible = {

		}

		available = {
			custom_trigger_tooltip = {
				tooltip = CHI_fi_has_at_least_three_influence_TRIG

				check_variable = {
					var = CHI_lvl_of_influence_VAR
					value = 2
					compare = greater_than
				}
			}
		}

		cost = 0
		fire_only_once = yes

		modifier = {

		}

		complete_effect = {
			add_political_power = 100

			subtract_from_variable = {
				var = CHI_lvl_of_influence_VAR
				value = 3
			}

			custom_effect_tooltip = CHI_reduce_influence_three_EXPL

			CHI = {
				add_political_power = -25
				add_stability = -0.005

				add_relation_modifier = {
					target = ROOT
					modifier = CHI_INV_politico_economic_concessions_MOD
				}
			}
		}

		ai_will_do = {
			factor = 1
		}
	}

	CHI_fi_INV_demand_control_over_mines_dec = {

		icon = generic_decision

		allowed = {
			OR = {
				tag = USA
				tag = ENG
				tag = FRA
				tag = GER
				tag = ITA
				tag = SOV
				tag = JAP

				tag = TUR
				tag = BRA
				tag = AST
			}
		}

		visible = {

		}

		available = {
			custom_trigger_tooltip = {
				tooltip = CHI_fi_has_at_least_eight_influence_TRIG

				check_variable = {
					var = CHI_lvl_of_influence_VAR
					value = 7
					compare = greater_than
				}
			}

			OR = {
				606 = {
					is_owned_and_controlled_by = CHI
					NOT = { has_state_flag = CHI_rss_controled_by_INV_FLAG }
				}
				608 = {
					is_owned_and_controlled_by = CHI
					NOT = { has_state_flag = CHI_rss_controled_by_INV_FLAG }
				}
				716 = {
					is_owned_and_controlled_by = CHI
					NOT = { has_state_flag = CHI_rss_controled_by_INV_FLAG }
				}
				599 = {
					is_owned_and_controlled_by = CHI
					NOT = { has_state_flag = CHI_rss_controled_by_INV_FLAG }
				}
				593 = {
					is_owned_and_controlled_by = CHI
					NOT = { has_state_flag = CHI_rss_controled_by_INV_FLAG }
				}
				592 = {
					is_owned_and_controlled_by = CHI
					NOT = { has_state_flag = CHI_rss_controled_by_INV_FLAG }
				}
				594 = {
					is_owned_and_controlled_by = CHI
					NOT = { has_state_flag = CHI_rss_controled_by_INV_FLAG }
				}
				714 = {
					is_owned_and_controlled_by = CHI
					NOT = { has_state_flag = CHI_rss_controled_by_INV_FLAG }
				}
			}
		}

		cost = 50

		modifier = {

		}

		complete_effect = {
			subtract_from_variable = {
				var = CHI_lvl_of_influence_VAR
				value = 10
			}

			custom_effect_tooltip = CHI_reduce_influence_ten_EXPL

			country_event = umc_chi_inv.40

			custom_effect_tooltip = UMC_event_will_have_following_effects_tt

			custom_effect_tooltip = CHI_fi_INV_demand_control_over_mines_dec_EXPL
		}

		ai_will_do = {
			factor = 1
		}
	}

	CHI_fi_INV_demand_lend_lease_of_port_city_dec = {

		icon = generic_decision

		allowed = {
			OR = {
				tag = USA
				tag = ENG
				tag = FRA
				tag = GER
				tag = ITA
				tag = SOV
				tag = JAP

				tag = TUR
				tag = BRA
				tag = AST
			}
		}

		visible = {

		}

		available = {
			custom_trigger_tooltip = {
				tooltip = CHI_fi_has_at_least_fifteen_influence_TRIG

				check_variable = {
					var = CHI_lvl_of_influence_VAR
					value = 14
					compare = greater_than
				}
			}

			CHI = {
				OR = {
					has_full_control_of_state = 745
					has_full_control_of_state = 856
					has_full_control_of_state = 743

					has_full_control_of_state = 883
					has_full_control_of_state = 884
					has_full_control_of_state = 326

					has_full_control_of_state = 729
					has_full_control_of_state = 728
					has_full_control_of_state = 890
				}
			}
		}

		cost = 150

		complete_effect = {
			subtract_from_variable = {
				var = CHI_lvl_of_influence_VAR
				value = 15
			}

			custom_effect_tooltip = CHI_reduce_influence_fifteen_EXPL

			country_event = umc_chi_inv.50

			custom_effect_tooltip = UMC_event_will_have_following_effects_tt

			custom_effect_tooltip = CHI_fi_INV_demand_lend_lease_of_port_city_dec_EXPL
		}

		ai_will_do = {
			factor = 1
		}
	}

	CHI_fi_INV_support_kai_shek_opposition_dec = {

		icon = generic_political_discourse

		allowed = {
			always = no

			OR = {
				tag = USA
				tag = ENG
				tag = FRA
				tag = GER
				tag = ITA
				tag = SOV
				tag = JAP

				tag = TUR
				tag = BRA
				tag = AST
			}
		}

		visible = {

		}

		available = {
			custom_trigger_tooltip = {
				tooltip = CHI_fi_has_at_least_fifteen_influence_TRIG

				check_variable = {
					var = CHI_lvl_of_influence_VAR
					value = 14
					compare = greater_than
				}
			}

			any_other_country = {
				NOT = { has_decision = CHI_fi_INV_support_kai_shek_opposition_dec }
			}
		}

		cost = 300
		days_remove = 180

		complete_effect = {
			add_threat = 1

			add_war_support = 0.01

			unlock_decision_tooltip = CHI_fi_INV_support_kai_shek_opposition_pp_dec
			unlock_decision_tooltip = CHI_fi_INV_support_kai_shek_opposition_guns_dec
			unlock_decision_tooltip = CHI_fi_INV_support_kai_shek_opposition_factories_dec

			custom_effect_tooltip = CHI_fi_INV_support_kai_shek_opposition_dec_EXPL1

			CHI = {
				effect_tooltip = {
					add_political_power = -50
					add_stability = -0.025
				}

				activate_decision = CHI_fi_support_kai_shek_opposition_dec

				country_event = umc_chi_inv.60

				custom_effect_tooltip = CHI_fi_INV_support_kai_shek_opposition_dec_EXPL2
			}

			every_country = {
				limit = {
					has_country_flag = ROOT_will_invest_in_CHI_FLAG
					NOT = { tag = ROOT }
				}

				effect_tooltip = {
					add_political_power = -15
					add_stability = -0.01
				}

				country_event = umc_chi_inv.70

				custom_effect_tooltip = CHI_fi_INV_support_kai_shek_opposition_dec_EXPL3
			}
		}

		modifier = {

		}

		remove_effect = {
			add_threat = 3

			add_political_power = 100

			### FASCISM
			if = {
				limit = {
					has_government = fascism
					CHI = { NOT = { has_government = fascism } }
				}

				CHI = {
					add_stability = -0.05

					start_civil_war = {
						ideology = fascism
						size = 0.20
						capital = 596
						states = {
							596
						}
						keep_unit_leaders_trigger = {
							always = yes
						}
					}
				}
			}
			else_if = {
				limit = {
					has_government = fascism
					CHI = { has_government = fascism }
				}

				CHI = {
					add_stability = -0.05

					start_civil_war = {
						ideology = neutrality
						size = 0.20
						capital = 596
						states = {
							596
						}
						keep_unit_leaders_trigger = {
							always = yes
						}
					}
				}
			}

			### COMMUNISM
			if = {
				limit = {
					has_government = communism
					CHI = { NOT = { has_government = communism } }
				}

				CHI = {
					add_stability = -0.05

					start_civil_war = {
						ideology = communism
						size = 0.20
						capital = 596
						states = {
							596
						}
						keep_unit_leaders_trigger = {
							always = yes
						}
					}
				}
			}
			else_if = {
				limit = {
					has_government = communism
					CHI = { has_government = communism }
				}

				CHI = {
					add_stability = -0.05

					start_civil_war = {
						ideology = democratic
						size = 0.20
						capital = 596
						states = {
							596
						}
						keep_unit_leaders_trigger = {
							always = yes
						}
					}
				}
			}

			### DEMOCRATIC
			if = {
				limit = {
					has_government = democratic
					CHI = { NOT = { has_government = democratic } }
				}

				CHI = {
					add_stability = -0.05

					start_civil_war = {
						ideology = democratic
						size = 0.20
						capital = 596
						states = {
							596
						}
						keep_unit_leaders_trigger = {
							always = yes
						}
					}
				}
			}
			else_if = {
				limit = {
					has_government = democratic
					CHI = { has_government = democratic }
				}

				CHI = {
					add_stability = -0.05

					start_civil_war = {
						ideology = neutrality
						size = 0.20
						capital = 596
						states = {
							596
						}
						keep_unit_leaders_trigger = {
							always = yes
						}
					}
				}
			}

			### NEUTRALITY
			if = {
				limit = {
					has_government = neutrality
					CHI = { NOT = { has_government = neutrality } }
				}

				CHI = {
					add_stability = -0.05

					start_civil_war = {
						ideology = neutrality
						size = 0.20
						capital = 596
						states = {
							596
						}
						keep_unit_leaders_trigger = {
							always = yes
						}
					}
				}
			}
			else_if = {
				limit = {
					has_government = neutrality
					CHI = { has_government = neutrality }
				}

				CHI = {
					add_stability = -0.05

					start_civil_war = {
						ideology = fascism
						size = 0.20
						capital = 596
						states = {
							596
						}
						keep_unit_leaders_trigger = {
							always = yes
						}
					}
				}
			}
		}

		ai_will_do = {
			factor = 1
		}
	}

	### INV - DECISIONS to keep INFLUENCE above 15
	CHI_fi_INV_support_kai_shek_opposition_pp_dec = {

		icon = generic_break_treaty

		allowed = {
			OR = {
				tag = USA
				tag = ENG
				tag = FRA
				tag = GER
				tag = ITA
				tag = SOV
				tag = JAP

				tag = TUR
				tag = BRA
				tag = AST
			}
		}

		visible = {
			has_decision = CHI_fi_INV_support_kai_shek_opposition_dec
		}

		available = {
			has_decision = CHI_fi_INV_support_kai_shek_opposition_dec
		}

		cost = 150
		days_remove = 25

		remove_effect = {
			custom_effect_tooltip = CHI_INV_receive_influence_three_EXPL

			add_to_variable = {
				var = CHI_lvl_of_influence_VAR
				value = 3
			}
		}

		ai_will_do = {
			factor = 3
		}
	}
	CHI_fi_INV_support_kai_shek_opposition_guns_dec = {

		icon = generic_industry

		allowed = {
			OR = {
				tag = USA
				tag = ENG
				tag = FRA
				tag = GER
				tag = ITA
				tag = SOV
				tag = JAP

				tag = TUR
				tag = BRA
				tag = AST
			}
		}

		visible = {
			has_decision = CHI_fi_INV_support_kai_shek_opposition_dec
		}

		available = {
			has_decision = CHI_fi_INV_support_kai_shek_opposition_dec

			has_equipment = {
				infantry_equipment > 4999
			}
		}

		cost = 0
		days_remove = 35

		complete_effect = {
			add_equipment_to_stockpile = {
				type = infantry_equipment
				amount = -5000
			}
		}

		remove_effect = {
			custom_effect_tooltip = CHI_INV_receive_influence_two_EXPL

			add_to_variable = {
				var = CHI_lvl_of_influence_VAR
				value = 2
			}
		}

		ai_will_do = {
			factor = 3
		}
	}
	CHI_fi_INV_support_kai_shek_opposition_factories_dec = {

		icon = generic_construction

		allowed = {
			OR = {
				tag = USA
				tag = ENG
				tag = FRA
				tag = GER
				tag = ITA
				tag = SOV
				tag = JAP

				tag = TUR
				tag = BRA
				tag = AST
			}
		}

		visible = {
			has_decision = CHI_fi_INV_support_kai_shek_opposition_dec
		}

		available = {
			has_decision = CHI_fi_INV_support_kai_shek_opposition_dec

			any_owned_state = {
				arms_factory > 1
			}
		}

		cost = 0
		days_remove = 35

		complete_effect = {
			random_owned_controlled_state = {
				remove_building = {
					type = arms_factory
					level = 2
				}
			}
		}

		remove_effect = {
			custom_effect_tooltip = CHI_INV_receive_influence_two_EXPL

			add_to_variable = {
				var = CHI_lvl_of_influence_VAR
				value = 2
			}
		}

		ai_will_do = {
			factor = 3
		}
	}

	CHI_fi_support_kai_shek_opposition_dec = {
		allowed = {
			tag = CHI
		}

		available = {
			always = no
		}

		activation = {
			always = no
		}

		is_good = no

		days_mission_timeout = 180

		timeout_effect = {
			effect_tooltip = {

			}
		}
	}
}

#Category only allowed for all china
#Category visible when PRC_coalition_government focus is completed for PRC
#Category visible when CHI_join_the_republican_government focus is completed for warlord

#Variables and flags and targets to know about
#Event target WTT_current_china_leader
#State variable for amount Support Points gained: state_political_support_value
#State flag: majority_political_platform_<TAG> for whoever has majority in the state
#Country flag: wtt_political_struggle for all countries involved in the struggle

#Variables:
#days_remove = global.days_add_support?1337 #DAYS_UNTIL_SUPPORRT_IN_STATE_IS_ADDED
#days_remove = global.days_remove_support?1337 #DAYS_UNTIL_REMOVE_SUPPORT



#Nat China
#595 "Fujian"
#596 "Zhejiang"
#597 "Shandong"
#598 "Jiangsu"
#600 "Jiangxi"
#601 "Xikang"
#602 "Hunan"
#603 "Guizhou"
#605 "Sichuan"
#606 "Anhui"
#607 "Henan"
#608 "Beijing"
#613 "Shanghai"
#614 "Hebei"
#620 "Hubei"

#Shanxi
#615 "Shanxi"
#621 "Suiyuan"

#Com China
#622 "Shaanxi"

#Xibei San Ma
#283 "Gansu"
#604 "Qinghai"
#616 "Ningxia"

#Sinkiang
#287 "Taklamakan"
#617 "Urumqi"
#618 "Dzungaria"
#619 "Yarkand"

#Yunnan
#325 "Yunnan"

#Guangxi Clique
#591 "Hainan"
#592 "Guangzhou"
#593 "Guangdong"
#594 "Nanning"
#599 "Guangxi"

#KMT_dcat_postal_romanisation = {
#
#	KMT_postal_romanisation_decision = {
#		icon = generic_decision
#		visible = {
#			NOT = { has_global_flag = KMT_use_postal_romanisation }
#		}
#
#		available = {
#			always = yes
#		}
#
#		ai_will_do = {
#			base = 1000
#		}
#
#		days_remove = 0
#		days_re_enable = 0
#
#		cost = 0
#
#		complete_effect = {
#			custom_effect_tooltip = KMT_use_postal_romanisation_tt
#			hidden_effect = {
#				283 = { set_state_name = KMT_postal_STATE_283 }
#				592 = { set_state_name = KMT_postal_STATE_592 }
#				593 = { set_state_name = KMT_postal_STATE_593 }
#				595 = { set_state_name = KMT_postal_STATE_595 }
#				596 = { set_state_name = KMT_postal_STATE_596 }
#				597 = { set_state_name = KMT_postal_STATE_597 }
#				598 = { set_state_name = KMT_postal_STATE_598 }
#				599 = { set_state_name = KMT_postal_STATE_599 }
#				600 = { set_state_name = KMT_postal_STATE_600 }
#				601 = { set_state_name = KMT_postal_STATE_601 }
#				603 = { set_state_name = KMT_postal_STATE_603 }
#				604 = { set_state_name = KMT_postal_STATE_604 }
#				605 = { set_state_name = KMT_postal_STATE_605 }
#				607 = { set_state_name = KMT_postal_STATE_607 }
#				608 = { set_state_name = KMT_postal_STATE_608 }
#				609 = { set_state_name = KMT_postal_STATE_609 }
#				613 = { set_state_name = KMT_postal_STATE_613 }
#				614 = { set_state_name = KMT_postal_STATE_614 }
#				615 = { set_state_name = KMT_postal_STATE_615 }
#				616 = { set_state_name = KMT_postal_STATE_616 }
#				620 = { set_state_name = KMT_postal_STATE_620 }
#				622 = { set_state_name = KMT_postal_STATE_622 }
#				728 = { set_state_name = KMT_postal_STATE_728 }
#				743 = { set_state_name = KMT_10000_postal }
#				744 = { set_state_name = KMT_postal_STATE_752 }
#				if = {
#					limit = {
#						745 = {
#							has_state_flag = renaming_decided
#						}
#					}
#					745 = {
#						set_state_name = KMT_1150_postal 
#					}
#				}
#				747 = { set_state_name = KMT_7965_postal }
#				748 = { set_state_name = KMT_10763_postal }
#				749 = { set_state_name = KMT_12019_postal }
#				750 = { set_state_name = KMT_10757_postal }
#				753 = { set_state_name = KMT_2045_postal }
#				754 = { set_state_name = KMT_10490_postal }
#				755 = { set_state_name = KMT_2099_postal }
#				756 = { set_state_name = KMT_2028_postal }
#				775 = { set_state_name = KMT_postal_STATE_775 }
#				763 = { set_state_name = KMT_postal_STATE_763 }
#				767 = { set_state_name = KMT_postal_STATE_754 }
#				770 = { set_state_name = KMT_postal_STATE_757 }
#				772 = { set_state_name = KMT_postal_STATE_759 }
#				773 = { set_state_name = KMT_postal_STATE_760 }
#				774 = { set_state_name = KMT_postal_STATE_761 }
#				set_province_name = { id = 1200 name = KMT_1200_postal }
#				set_province_name = { id = 4181 name = KMT_4181_postal }
#				set_province_name = { id = 12069 name = KMT_12069_postal }
#				set_province_name = { id = 7109 name = KMT_7109_postal }
#				set_province_name = { id = 4190 name = KMT_4190_postal }
#				set_province_name = { id = 1168 name = KMT_1168_postal }
#				set_province_name = { id = 1055 name = KMT_1055_postal }
#				set_province_name = { id = 7108 name = KMT_7108_postal }
#				set_province_name = { id = 9963 name = KMT_9963_postal }
#				set_province_name = { id = 7067 name = KMT_7067_postal }
#				set_province_name = { id = 10057 name = KMT_10057_postal }
#				set_province_name = { id = 11920 name = KMT_11920_postal }
#				set_province_name = { id = 10335 name = KMT_10335_postal }
#				set_province_name = { id = 10040 name = KMT_10040_postal }
#				set_province_name = { id = 10098 name = KMT_10098_postal }
#				set_province_name = { id = 7158 name = KMT_7158_postal }
#				set_province_name = { id = 10474 name = KMT_10474_postal }
#				set_province_name = { id = 7167 name = KMT_7167_postal }
#				set_province_name = { id = 10757 name = KMT_10757_postal }
#				set_province_name = { id = 12436 name = KMT_12436_postal }
#				set_province_name = { id = 4028 name = KMT_4028_postal }
#				set_province_name = { id = 1018 name = KMT_1018_postal }
#				set_province_name = { id = 10763 name = KMT_10763_postal }
#				set_province_name = { id = 11972 name = KMT_11972_postal }
#				set_province_name = { id = 8026 name = KMT_8026_postal }
#				set_province_name = { id = 1976 name = KMT_1976_postal }
#				set_province_name = { id = 8081 name = KMT_8081_postal }
#				set_province_name = { id = 7911 name = KMT_7911_postal }
#				set_province_name = { id = 1630 name = KMT_1630_postal }
#				set_province_name = { id = 2028 name = KMT_2028_postal }
#				set_province_name = { id = 1383 name = KMT_1383_postal }
#				set_province_name = { id = 11986 name = KMT_11986_postal }
#				set_province_name = { id = 3900 name = KMT_3900_postal }
#				set_province_name = { id = 4809 name = KMT_4809_postal }
#				set_province_name = { id = 7633 name = KMT_7633_postal }
#				set_province_name = { id = 4503 name = KMT_4503_postal }
#				set_province_name = { id = 1638 name = KMT_1638_postal }
#				set_province_name = { id = 10612 name = KMT_10612_postal }
#				set_province_name = { id = 1588 name = KMT_1588_postal }
#				set_province_name = { id = 1545 name = KMT_1545_postal }
#				set_province_name = { id = 11906 name = KMT_11906_postal }
#				set_province_name = { id = 10397 name = KMT_10397_postal }
#				set_province_name = { id = 9938 name = KMT_9938_postal }
#				set_province_name = { id = 1395 name = KMT_1395_postal }
#				set_province_name = { id = 2045 name = KMT_2045_postal }
#				set_province_name = { id = 1474 name = KMT_1474_postal }
#				set_province_name = { id = 12086 name = KMT_12086_postal }
#				set_province_name = { id = 8049 name = KMT_8049_postal }
#				set_province_name = { id = 12014 name = KMT_12014_postal }
#				set_province_name = { id = 9942 name = KMT_9942_postal }
#				set_province_name = { id = 11913 name = KMT_11913_postal }
#				set_province_name = { id = 7191 name = KMT_7191_postal }
#				set_province_name = { id = 9974 name = KMT_9974_postal }
#				set_province_name = { id = 4196 name = KMT_4196_postal }
#				set_province_name = { id = 0.771 name = KMT_7071_postal }
#				set_province_name = { id = 1047 name = KMT_1047_postal }
#				set_province_name = { id = 10404 name = KMT_10404_postal }
#				set_province_name = { id = 7965 name = KMT_7965_postal }
#				set_province_name = { id = 4504 name = KMT_4504_postal }
#				set_province_name = { id = 7101 name = KMT_7101_postal }
#				set_province_name = { id = 6999 name = KMT_6999_postal }
#				set_province_name = { id = 9958 name = KMT_9958_postal }
#				set_province_name = { id = 9843 name = KMT_9843_postal }
#				set_province_name = { id = 4495 name = KMT_4495_postal }
#				set_province_name = { id = 1150 name = KMT_1150_postal }
#				set_province_name = { id = 10068 name = KMT_10068_postal }
#				set_province_name = { id = 10000 name = KMT_10000_postal }
#				set_province_name = { id = 1627 name = KMT_1627_postal }
#				set_province_name = { id = 6837 name = KMT_6837_postal }
#				set_province_name = { id = 11764 name = KMT_11764_postal }
#				set_province_name = { id = 11822 name = KMT_11822_postal }
#				set_province_name = { id = 1069 name = KMT_1069_postal }
#				set_province_name = { id = 1070 name = KMT_1070_postal }
#				set_province_name = { id = 12019 name = KMT_12019_postal }
#				set_province_name = { id = 2099 name = KMT_2099_postal }
#				set_province_name = { id = 10490 name = KMT_10490_postal }
#				if = {
#					limit = {
#						has_global_flag = renaming_decided12068
#					}
#					set_province_name = { id = 12068 name = KMT_12068_postal }
#				}
#			}
#			set_global_flag = KMT_use_postal_romanisation
#		}
#	}
#}

KMT_dcat_incompetent_industry = {

	KMT_lower_incompetent_industry_1 = {
		icon = generic_construction
		visible = {
			has_idea = incompetent_industry_real
		}

		available = {
			has_idea = incompetent_industry_real
			has_tech = basic_machine_tools
			OR = {
				has_tech = concentrated_industry
				has_tech = dispersed_industry
			}
			has_tech = construction1
			OR = {
				AND = {
					num_of_factories > 50
					has_war = no
				}
				AND = {
					num_of_factories > 65
					has_defensive_war = yes
				}
				AND = {
					num_of_factories > 75
					has_offensive_war = yes
				}
			}
		}

		ai_will_do = {
			base = 1000
		}

		days_remove = 0
		days_re_enable = 0

		cost = 50

		complete_effect = {
			custom_effect_tooltip = KMT_lower_incompetent_industry_tt
			hidden_effect = {
				swap_ideas = {
					remove_idea = incompetent_industry_real
					add_idea = incompetent_industry_real_2
				}
			}
			if = {
				limit = {
					has_idea = incompetent_industry_real_navy
				}
				custom_effect_tooltip = KMT_lower_incompetent_naval_industry_tt
				hidden_effect = {
					swap_ideas = {
						remove_idea = incompetent_industry_real_navy
						add_idea = incompetent_industry_real_2_navy
					}
				}
			}
			if = {
				limit = {
					has_idea = KMT_camco_assembly_plants_1
				}
				swap_ideas = {
					remove_idea = KMT_camco_assembly_plants_1
					add_idea = KMT_camco_assembly_plants_2
				}
			}
			random_owned_controlled_state = {
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
				add_extra_state_shared_building_slots = 1
			}
			random_owned_controlled_state = {
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
				add_extra_state_shared_building_slots = 1
			}
		}

	}

	KMT_lower_incompetent_industry_2 = {
		icon = generic_construction
		visible = {
			has_idea = incompetent_industry_real_2
		}

		available = {
			has_idea = incompetent_industry_real_2
			has_tech = improved_machine_tools
			OR = {
				has_tech = concentrated_industry2
				has_tech = dispersed_industry2
			}
			has_tech = construction2
			OR = {
				AND = {
					num_of_factories > 70
					has_war = no
				}
				AND = {
					num_of_factories > 80
					has_defensive_war = yes
				}
				AND = {
					num_of_factories > 90
					has_offensive_war = yes
				}
			}
			custom_trigger_tooltip = {
				tooltip = KMT_has_weaker_public_iliteracy_tt
				NOT = {
					has_idea = public_iliteracy
				}
			}
			custom_trigger_tooltip = {
				tooltip = KMT_has_3_lowered_lack_skilled_personnel_tt
				NOT = {
					has_idea = PRC_lack_skilled_personnel
					has_idea = PRC_lack_skilled_personnel_1
					has_idea = PRC_lack_skilled_personnel_2
				}
			}
		}

		ai_will_do = {
			base = 1000
		}

		days_remove = 0
		days_re_enable = 0

		cost = 50

		complete_effect = {
			custom_effect_tooltip = KMT_lower_incompetent_industry_tt
			hidden_effect = {
				swap_ideas = {
					remove_idea = incompetent_industry_real_2
					add_idea = incompetent_industry_real_3
				}
			}
			if = {
				limit = {
					has_idea = incompetent_industry_real_2_navy
				}
				custom_effect_tooltip = KMT_lower_incompetent_naval_industry_tt
				hidden_effect = {
					swap_ideas = {
						remove_idea = incompetent_industry_real_2_navy
						add_idea = incompetent_industry_real_3_navy
					}
				}
			}
			if = {
				limit = {
					has_idea = KMT_camco_assembly_plants_2
				}
				swap_ideas = {
					remove_idea = KMT_camco_assembly_plants_2
					add_idea = KMT_camco_assembly_plants_3
				}
			}
			random_owned_controlled_state = {
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
				add_extra_state_shared_building_slots = 1
			}
			random_owned_controlled_state = {
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
				add_extra_state_shared_building_slots = 1
			}
		}

	}

	KMT_lower_incompetent_industry_3 = {
		icon = generic_construction
		visible = {
			has_idea = incompetent_industry_real_3
		}

		available = {
			has_idea = incompetent_industry_real_3
			has_tech = advanced_machine_tools
			OR = {
				has_tech = concentrated_industry3
				has_tech = dispersed_industry3
			}
			has_tech = construction3
			OR = {
				AND = {
					num_of_factories > 90
					has_war = no
				}
				AND = {
					num_of_factories > 115
					has_defensive_war = yes
				}
				AND = {
					num_of_factories > 125
					has_offensive_war = yes
				}
			}
			custom_trigger_tooltip = {
				tooltip = KMT_has_weaker_public_iliteracy_tt
				NOT = {
					has_idea = public_iliteracy
				}
			}
			custom_trigger_tooltip = {
				tooltip = KMT_has_6_lowered_lack_skilled_personnel_tt
				NOT = {
					has_idea = PRC_lack_skilled_personnel
					has_idea = PRC_lack_skilled_personnel_1
					has_idea = PRC_lack_skilled_personnel_2
					has_idea = PRC_lack_skilled_personnel_3
					has_idea = PRC_lack_skilled_personnel_4
					has_idea = PRC_lack_skilled_personnel_5
				}
			}
		}

		ai_will_do = {
			base = 1000
		}

		days_remove = 0
		days_re_enable = 0

		cost = 50

		complete_effect = {
			custom_effect_tooltip = KMT_lower_incompetent_industry_tt
			hidden_effect = {
				swap_ideas = {
					remove_idea = incompetent_industry_real_3
					add_idea = incompetent_industry_real_4
				}
			}
			if = {
				limit = {
					has_idea = incompetent_industry_real_3_navy
				}
				custom_effect_tooltip = KMT_lower_incompetent_naval_industry_tt
				hidden_effect = {
					swap_ideas = {
						remove_idea = incompetent_industry_real_3_navy
						add_idea = incompetent_industry_real_4_navy
					}
				}
			}
			if = {
				limit = {
					has_idea = KMT_camco_assembly_plants_4
				}
				remove_ideas = KMT_camco_assembly_plants_4
			}
			random_owned_controlled_state = {
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
				add_extra_state_shared_building_slots = 1
			}
			random_owned_controlled_state = {
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
				add_extra_state_shared_building_slots = 1
			}
		}

	}

	KMT_lower_incompetent_industry_4 = {
		icon = generic_construction
		visible = {
			has_idea = incompetent_industry_real_4
		}

		available = {
			has_idea = incompetent_industry_real_4
			has_tech = assembly_line_production
			OR = {
				has_tech = concentrated_industry4
				has_tech = dispersed_industry4
			}
			has_tech = construction4
			OR = {
				AND = {
					num_of_factories > 110
					has_war = no
				}
				AND = {
					num_of_factories > 140
					has_defensive_war = yes
				}
				AND = {
					num_of_factories > 150
					has_offensive_war = yes
				}
			}
			custom_trigger_tooltip = {
				tooltip = KMT_no_public_iliteracy_tt
				NOT = {
					has_idea = public_iliteracy
					has_idea = public_iliteracy_2
				}
			}
			custom_trigger_tooltip = {
				tooltip = KMT_has_9_lowered_lack_skilled_personnel_tt
			}
			hidden_trigger = {
				NOT = {
					has_idea = PRC_lack_skilled_personnel
					has_idea = PRC_lack_skilled_personnel_1
					has_idea = PRC_lack_skilled_personnel_2
					has_idea = PRC_lack_skilled_personnel_3
					has_idea = PRC_lack_skilled_personnel_4
					has_idea = PRC_lack_skilled_personnel_5
					has_idea = PRC_lack_skilled_personnel_6
					has_idea = PRC_lack_skilled_personnel_7
					has_idea = PRC_lack_skilled_personnel_8
				}
			}
		}

		ai_will_do = {
			base = 1000
		}

		days_remove = 0
		days_re_enable = 0

		cost = 50

		complete_effect = {
			custom_effect_tooltip = KMT_lower_incompetent_industry_tt
			hidden_effect = {
				swap_ideas = {
					remove_idea = incompetent_industry_real_4
					add_idea = incompetent_industry_real_5
				}
			}
			if = {
				limit = {
					has_idea = incompetent_industry_real_4_navy
				}
				custom_effect_tooltip = KMT_lower_incompetent_naval_industry_tt
				hidden_effect = {
					swap_ideas = {
						remove_idea = incompetent_industry_real_4_navy
						add_idea = incompetent_industry_real_5_navy
					}
				}
			}
			random_owned_controlled_state = {
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
				add_extra_state_shared_building_slots = 1
			}
			random_owned_controlled_state = {
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
				add_extra_state_shared_building_slots = 1
			}
		}

	}

	KMT_lower_incompetent_industry_5 = {
		icon = generic_construction
		visible = {
			has_idea = incompetent_industry_real_5
		}

		available = {
			has_idea = incompetent_industry_real_5
			OR = {
				has_tech = flexible_line
				has_tech = streamlined_line
			}
			OR = {
				has_tech = concentrated_industry5
				has_tech = dispersed_industry5
			}
			has_tech = construction5
			OR = {
				AND = {
					num_of_factories > 130
					has_war = no
				}
				AND = {
					num_of_factories > 170
					has_defensive_war = yes
				}
				AND = {
					num_of_factories > 190
					has_offensive_war = yes
				}
			}
			custom_trigger_tooltip = {
				tooltip = KMT_no_public_iliteracy_tt
				NOT = {
					has_idea = public_iliteracy
					has_idea = public_iliteracy_2
				}
			}
			custom_trigger_tooltip = {
				tooltip = KMT_no_lack_skilled_personnel_tt
			}
			hidden_trigger = {
				NOT = {
					has_idea = PRC_lack_skilled_personnel
					has_idea = PRC_lack_skilled_personnel_1
					has_idea = PRC_lack_skilled_personnel_2
					has_idea = PRC_lack_skilled_personnel_3
					has_idea = PRC_lack_skilled_personnel_4
					has_idea = PRC_lack_skilled_personnel_5
					has_idea = PRC_lack_skilled_personnel_6
					has_idea = PRC_lack_skilled_personnel_7
					has_idea = PRC_lack_skilled_personnel_9
					has_idea = PRC_lack_skilled_personnel_10
				}
			}
		}

		ai_will_do = {
			base = 1000
		}

		days_remove = 0
		days_re_enable = 0

		cost = 50

		complete_effect = {
			add_stability = 0.01
			add_war_support = 0.01
			remove_ideas = incompetent_industry_real_5
			if = {
				limit = {
					has_idea = incompetent_industry_real_5_navy
				}
				remove_ideas = incompetent_industry_real_5_navy
			}
			random_owned_controlled_state = {
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
				add_extra_state_shared_building_slots = 1
			}
			random_owned_controlled_state = {
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
				add_extra_state_shared_building_slots = 1
			}
		}

	}
}

KMT_dcat_incompetent_army = {

	KMT_lower_incompetent_army_1 = {
		icon = generic_prepare_civil_war
		visible = {
			OR = {
				has_idea = KMT_weak_army
				has_idea = KMT_weak_army_lesser
				has_idea = KMT_weak_army_lesserer
			}
		}

		available = {
			has_army_experience > 349
		}

		ai_will_do = {
			factor = 1000
		}

		days_remove = 0
		days_re_enable = 0

		cost = 50

		complete_effect = {
			army_experience = -500
			if = {
				limit = {
					has_idea = KMT_weak_army
				}
				swap_ideas = {
					remove_idea = KMT_weak_army
					add_idea = KMT_weak_army_lesser
				}
				else = {
					if = {
						limit = {
							has_idea = KMT_weak_army_lesser
						}
						swap_ideas = {
							remove_idea = KMT_weak_army_lesser
							add_idea = KMT_weak_army_lesserer
						}
						else = {
							if = {
								limit = {
									has_idea = KMT_weak_army_lesserer
								}
								remove_ideas = KMT_weak_army_lesserer
							}
						}
					}
				}
			}
		}
	}

	KMT_extensive_drilling = {
		icon = generic_industry
		visible = {
			has_completed_focus = KMT_army_reform
		}


		ai_will_do = {
			factor = 10
			modifier = {
				OR = {
					has_idea = KMT_weak_army
					has_idea = KMT_weak_army_lesser
					has_idea = KMT_weak_army_lesserer
				}
				has_war = no
				add = 100
			}
			modifier = {
				has_war = yes
				add = -8
			}
			modifier = {
				any_country = {
					is_major = yes
					has_war_with = ROOT
				}
				factor = 0
			}
		}

		days_remove = 365
		days_re_enable = 0

		fire_only_once = yes

		cost = 50

		modifier = {
			experience_gain_army = 0.07
			experience_gain_army_factor = 0.5
			army_morale_factor = -0.05
			army_org_factor = -0.05
		}

		complete_effect = {
		}

		remove_effect = {
			set_country_flag = KMT_extensive_drilling_finished
		}
	}

	KMT_tighten_up_recruitment_standard = {
		icon = generic_political_discourse
		visible = {
			has_completed_focus = KMT_army_reform
		}


		ai_will_do = {
			factor = 10
			modifier = {
				OR = {
					has_idea = KMT_weak_army
					has_idea = KMT_weak_army_lesser
					has_idea = KMT_weak_army_lesserer
				}
				has_war = no
				add = 100
			}
			modifier = {
				has_war = yes
				add = -8
			}
			modifier = {
				any_country = {
					is_major = yes
					has_war_with = ROOT
				}
				factor = 0
			}
		}

		days_remove = 365
		days_re_enable = 0

		fire_only_once = yes

		cost = 50

		modifier = {
			experience_gain_army = 0.07
			experience_gain_army_factor = 0.5
			conscription = -0.01
			conscription_factor = -0.1
		}

		complete_effect = {
		}

		remove_effect = {
			set_country_flag = KMT_tighten_up_recruitment_standard_finished
		}
	}

	KMT_officer_reshuffle = {
		icon = generic_army_support
		visible = {
			has_completed_focus = KMT_army_reform
		}


		ai_will_do = {
			factor = 10
			modifier = {
				OR = {
					has_idea = KMT_weak_army
					has_idea = KMT_weak_army_lesser
					has_idea = KMT_weak_army_lesserer
				}
				has_war = no
				add = 100
			}
			modifier = {
				has_war = yes
				add = -8
			}
			modifier = {
				any_country = {
					is_major = yes
					has_war_with = ROOT
				}
				factor = 0
			}
		}

		days_remove = 365
		days_re_enable = 0

		fire_only_once = yes

		cost = 50

		modifier = {
			experience_gain_army = 0.07
			experience_gain_army_factor = 0.5
			military_leader_cost_factor = 0.75
			planning_speed = -0.1
		}

		complete_effect = {
		}

		remove_effect = {
			set_country_flag = KMT_officer_reshuffle_finished
		}
	}

	KMT_extensive_drilling_plus = {
		icon = generic_industry
		visible = {
			has_completed_focus = KMT_army_reform
		}

		available = {
			has_country_flag = KMT_extensive_drilling_finished
		}

		ai_will_do = {
			factor = 100
		}

		days_remove = -1
		days_re_enable = 0

		cost = 75

		modifier = {
			experience_gain_army = 0.01
			training_time_army_factor = -0.1
		}
	}

	KMT_tighten_up_recruitment_standard_plus = {
		icon = generic_political_discourse
		visible = {
			has_completed_focus = KMT_army_reform
		}

		available = {
			has_country_flag = KMT_tighten_up_recruitment_standard_finished
		}

		ai_will_do = {
			factor = 100
		}

		days_remove = -1
		days_re_enable = 0

		cost = 75

		modifier = {
			army_org_factor = 0.025
			army_morale_factor = 0.025
		}
	}

	KMT_officer_reshuffle_plus = {
		icon = generic_army_support
		visible = {
			has_completed_focus = KMT_army_reform
		}

		available = {
			has_country_flag = KMT_officer_reshuffle_finished
		}

		ai_will_do = {
			factor = 100
		}

		days_remove = -1
		days_re_enable = 0

		cost = 75

		modifier = {
			max_planning = 0.05
			planning_speed = 0.1
		}
	}
}

KMT_dcat_national_treasure = {

	KMT_evacuate_national_treasures = {
		icon = generic_nationalism
		visible = {
			tag = CHI
			NOT = {
				has_country_flag = treasures_abroad
				has_country_flag = treasure_ransacked
			}
			event_target:KMT_treasure_state = {
				OR = {
					any_neighbor_state = {
						controller = {
							has_war_with = ROOT
							OR = {
								tag = JAP
								is_puppet_of = JAP
							}
							has_government = fascism
						}
					}
					controller = {
						has_war_with = ROOT
						OR = {
							tag = JAP
							is_puppet_of = JAP
						}
						has_government = fascism
					}
				}
			}
		}

		available = {
			always = yes
		}

		ai_will_do = {
			base = 10000
		}

		days_remove = 0
		days_re_enable = 0

		cost = 0

		complete_effect = {
			if = {
				limit = {
					event_target:KMT_treasure_state = { state = 769 }
				}
				clear_global_event_target = KMT_treasure_state
				605 = {
					save_global_event_target_as = KMT_treasure_state
					custom_effect_tooltip = KMT_will_be_destination_tt
				}
				else = {
					if = {
						limit = {
							event_target:KMT_treasure_state = { state = 605 }
						}
						clear_global_event_target = KMT_treasure_state
						325 = {
							save_global_event_target_as = KMT_treasure_state
							custom_effect_tooltip = KMT_will_be_destination_tt
						}
						else = {
							if = {
								limit = {
									event_target:KMT_treasure_state = { state = 325 }
								}
								clear_global_event_target = KMT_treasure_state
								add_timed_idea = {
									idea = KMT_treasure_abroad_idea
									days = 365
								}
								set_country_flag = treasures_abroad
							}
						}
					}
				}
			}
		}
	}

	KMT_treasures_will_be_ransacked = {

		icon = generic_operation

		visible = {
			tag = CHI
			NOT = {
				has_country_flag = treasures_abroad
				has_country_flag = treasure_ransacked
			}
			event_target:KMT_treasure_state = {
				OR = {
					any_neighbor_state = {
						controller = {
							has_war_with = ROOT
							OR = {
								tag = JAP
								is_puppet_of = JAP
							}
							has_government = fascism
						}
					}
					controller = {
						has_war_with = ROOT
						OR = {
							tag = JAP
							is_puppet_of = JAP
						}
						has_government = fascism
					}
				}
			}
		}

		allowed = {
			tag = CHI
		}

		available = {
			NOT = {
				event_target:KMT_treasure_state = {
					controller = {
						has_war_with = ROOT
						OR = {
							tag = JAP
							is_puppet_of = JAP
						}
						has_government = fascism
					}
				}
			}
		}

		days_mission_timeout = 5
		fire_only_once = no

		activation = {
			NOT = {
				has_country_flag = treasures_abroad
				has_country_flag = treasure_ransacked
			}
			event_target:KMT_treasure_state = {
				controller = {
					has_war_with = ROOT
					OR = {
						tag = JAP
						is_puppet_of = JAP
					}
					has_government = fascism
				}
			}
		}

		is_good = no

		complete_effect = {
		}

		timeout_effect = {
			country_event = {
				id = kmt.204
			}
		}

		ai_will_do = {
			factor = 1
		}
	}
}

KMT_dcat_rename_reconquered_cities = {

	KMT_rename_dairen = {
		icon = generic_decision
		visible = {
			owns_state = 745
			745 = {
				NOT = {
					has_state_flag = renaming_decided
				}
			}
		}

		available = {
			always = yes
		}

		ai_will_do = {
			base = 1000
		}

		days_remove = 0
		days_re_enable = 0

		cost = 5

		complete_effect = {
			add_stability = 0.01
			if = {
				limit = {
					has_global_flag = KMT_use_postal_romanisation
				}
				745 = { set_state_name = KMT_1150_postal }
				else = {
					745 = { set_state_name = VICTORY_POINTS_1150 }
				}
			}
			745 = {
				set_state_flag = renaming_decided
			}
		}
	}

	KMT_rename_takao = {
		icon = generic_decision
		visible = {
			NOT = {
				has_global_flag = renaming_decided12068
			}
			524 = {
				is_owned_by = ROOT
			}
		}

		available = {
			always = yes
		}

		ai_will_do = {
			base = 1000
		}

		days_remove = 0
		days_re_enable = 0

		cost = 5

		complete_effect = {
			add_stability = 0.01
			if = {
				limit = {
					has_global_flag = KMT_use_postal_romanisation
				}
				set_province_name = { id = 12068 name = KMT_12068_postal }
				else = {
					set_province_name = { id = 12068 name = VICTORY_POINTS_12068 }
				}
			}
			set_global_flag = renaming_decided12068
		}
	}

	KMT_rename_hsinking = {
		icon = generic_decision
		visible = {
			NOT = {
				has_global_flag = renaming_decided1567
			}
			328 = {
				is_owned_by = ROOT
			}
		}

		available = {
			always = yes
		}

		ai_will_do = {
			base = 1000
		}

		days_remove = 0
		days_re_enable = 0

		cost = 5

		complete_effect = {
			add_stability = 0.01
			set_province_name = { id = 1567 name = KMT_changchun }
			set_global_flag = renaming_decided1567
		}
	}

	KMT_rename_mukden = {
		icon = generic_decision
		visible = {
			NOT = {
				has_global_flag = renaming_decided11771
			}
			716 = {
				is_owned_by = ROOT
			}
		}

		available = {
			always = yes
		}

		ai_will_do = {
			base = 1000
		}

		days_remove = 0
		days_re_enable = 0

		cost = 5

		complete_effect = {
			add_stability = 0.01
			set_province_name = { id = 11771 name = KMT_shenyang }
			set_global_flag = renaming_decided11771
		}
	}

}

KMT_dcat_support_china = {

	KMT_construct_ledo_road = {
		icon = generic_construction
		visible = {
			tag = USA
			has_idea = KMT_assistance_to_CHI
		}

		available = {
			NOT = {
				has_war_with = CHI
			}
			has_capitulated = no
			is_puppet = no
			custom_trigger_tooltip = {
				tooltip = KMT_alone_or_peace_faction_tt
				is_alone_or_in_faction_at_peace_with_CHI = yes
			}
			has_idea = KMT_assistance_to_CHI
			CHI = {
				has_defensive_war_with = JAP
				OR = {
					custom_trigger_tooltip = {
						tooltip = KMT_not_controlling_any_coastal_state_tt
						NOT = {
							any_state = {
								is_controlled_by = PREV
								is_coastal = yes
							}
						}
					}
					surrender_progress > 0.24
					AND = {
						613 = {
							controller = { has_war_with = CHI }
						}
						608 = {
							controller = { has_war_with = CHI }
						}
					}
				}
			}
			NOT = {
				is_puppet_of = JAP
				is_in_faction_with = JAP
				has_non_aggression_pact_with = JAP
				has_war_with = CHI
				is_puppet_of = CHI
			}
			640 = {
				controller = {
					OR = {
						has_war_with = CHI
						has_war_with = ENG
					}
				}
			}
			766 = {
				controller = {
					NOT = {
						has_war_with = CHI
						has_war_with = USA
					}
				}
			}
			747 = {
				controller = {
					NOT = {
						has_war_with = CHI
						has_war_with = USA
					}
					OR = {
						tag = CHI
						is_in_faction_with = CHI
						is_puppet_of = CHI
						has_war_together_with = CHI
					}
				}
			}
		}

		ai_will_do = {
			base = 1000
		}

		days_remove = 600
		days_re_enable = 0

		cost = 5

		fire_only_once = yes

		modifier = {
			civilian_factory_use = 1
		}

		complete_effect = {
		}

		remove_effect = {
			if = {
				limit = {
					CHI = {
						has_defensive_war = yes
					}
				}
				CHI = {
					add_ideas = KMT_ledo_road_idea
					country_event = { id = kmt.516 }
				}
				USA = {
					country_event = { id = kmt.519 }
				}
			}
			766 = {
				add_building_construction = {
					type = infrastructure
					level = 2
					instant_build = yes
				}
				set_state_flag = CHI_needed_for_ledo_road
			}
			747 = {
				add_building_construction = {
					type = infrastructure
					level = 2
					instant_build = yes
				}
				set_state_flag = CHI_needed_for_ledo_road
			}
			288 = {
				set_state_flag = CHI_needed_for_ledo_road
			}
		}
	}

	KMT_FRA_retake_indochina = {
		icon = generic_operation
		visible = {
			tag = FRA
			CHI = {
				has_completed_focus = KMT_defense_of_indo_china
			}
			has_global_flag = KMT_FRA_transferred_indochina_to_CHI
			has_war = no
			is_subject = no
			CHI = {
				has_war = no
				is_subject = no
			}
		}

		fire_only_once = yes

		available = {
			NOT = {
				has_war_with = CHI
			}
			any_state = {
				OR = {
					state = 741
					state = 671
					state = 670
					state = 286
				}
				owner = {
					OR = {
						tag = CHI
						is_puppet_of = CHI
					}
				}
				controller = {
					OR = {
						tag = CHI
						is_puppet_of = CHI
					}
				}
			}
		}

		ai_will_do = {
			base = 1000
		}

		days_remove = 0
		days_re_enable = 0

		cost = 10

		modifier = {
		}

		complete_effect = {
			CHI = {
				country_event = { id = kmt.558 }
			}
		}

	}

	KMT_withdraw_support = {
		icon = generic_break_treaty
		visible = {
			has_idea = KMT_assistance_to_CHI
		}

		available = {
			always = yes
		}

		ai_will_do = {
			base = 0
			modifier = {
				add = 5
				has_opinion = {
					target = CHI
					value < -29
				}
			}
			modifier = {
				add = 5
				has_opinion = {
					target = CHI
					value < -34
				}
			}
			modifier = {
				add = 5
				has_opinion = {
					target = CHI
					value < -39
				}
			}
			modifier = {
				add = 5
				has_opinion = {
					target = CHI
					value < -44
				}
			}
			modifier = {
				add = 5
				has_opinion = {
					target = CHI
					value < -49
				}
			}
			modifier = {
				add = 5
				has_opinion = {
					target = CHI
					value < -54
				}
			}
			modifier = {
				add = 5
				has_opinion = {
					target = CHI
					value < -59
				}
			}
			modifier = {
				add = 5
				has_opinion = {
					target = CHI
					value < -64
				}
			}
			modifier = {
				add = 5
				has_opinion = {
					target = CHI
					value < -69
				}
			}
			modifier = {
				add = 5
				has_opinion = {
					target = CHI
					value < -74
				}
			}
			modifier = {
				add = 5
				has_opinion = {
					target = CHI
					value < -79
				}
			}
			modifier = {
				add = 10
				has_opinion = {
					target = CHI
					value < -84
				}
			}
			modifier = {
				add = 10
				has_opinion = {
					target = CHI
					value < -89
				}
			}
			modifier = {
				add = 10
				has_opinion = {
					target = CHI
					value < -94
				}
			}
			modifier = {
				add = 10
				has_opinion = {
					target = CHI
					value < -99
				}
			}
			modifier = {
				add = 100
				OR = {
					any_country = {
						is_in_faction_with = ROOT
						has_war_with = CHI
					}
					any_country = {
						is_in_faction_with = CHI
						has_war_with = ROOT
					}
				}
			}
			modifier = {
				add = 1000
				has_capitulated = yes
			}
		}

		days_remove = 0
		days_re_enable = 0

		cost = 5

		complete_effect = {
			add_political_power = -95
			add_stability = -0.05
			remove_ideas = KMT_assistance_to_CHI
			remove_opinion_modifier = {
				modifier = KMT_offered_assistance
				target = CHI
			}
			CHI = {
				remove_opinion_modifier = {
					modifier = KMT_offered_assistance
					target = ROOT
				}
				country_event = { id = kmt.538 }
			}
			if = {
				limit = {
					any_state = {
						controller = {
							OR = {
								tag = ROOT
								is_puppet_of = ROOT
							}
						}
						has_state_flag = CHI_needed_for_hanoi_route
						NOT = { has_state_flag = CHI_hanoi_route_closed_state }
					}
				}
				hidden_effect = {
					every_state = {
						limit = {
							has_state_flag = CHI_needed_for_hanoi_route
							NOT = { has_state_flag = CHI_hanoi_route_closed_state }
							OR = {
								is_controlled_by = ROOT
								CONTROLLER = { is_subject_of = ROOT }
							}
						}
						set_state_flag = CHI_hanoi_route_closed_state
					}
				}
				random_country = {
					#Country that had the route
					limit = {
						OR = {
							has_idea = KMT_yunnan_bahn_idea
							has_idea = KMT_yunnan_bahn_idea_closed
						}
					}
					country_event = { id = kmt_fsr.10 }
					custom_effect_tooltip = close_hanoi_route_explanation # Prints the contents of the CHI_hanoi_route_current_level variable
				}
			}
			if = {
				limit = {
					any_state = {
						controller = {
							OR = {
								tag = ROOT
								is_puppet_of = ROOT
							}
						}
						has_state_flag = CHI_the_hump_closed_state
						NOT = { has_state_flag = CHI_the_hump_closed_state }
					}
				}
				hidden_effect = {
					every_state = {
						limit = {
							has_state_flag = CHI_needed_for_the_hump
							NOT = { has_state_flag = CHI_the_hump_closed_state }
							OR = {
								is_controlled_by = ROOT
								CONTROLLER = { is_subject_of = ROOT }
							}
						}
						set_state_flag = CHI_the_hump_closed_state
					}
				}
				random_country = {
					#Country that had the route
					limit = {
						OR = {
							has_idea = KMT_the_hump_idea
							has_idea = KMT_the_hump_idea_closed
						}
					}
					country_event = { id = kmt_fsr.12 }
					custom_effect_tooltip = close_the_hump_explanation # Prints the contents of the CHI_the_hump_current_level variable
				}
			}
			if = {
				limit = {
					any_state = {
						controller = {
							OR = {
								tag = ROOT
								is_puppet_of = ROOT
							}
						}
						has_state_flag = CHI_needed_for_ledo_road
						NOT = { has_state_flag = CHI_ledo_road_closed_state }
					}
				}
				hidden_effect = {
					every_state = {
						limit = {
							has_state_flag = CHI_needed_for_ledo_road
							NOT = { has_state_flag = CHI_ledo_road_closed_state }
							OR = {
								is_controlled_by = ROOT
								CONTROLLER = { is_subject_of = ROOT }
							}
						}
						set_state_flag = CHI_ledo_road_closed_state
					}
				}
				random_country = {
					#Country that had the route
					limit = {
						OR = {
							has_idea = KMT_ledo_road_idea
							has_idea = KMT_ledo_road_idea_closed
						}
					}
					country_event = { id = kmt_fsr.6 }
					custom_effect_tooltip = close_ledo_road_explanation # Prints the contents of the CHI_ledo_road_current_level variable
				}
			}
			if = {
				limit = {
					any_state = {
						controller = {
							OR = {
								tag = ROOT
								is_puppet_of = ROOT
							}
						}
						has_state_flag = CHI_needed_for_burma_road
						NOT = { has_state_flag = CHI_burma_road_closed_state }
					}
				}
				hidden_effect = {
					every_state = {
						limit = {
							has_state_flag = CHI_needed_for_burma_road
							NOT = { has_state_flag = CHI_burma_road_closed_state }
							OR = {
								is_controlled_by = ROOT
								CONTROLLER = { is_subject_of = ROOT }
							}
						}
						set_state_flag = CHI_burma_road_closed_state
					}
				}
				random_country = {
					limit = {
						OR = {
							has_idea = KMT_burma_road_idea
							has_idea = KMT_burma_road_idea_closed
						}
					}
					country_event = { id = kmt_fsr.2 }
				}
			}
			set_country_flag = KMT_withdrew_support_from_chi
		}
	}
}

KMT_dcat_liberate_korea = {

	KMT_liberate_KOR = {
		icon = generic_independence

		visible = {
			OR = {
				AND = {
					OR = {
						divisions_in_state = {
							state = 525
							size > 0
						}
						controls_state = 525
					}
					525 = {
						OWNER = {
							NOT = { tag = ROOT }
							has_war_with = ROOT
						}
					}
				}
				AND = {
					OR = {
						divisions_in_state = {
							state = 527
							size > 0
						}
						controls_state = 527
					}
					527 = {
						OWNER = {
							NOT = { tag = ROOT }
							has_war_with = ROOT
						}
					}
				}
			}
			KOR = { exists = no }
		}

		available = {
			OR = {
				controls_state = 527
				controls_state = 525
			}
			KOR = { exists = no }
		}

		ai_will_do = {
			factor = 0
			modifier = {
				OR = {
					AND = {
						controls_state = 525
						controls_state = 527
					}
					AND = {
						controls_state = 525
						527 = {
							CONTROLLER = {
								NOT = {
									has_war_with = ROOT
									tag = ROOT
								}
							}
						}
					}
					AND = {
						controls_state = 527
						525 = {
							CONTROLLER = {
								NOT = {
									has_war_with = ROOT
									tag = ROOT
								}
							}
						}
					}
				}
				add = 1000
			}
		}

		days_remove = 0
		days_re_enable = 0

		cost = 0

		complete_effect = {
			add_war_support = 0.07
			527 = {
				OWNER = {
					save_event_target_as = KMT_liberate_KOR_527_old_owner
				}
			}
			525 = {
				OWNER = {
					save_event_target_as = KMT_liberate_KOR_525_old_owner
				}
			}
			if = {
				limit = {
					controls_state = 527
				}
				KOR = {
					transfer_state = 527
				}
				if = {
					limit = {
						event_target:KMT_liberate_KOR_527_old_owner = { has_war_with = ROOT }
					}
					event_target:KMT_liberate_KOR_527_old_owner = {
						KOR = {
							add_to_war = {
								targeted_alliance = ROOT
								enemy = PREV
							}
						}
					}
				}
			}
			if = {
				limit = {
					controls_state = 525
				}
				KOR = {
					transfer_state = 525
				}
				if = {
					limit = {
						event_target:KMT_liberate_KOR_525_old_owner = { has_war_with = ROOT }
					}
					event_target:KMT_liberate_KOR_525_old_owner = {
						KOR = {
							add_to_war = {
								targeted_alliance = ROOT
								enemy = PREV
							}
						}
					}
				}
			}
			if = {
				limit = {
					has_government = democratic
				}
				KOR = {
					set_politics = {
						ruling_party = democratic
						elections_allowed = no
					}
					add_popularity = {
						ideology = democratic
						popularity = 0.7
					}
				}
				else = {
					if = {
						limit = {
							has_government = communism
						}
						KOR = {
							set_politics = {
								ruling_party = communism
								elections_allowed = no
							}
							add_popularity = {
								ideology = communism
								popularity = 0.7
							}
						}
						else = {
							if = {
								limit = {
									has_government = fascism
								}
								KOR = {
									set_politics = {
										ruling_party = fascism
										elections_allowed = no
									}
									add_popularity = {
										ideology = fascism
										popularity = 0.7
									}
								}
								else = {
									if = {
										limit = {
											has_government = neutrality
										}
										KOR = {
											set_politics = {
												ruling_party = neutrality
												elections_allowed = no
											}
											add_popularity = {
												ideology = neutrality
												popularity = 0.7
											}
										}
									}
								}
							}
						}
					}
				}
			}
			KOR = {
				give_military_access = ROOT
			}
			give_military_access = KOR
			save_global_event_target_as = KMT_KOR_liberator
		}
	}

	KMT_liberate_KOR_puppet = {
		icon = generic_decision

		visible = {
			OR = {
				AND = {
					OR = {
						divisions_in_state = {
							state = 525
							size > 0
						}
						controls_state = 525
					}
					525 = {
						OWNER = {
							NOT = { tag = ROOT }
							has_war_with = ROOT
						}
					}
				}
				AND = {
					OR = {
						divisions_in_state = {
							state = 527
							size > 0
						}
						controls_state = 527
					}
					527 = {
						OWNER = {
							NOT = { tag = ROOT }
							has_war_with = ROOT
						}
					}
				}
			}
			KOR = { exists = no }
		}

		available = {
			OR = {
				controls_state = 527
				controls_state = 525
			}
			KOR = { exists = no }
		}

		ai_will_do = {
			base = 0
		}

		days_remove = 0
		days_re_enable = 0

		cost = 0

		complete_effect = {
			add_political_power = -200
			every_state = {
				limit = {
					OR = {
						state = 527
						state = 525
					}
					is_controlled_by = ROOT
				}
				KOR = {
					transfer_state = PREV
				}
			}
			if = {
				limit = {
					has_government = democratic
				}
				KOR = {
					set_politics = {
						ruling_party = democratic
						elections_allowed = no
					}
					add_popularity = {
						ideology = democratic
						popularity = 0.7
					}
				}
				else = {
					if = {
						limit = {
							has_government = communism
						}
						KOR = {
							set_politics = {
								ruling_party = communism
								elections_allowed = no
							}
							add_popularity = {
								ideology = communism
								popularity = 0.7
							}
						}
						else = {
							if = {
								limit = {
									has_government = fascism
								}
								KOR = {
									set_politics = {
										ruling_party = fascism
										elections_allowed = no
									}
									add_popularity = {
										ideology = fascism
										popularity = 0.7
									}
								}
								else = {
									if = {
										limit = {
											has_government = neutrality
										}
										KOR = {
											set_politics = {
												ruling_party = neutrality
												elections_allowed = no
											}
											add_popularity = {
												ideology = neutrality
												popularity = 0.7
											}
										}
									}
								}
							}
						}
					}
				}
			}
			puppet = KOR
			save_global_event_target_as = KMT_KOR_liberator
		}
	}

	KMT_liberate_DPK = {
		icon = generic_independence

		visible = {
			OR = {
				AND = {
					OR = {
						divisions_in_state = {
							state = 525
							size > 0
						}
						controls_state = 525
					}
					525 = {
						OWNER = {
							NOT = { tag = ROOT }
							has_war_with = ROOT
						}
					}
					KOR = { NOT = { owns_state = 525 } }
				}
				AND = {
					OR = {
						divisions_in_state = {
							state = 527
							size > 0
						}
						controls_state = 527
					}
					527 = {
						OWNER = {
							NOT = { tag = ROOT }
							has_war_with = ROOT
						}
					}
					KOR = { NOT = { owns_state = 527 } }
				}
			}
			KOR = { exists = yes }
			DPK = { exists = no }
			NOT = {
				tag = event_target:KMT_KOR_liberator
				KOR = { overlord = { tag = ROOT } }
				is_in_faction_with = KOR
				tag = KOR
			}
		}

		available = {
			OR = {
				controls_state = 527
				controls_state = 525
			}
			KOR = { exists = yes }
			DPK = { exists = no }
		}

		ai_will_do = {
			base = 0
			modifier = {
				KOR = { is_puppet = yes }
				OR = {
					has_opinion = {
						target = event_target:KMT_KOR_liberator
						value < -19
					}
					has_opinion = {
						target = KOR
						value < -19
					}
				}
				add = 25
			}
			modifier = {
				KOR = { is_puppet = yes }
				OR = {
					has_opinion = {
						target = event_target:KMT_KOR_liberator
						value < -29
					}
					has_opinion = {
						target = KOR
						value < -29
					}
				}
				add = 25
			}
			modifier = {
				KOR = { is_puppet = yes }
				OR = {
					has_opinion = {
						target = event_target:KMT_KOR_liberator
						value < -39
					}
					has_opinion = {
						target = KOR
						value < -39
					}
				}
				add = 25
			}
			modifier = {
				KOR = { is_puppet = yes }
				OR = {
					has_opinion = {
						target = event_target:KMT_KOR_liberator
						value < -49
					}
					has_opinion = {
						target = KOR
						value < -49
					}
				}
				add = 25
			}
			modifier = {
				KOR = { is_puppet = yes }
				OR = {
					has_opinion = {
						target = event_target:KMT_KOR_liberator
						value < -59
					}
					has_opinion = {
						target = KOR
						value < -59
					}
				}
				add = 50
			}
			modifier = {
				KOR = { is_puppet = yes }
				OR = {
					has_opinion = {
						target = event_target:KMT_KOR_liberator
						value < -69
					}
					has_opinion = {
						target = KOR
						value < -69
					}
				}
				add = 100
			}
			modifier = {
				KOR = { is_puppet = yes }
				OR = {
					has_opinion = {
						target = event_target:KMT_KOR_liberator
						value < -79
					}
					has_opinion = {
						target = KOR
						value < -79
					}
				}
				add = 500
			}
			modifier = {
				KOR = { is_puppet = yes }
				OR = {
					has_opinion = {
						target = event_target:KMT_KOR_liberator
						value < -89
					}
					has_opinion = {
						target = KOR
						value < -89
					}
				}
				add = 1000
			}
			modifier = {
				KOR = { is_puppet = yes }
				OR = {
					has_opinion = {
						target = event_target:KMT_KOR_liberator
						value < -99
					}
					has_opinion = {
						target = KOR
						value < -99
					}
				}
				add = 5000
			}
			modifier = {
				KOR = { is_puppet = yes }
				NOT = { has_government = neutrality }
				KOR = {
					same_ideo_with_ROOT = no
				}
				has_opinion = {
					target = KOR
					value < 40
				}
				add = 1000
			}
			modifier = {
				tag = JAP
				add = 0
			}
		}

		days_remove = 0
		days_re_enable = 0

		cost = 0

		complete_effect = {
			527 = {
				OWNER = {
					save_event_target_as = KMT_liberate_KOR_527_old_owner
				}
			}
			525 = {
				OWNER = {
					save_event_target_as = KMT_liberate_KOR_525_old_owner
				}
			}
			if = {
				limit = {
					controls_state = 527
				}
				DPK = {
					transfer_state = 527
				}
				if = {
					limit = {
						event_target:KMT_liberate_KOR_527_old_owner = { has_war_with = ROOT }
					}
					event_target:KMT_liberate_KOR_527_old_owner = {
						KOR = {
							add_to_war = {
								targeted_alliance = ROOT
								enemy = PREV
							}
						}
					}
				}
			}
			if = {
				limit = {
					controls_state = 525
				}
				DPK = {
					transfer_state = 525
				}
				if = {
					limit = {
						event_target:KMT_liberate_KOR_525_old_owner = { has_war_with = ROOT }
					}
					event_target:KMT_liberate_KOR_525_old_owner = {
						DPK = {
							add_to_war = {
								targeted_alliance = ROOT
								enemy = PREV
							}
						}
					}
				}
			}
			if = {
				limit = {
					has_government = democratic
				}
				DPK = {
					set_politics = {
						ruling_party = democratic
						elections_allowed = no
					}
					add_popularity = {
						ideology = democratic
						popularity = 0.7
					}
				}
				else = {
					if = {
						limit = {
							has_government = communism
						}
						DPK = {
							set_politics = {
								ruling_party = communism
								elections_allowed = no
							}
							add_popularity = {
								ideology = communism
								popularity = 0.7
							}
						}
						else = {
							if = {
								limit = {
									has_government = fascism
								}
								DPK = {
									set_politics = {
										ruling_party = fascism
										elections_allowed = no
									}
									add_popularity = {
										ideology = fascism
										popularity = 0.7
									}
								}
								else = {
									if = {
										limit = {
											has_government = neutrality
										}
										DPK = {
											set_politics = {
												ruling_party = neutrality
												elections_allowed = no
											}
											add_popularity = {
												ideology = neutrality
												popularity = 0.7
											}
										}
									}
								}
							}
						}
					}
				}
			}
			every_state = {
				limit = {
					is_core_of = KOR
				}
				add_core_of = DPK
			}
			KOR = {
				add_opinion_modifier = {
					modifier = hostile_status
					target = ROOT
				}
				add_opinion_modifier = {
					modifier = hostile_status
					target = DPK
				}
			}
			DPK = {
				add_opinion_modifier = {
					modifier = hostile_status
					target = event_target:KMT_KOR_liberator
				}
				add_opinion_modifier = {
					modifier = hostile_status
					target = KOR
				}
			}
			DPK = {
				give_military_access = ROOT
			}
			give_military_access = DPK
			hidden_effect = {
				if = {
					limit = {
						OR = {
							AND = {
								KOR = { has_government = democratic }
								DPK = { has_government = democratic }
							}
							AND = {
								KOR = { has_government = fascism }
								DPK = { has_government = fascism }
							}
							AND = {
								KOR = { has_government = communism }
								DPK = { has_government = communism }
							}
							AND = {
								KOR = { has_government = neutrality }
								DPK = { has_government = neutrality }
							}
						}
					}
					DPK = { retire_country_leader = yes }
				}
			}
		}

	}

	KMT_liberate_DPK_puppet = {
		icon = generic_decision

		visible = {
			OR = {
				AND = {
					OR = {
						divisions_in_state = {
							state = 525
							size > 0
						}
						controls_state = 525
					}
					525 = {
						OWNER = {
							NOT = { tag = ROOT }
							has_war_with = ROOT
						}
					}
					KOR = { NOT = { owns_state = 525 } }
				}
				AND = {
					OR = {
						divisions_in_state = {
							state = 527
							size > 0
						}
						controls_state = 527
					}
					527 = {
						OWNER = {
							NOT = { tag = ROOT }
							has_war_with = ROOT
						}
					}
					KOR = { NOT = { owns_state = 527 } }
				}
			}
			KOR = { exists = yes }
			DPK = { exists = no }
			NOT = {
				tag = event_target:KMT_KOR_liberator
				KOR = { overlord = { tag = ROOT } }
				is_in_faction_with = KOR
				tag = KOR
			}
		}

		available = {
			OR = {
				controls_state = 527
				controls_state = 525
			}
			KOR = { exists = yes }
			DPK = { exists = no }
		}

		ai_will_do = {
			base = 0
			modifier = {
				OR = {
					has_opinion = {
						target = event_target:KMT_KOR_liberator
						value < -19
					}
					has_opinion = {
						target = KOR
						value < -19
					}
				}
				add = 25
			}
			modifier = {
				OR = {
					has_opinion = {
						target = event_target:KMT_KOR_liberator
						value < -29
					}
					has_opinion = {
						target = KOR
						value < -29
					}
				}
				add = 25
			}
			modifier = {
				OR = {
					has_opinion = {
						target = event_target:KMT_KOR_liberator
						value < -39
					}
					has_opinion = {
						target = KOR
						value < -39
					}
				}
				add = 25
			}
			modifier = {
				OR = {
					has_opinion = {
						target = event_target:KMT_KOR_liberator
						value < -49
					}
					has_opinion = {
						target = KOR
						value < -49
					}
				}
				add = 25
			}
			modifier = {
				OR = {
					has_opinion = {
						target = event_target:KMT_KOR_liberator
						value < -59
					}
					has_opinion = {
						target = KOR
						value < -59
					}
				}
				add = 50
			}
			modifier = {
				OR = {
					has_opinion = {
						target = event_target:KMT_KOR_liberator
						value < -69
					}
					has_opinion = {
						target = KOR
						value < -69
					}
				}
				add = 100
			}
			modifier = {
				OR = {
					has_opinion = {
						target = event_target:KMT_KOR_liberator
						value < -79
					}
					has_opinion = {
						target = KOR
						value < -79
					}
				}
				add = 500
			}
			modifier = {
				OR = {
					has_opinion = {
						target = event_target:KMT_KOR_liberator
						value < -89
					}
					has_opinion = {
						target = KOR
						value < -89
					}
				}
				add = 1000
			}
			modifier = {
				OR = {
					has_opinion = {
						target = event_target:KMT_KOR_liberator
						value < -99
					}
					has_opinion = {
						target = KOR
						value < -99
					}
				}
				add = 5000
			}
			modifier = {
				NOT = { has_government = neutrality }
				KOR = {
					same_ideo_with_ROOT = no
				}
				has_opinion = {
					target = KOR
					value < 40
				}
				add = 1000
			}
		}

		days_remove = 0
		days_re_enable = 0

		cost = 0

		complete_effect = {
			every_state = {
				limit = {
					OR = {
						state = 527
						state = 525
					}
					is_controlled_by = ROOT
				}
				DPK = {
					transfer_state = PREV
				}
			}
			if = {
				limit = {
					has_government = democratic
				}
				DPK = {
					set_politics = {
						ruling_party = democratic
						elections_allowed = no
					}
					add_popularity = {
						ideology = democratic
						popularity = 0.7
					}
				}
				else = {
					if = {
						limit = {
							has_government = communism
						}
						DPK = {
							set_politics = {
								ruling_party = communism
								elections_allowed = no
							}
							add_popularity = {
								ideology = communism
								popularity = 0.7
							}
						}
						else = {
							if = {
								limit = {
									has_government = fascism
								}
								DPK = {
									set_politics = {
										ruling_party = fascism
										elections_allowed = no
									}
									add_popularity = {
										ideology = fascism
										popularity = 0.7
									}
								}
								else = {
									if = {
										limit = {
											has_government = neutrality
										}
										DPK = {
											set_politics = {
												ruling_party = neutrality
												elections_allowed = no
											}
											add_popularity = {
												ideology = neutrality
												popularity = 0.7
											}
										}
									}
								}
							}
						}
					}
				}
			}
			puppet = DPK
			every_state = {
				limit = {
					is_core_of = KOR
				}
				add_core_of = DPK
			}
			KOR = {
				add_opinion_modifier = {
					modifier = hostile_status
					target = ROOT
				}
				add_opinion_modifier = {
					modifier = hostile_status
					target = DPK
				}
			}
			DPK = {
				add_opinion_modifier = {
					modifier = hostile_status
					target = event_target:KMT_KOR_liberator
				}
				add_opinion_modifier = {
					modifier = hostile_status
					target = KOR
				}
			}
			hidden_effect = {
				if = {
					limit = {
						OR = {
							AND = {
								KOR = { has_government = democratic }
								DPK = { has_government = democratic }
							}
							AND = {
								KOR = { has_government = fascism }
								DPK = { has_government = fascism }
							}
							AND = {
								KOR = { has_government = communism }
								DPK = { has_government = communism }
							}
							AND = {
								KOR = { has_government = neutrality }
								DPK = { has_government = neutrality }
							}
						}
					}
					DPK = { retire_country_leader = yes }
				}
			}
		}

	}
}

KMT_dcat_japanese_civil_war = {

	KMT_seize_south_sakhalin = {
		icon = generic_prepare_civil_war

		visible = {
			NOT = {
				original_tag = JAP
			}
			has_war_with = JAP
			JAP = {
				owns_state = 537
			}
		}

		available = {
			JAP = {
				has_civil_war = yes
			}
			controls_state = 537
		}

		ai_will_do = {
			base = 100
		}

		days_remove = 0
		days_re_enable = 0

		cost = 0

		complete_effect = {
			hidden_effect = {
				537 = {
					save_global_event_target_as = KMT_land_grabbed
				}
			}
			JAP = {
				country_event = { id = jap.150 }
			}
			transfer_state = 537
		}
	}

	KMT_seize_the_kurils = {
		icon = generic_prepare_civil_war

		visible = {
			NOT = {
				original_tag = JAP
			}
			has_war_with = JAP
			JAP = {
				owns_state = 555
			}
		}

		available = {
			JAP = {
				has_civil_war = yes
			}
			controls_state = 555
		}

		ai_will_do = {
			base = 100
		}

		days_remove = 0
		days_re_enable = 0

		cost = 0

		complete_effect = {
			hidden_effect = {
				555 = {
					save_global_event_target_as = KMT_land_grabbed
				}
			}
			JAP = {
				country_event = { id = jap.150 }
			}
			transfer_state = 555
		}
	}

	KMT_seize_iwo_jima = {
		icon = generic_prepare_civil_war

		visible = {
			NOT = {
				original_tag = JAP
			}
			has_war_with = JAP
			JAP = {
				owns_state = 645
			}
		}

		available = {
			JAP = {
				has_civil_war = yes
			}
			controls_state = 645
		}

		ai_will_do = {
			base = 100
		}

		days_remove = 0
		days_re_enable = 0

		cost = 0

		complete_effect = {
			hidden_effect = {
				645 = {
					save_global_event_target_as = KMT_land_grabbed
				}
			}
			JAP = {
				country_event = { id = jap.150 }
			}
			transfer_state = 645
		}
	}

	KMT_seize_marcus_island = {
		icon = generic_prepare_civil_war

		visible = {
			NOT = {
				original_tag = JAP
			}
			has_war_with = JAP
			JAP = {
				owns_state = 648
			}
		}

		available = {
			JAP = {
				has_civil_war = yes
			}
			controls_state = 648
		}

		ai_will_do = {
			base = 100
		}

		days_remove = 0
		days_re_enable = 0

		cost = 0

		complete_effect = {
			hidden_effect = {
				648 = {
					save_global_event_target_as = KMT_land_grabbed
				}
			}
			JAP = {
				country_event = { id = jap.150 }
			}
			transfer_state = 648
		}
	}

	KMT_seize_palau = {
		icon = generic_prepare_civil_war

		visible = {
			NOT = {
				original_tag = JAP
			}
			has_war_with = JAP
			JAP = {
				owns_state = 647
			}
		}

		available = {
			JAP = {
				has_civil_war = yes
			}
			controls_state = 647
		}

		ai_will_do = {
			base = 100
		}

		days_remove = 0
		days_re_enable = 0

		cost = 0

		complete_effect = {
			hidden_effect = {
				647 = {
					save_global_event_target_as = KMT_land_grabbed
				}
			}
			JAP = {
				country_event = { id = jap.150 }
			}
			transfer_state = 647
		}
	}

	KMT_seize_caroline_islands = {
		icon = generic_prepare_civil_war

		visible = {
			NOT = {
				original_tag = JAP
			}
			has_war_with = JAP
			JAP = {
				owns_state = 684
			}
		}

		available = {
			JAP = {
				has_civil_war = yes
			}
			controls_state = 684
		}

		ai_will_do = {
			base = 100
		}

		days_remove = 0
		days_re_enable = 0

		cost = 0

		complete_effect = {
			hidden_effect = {
				684 = {
					save_global_event_target_as = KMT_land_grabbed
				}
			}
			JAP = {
				country_event = { id = jap.150 }
			}
			transfer_state = 684
		}
	}

	KMT_seize_marshall_islands = {
		icon = generic_prepare_civil_war

		visible = {
			NOT = {
				original_tag = JAP
			}
			has_war_with = JAP
			JAP = {
				owns_state = 633
			}
		}

		available = {
			JAP = {
				has_civil_war = yes
			}
			controls_state = 633
		}

		ai_will_do = {
			base = 100
		}

		days_remove = 0
		days_re_enable = 0

		cost = 0

		complete_effect = {
			hidden_effect = {
				633 = {
					save_global_event_target_as = KMT_land_grabbed
				}
			}
			JAP = {
				country_event = { id = jap.150 }
			}
			transfer_state = 633
		}
	}

	KMT_seize_saipan = {
		icon = generic_prepare_civil_war

		visible = {
			NOT = {
				original_tag = JAP
			}
			has_war_with = JAP
			JAP = {
				owns_state = 646
			}
		}

		available = {
			JAP = {
				has_civil_war = yes
			}
			controls_state = 646
		}

		ai_will_do = {
			base = 100
		}

		days_remove = 0
		days_re_enable = 0

		cost = 0

		complete_effect = {
			hidden_effect = {
				646 = {
					save_global_event_target_as = KMT_land_grabbed
				}
			}
			JAP = {
				country_event = { id = jap.150 }
			}
			transfer_state = 646
		}
	}

	KMT_seize_guam = {
		icon = generic_prepare_civil_war

		visible = {
			NOT = {
				original_tag = JAP
			}
			has_war_with = JAP
			JAP = {
				owns_state = 638
			}
		}

		available = {
			JAP = {
				has_civil_war = yes
			}
			controls_state = 638
		}

		ai_will_do = {
			base = 100
		}

		days_remove = 0
		days_re_enable = 0

		cost = 0

		complete_effect = {
			hidden_effect = {
				638 = {
					save_global_event_target_as = KMT_land_grabbed
				}
			}
			JAP = {
				country_event = { id = jap.150 }
			}
			transfer_state = 638
		}
	}

	KMT_seize_ryukyu = {
		icon = generic_prepare_civil_war

		visible = {
			NOT = {
				original_tag = JAP
			}
			has_war_with = JAP
			JAP = {
				owns_state = 526
			}
		}

		available = {
			JAP = {
				has_civil_war = yes
			}
			controls_state = 526
		}

		ai_will_do = {
			base = 100
		}

		days_remove = 0
		days_re_enable = 0

		cost = 0

		complete_effect = {
			hidden_effect = {
				526 = {
					save_global_event_target_as = KMT_land_grabbed
				}
			}
			JAP = {
				country_event = { id = jap.150 }
			}
			transfer_state = 526
		}
	}
}

KMT_dcat_resources_in_china = {

	KMT_daqing_oil = { #714

		icon = oil

		allowed = {

		}
		highlight_states = {
			state = 714
		}
		available = {
			check_for_excavation_3 = yes
			num_of_civilian_factories_available_for_projects > 4
			OR = {
				AND = {
					owns_state = 714
					controls_state = 714
				}
				AND = {
					714 = {
						owner = { is_subject_of = ROOT }
						controller = { is_subject_of = ROOT }
					}
				}
			}
		}

		visible = {
			OR = {
				is_subject = no
				NOT = {
					overlord = {
						OR = {
							has_completed_focus = KMT_excavation_NE
							has_completed_focus = PRC_excavation_NE
							has_completed_focus = MCK_prospect_for_resources
							#has_completed_focus = JAP_develop_chinese_resources
							has_country_flag = KMT_mck_xuantong_res_oil
						}
					}
				}
			}
			714 = {
				NOT = {
					has_state_flag = daqing_oil_developed_1
				}
			}
			OR = {
				has_completed_focus = KMT_excavation_NE
				has_completed_focus = PRC_excavation_NE
				has_country_flag = KMT_mck_xuantong_res_oil
				has_completed_focus = MCK_prospect_for_resources
				#has_completed_focus = JAP_develop_chinese_resources
			}
		}

		fire_only_once = yes

		cost = 25
		days_remove = 120

		modifier = {
			civilian_factory_use = 5
			consumer_goods_factor = 0.02
		}

		ai_will_do = {
			factor = 1
		}
		remove_effect = {
			714 = { set_state_flag = daqing_oil_developed_1 }
			714 = {
				add_resource = {
					type = oil
					amount = 45
				}
			}
		}
	}
	KMT_daqing_oil_2 = { #714

		icon = oil

		allowed = {

		}
		highlight_states = {
			state = 714
		}
		available = {
			check_for_excavation_5 = yes
			num_of_civilian_factories_available_for_projects > 5
			OR = {
				AND = {
					owns_state = 714
					controls_state = 714
				}
				AND = {
					714 = {
						owner = { is_subject_of = ROOT }
						controller = { is_subject_of = ROOT }
					}
				}
			}
		}

		visible = {
			OR = {
				is_subject = no
				NOT = {
					overlord = {
						OR = {
							has_completed_focus = KMT_excavation_NE
							has_completed_focus = PRC_excavation_NE
							has_completed_focus = MCK_prospect_for_resources
							#has_completed_focus = JAP_develop_chinese_resources
							has_country_flag = KMT_mck_xuantong_res_oil
						}
					}
				}
			}
			714 = {
				has_state_flag = daqing_oil_developed_1
				NOT = {
					has_state_flag = daqing_oil_developed_2
				}
			}
			OR = {
				has_completed_focus = KMT_excavation_NE
				has_completed_focus = PRC_excavation_NE
				has_country_flag = KMT_mck_xuantong_res_oil
				has_completed_focus = MCK_prospect_for_resources
				#has_completed_focus = JAP_develop_chinese_resources
			}
		}

		fire_only_once = yes

		cost = 25
		days_remove = 160

		modifier = {
			civilian_factory_use = 6
			consumer_goods_factor = 0.03
		}

		ai_will_do = {
			factor = 1
		}
		remove_effect = {
			714 = { set_state_flag = daqing_oil_developed_2 }
			714 = {
				add_resource = {
					type = oil
					amount = 50
				}
			}
		}
	}

	KMT_karamay_oil = {

		icon = oil

		allowed = {

		}

		highlight_states = {
			state = 618
		}

		available = {
			check_for_excavation_3 = yes
			num_of_civilian_factories_available_for_projects > 3
			OR = {
				AND = {
					owns_state = 618
					controls_state = 618
				}
				AND = {
					618 = {
						owner = { is_subject_of = ROOT }
						controller = { is_subject_of = ROOT }
					}
				}
			}
		}

		visible = {
			OR = {
				is_subject = no
				NOT = {
					overlord = {
						OR = {
							has_completed_focus = KMT_excavation_NW
							has_completed_focus = PRC_excavation_NW
							#has_completed_focus = JAP_develop_chinese_resources
							has_country_flag = KMT_mck_xuantong_res_oil
						}
					}
				}
			}
			618 = {
				NOT = {
					has_state_flag = karamay_oil_developed
				}
			}
			OR = {
				has_completed_focus = KMT_excavation_NW
				has_completed_focus = PRC_excavation_NW
				has_country_flag = KMT_mck_xuantong_res_oil
				#has_completed_focus = JAP_develop_chinese_resources
			}
		}

		fire_only_once = yes

		cost = 25
		days_remove = 90

		modifier = {
			civilian_factory_use = 4
			consumer_goods_factor = 0.01
		}

		remove_effect = {
			618 = { set_state_flag = karamay_oil_developed }
			618 = {
				add_resource = {
					type = oil
					amount = 55
				}
			}
		}

		ai_will_do = {
			factor = 1
		}
	}

	KMT_taklamakan_oil = {

		icon = oil

		allowed = {

		}

		highlight_states = {
			state = 287
		}

		available = {
			check_for_excavation_3 = yes
			num_of_civilian_factories_available_for_projects > 3
			OR = {
				AND = {
					owns_state = 287
					controls_state = 287
				}
				AND = {
					287 = {
						owner = { is_subject_of = ROOT }
						controller = { is_subject_of = ROOT }
					}
				}
			}
		}

		visible = {
			OR = {
				is_subject = no
				NOT = {
					overlord = {
						OR = {
							has_completed_focus = KMT_excavation_NW
							has_completed_focus = PRC_excavation_NW
							#has_completed_focus = JAP_develop_chinese_resources
							has_country_flag = KMT_mck_xuantong_res_oil
						}
					}
				}
			}
			287 = {
				NOT = {
					has_state_flag = taklamakan_oil_developed
				}
			}
			OR = {
				has_completed_focus = KMT_excavation_NW
				has_completed_focus = PRC_excavation_NW
				has_country_flag = KMT_mck_xuantong_res_oil
				#has_completed_focus = JAP_develop_chinese_resources
			}
		}

		fire_only_once = yes

		cost = 25
		days_remove = 90

		modifier = {
			civilian_factory_use = 4
			consumer_goods_factor = 0.01
		}

		remove_effect = {
			287 = { set_state_flag = taklamakan_oil_developed }
			287 = {
				add_resource = {
					type = oil
					amount = 12
				}
			}
		}

		ai_will_do = {
			factor = 1
		}
	}


	KMT_urumqi_oil = {

		icon = oil

		allowed = {

		}

		highlight_states = {
			state = 617
		}

		available = {
			check_for_excavation_3 = yes
			num_of_civilian_factories_available_for_projects > 3
			OR = {
				AND = {
					owns_state = 617
					controls_state = 617
				}
				AND = {
					617 = {
						owner = { is_subject_of = ROOT }
						controller = { is_subject_of = ROOT }
					}
				}
			}
		}

		visible = {
			OR = {
				is_subject = no
				NOT = {
					overlord = {
						OR = {
							has_completed_focus = KMT_excavation_NW
							has_completed_focus = PRC_excavation_NW
							#has_completed_focus = JAP_develop_chinese_resources
							has_country_flag = KMT_mck_xuantong_res_oil
						}
					}
				}
			}
			617 = {
				NOT = {
					has_state_flag = urumqi_oil_developed
				}
			}
			OR = {
				has_completed_focus = KMT_excavation_NW
				has_completed_focus = PRC_excavation_NW
				#has_completed_focus = JAP_develop_chinese_resources
				has_country_flag = KMT_mck_xuantong_res_oil
			}
		}

		fire_only_once = yes

		cost = 25
		days_remove = 90

		modifier = {
			civilian_factory_use = 4
			consumer_goods_factor = 0.01
		}

		remove_effect = {
			617 = { set_state_flag = urumqi_oil_developed }
			617 = {
				add_resource = {
					type = oil
					amount = 10
				}
			}
		}

		ai_will_do = {
			factor = 1
		}
	}
	KMT_yarkand_oil = {

		icon = oil

		allowed = {

		}

		highlight_states = {
			state = 619
		}

		available = {
			check_for_excavation_3 = yes
			num_of_civilian_factories_available_for_projects > 3
			OR = {
				AND = {
					owns_state = 619
					controls_state = 619
				}
				AND = {
					619 = {
						owner = { is_subject_of = ROOT }
						controller = { is_subject_of = ROOT }
					}
				}
			}
		}

		visible = {
			OR = {
				is_subject = no
				NOT = {
					overlord = {
						OR = {
							has_completed_focus = KMT_excavation_NW
							has_completed_focus = PRC_excavation_NW
							#has_completed_focus = JAP_develop_chinese_resources
							has_country_flag = KMT_mck_xuantong_res_oil
						}
					}
				}
			}
			619 = {
				NOT = {
					has_state_flag = yarkand_oil_developed
				}
			}
			OR = {
				has_completed_focus = KMT_excavation_NW
				has_completed_focus = PRC_excavation_NW
				#has_completed_focus = JAP_develop_chinese_resources
				has_country_flag = KMT_mck_xuantong_res_oil
			}
		}

		fire_only_once = yes

		cost = 25
		days_remove = 90

		modifier = {
			civilian_factory_use = 4
			consumer_goods_factor = 0.01
		}

		remove_effect = {
			619 = { set_state_flag = yarkand_oil_developed }
			619 = {
				add_resource = {
					type = oil
					amount = 10
				}
			}
		}

		ai_will_do = {
			factor = 1
		}
	}
	KMT_shandong_Al = {

		icon = aluminium

		allowed = {

		}

		highlight_states = {
			state = 597
		}

		available = {
			check_for_excavation_3 = yes
			num_of_civilian_factories_available_for_projects > 2
			OR = {
				AND = {
					owns_state = 597
					controls_state = 597
				}
				AND = {
					597 = {
						owner = { is_subject_of = ROOT }
						controller = { is_subject_of = ROOT }
					}
				}
			}
		}

		visible = {
			OR = {
				is_subject = no
				NOT = {
					overlord = {
						OR = {
							has_completed_focus = KMT_national_resources_commission
							has_completed_focus = PRC_resources_prospection
							#has_completed_focus = JAP_develop_chinese_resources
							has_country_flag = KMT_mck_xuantong_res_minerals
						}
					}
				}
			}
			597 = {
				NOT = {
					has_state_flag = shandong_aluminium_developed
				}
			}
			OR = {
				has_completed_focus = KMT_national_resources_commission
				has_completed_focus = PRC_resources_prospection
				#has_completed_focus = JAP_develop_chinese_resources
				has_country_flag = KMT_mck_xuantong_res_minerals
			}
		}

		fire_only_once = yes

		cost = 25
		days_remove = 60

		modifier = {
			civilian_factory_use = 3
			consumer_goods_factor = 0.01
		}

		ai_will_do = {
			factor = 1
		}
		remove_effect = {
			597 = { set_state_flag = shandong_aluminium_developed }
			597 = {
				add_resource = {
					type = aluminium
					amount = 16
				}
			}
		}
	}
	KMT_kirin_Al = { #328

		icon = aluminium

		allowed = {
		}

		available = {
			check_for_excavation_3 = yes
			num_of_civilian_factories_available_for_projects > 2
			OR = {
				AND = {
					owns_state = 328
					controls_state = 328
				}
				AND = {
					328 = {
						owner = { is_subject_of = ROOT }
						controller = { is_subject_of = ROOT }
					}
				}
			}
		}
		highlight_states = {
			state = 328
		}

		visible = {
			OR = {
				is_subject = no
				NOT = {
					overlord = {
						OR = {
							has_completed_focus = KMT_excavation_NE
							has_completed_focus = PRC_excavation_NE
							has_completed_focus = MCK_prospect_for_resources
							#has_completed_focus = JAP_develop_chinese_resources
							has_country_flag = KMT_mck_xuantong_res_minerals
						}
					}
				}
			}
			328 = {
				NOT = {
					has_state_flag = kirin_aluminium_developed
				}
			}
			OR = {
				has_completed_focus = KMT_excavation_NE
				has_completed_focus = PRC_excavation_NE
				has_completed_focus = MCK_prospect_for_resources
				#has_completed_focus = JAP_develop_chinese_resources
				has_country_flag = KMT_mck_xuantong_res_minerals
			}
		}

		fire_only_once = yes

		cost = 25
		days_remove = 60

		modifier = {
			civilian_factory_use = 3
			consumer_goods_factor = 0.01
		}

		ai_will_do = {
			factor = 1
		}
		remove_effect = {
			328 = { set_state_flag = kirin_aluminium_developed }
			328 = {
				add_resource = {
					type = aluminium
					amount = 16
				}
			}
		}
	}

	KMT_ningxia_Al = {

		icon = aluminium

		allowed = {

		}

		highlight_states = {
			state = 616
		}

		available = {
			check_for_excavation_3 = yes
			num_of_civilian_factories_available_for_projects > 3
			OR = {
				AND = {
					owns_state = 616
					controls_state = 616
				}
				AND = {
					616 = {
						owner = { is_subject_of = ROOT }
						controller = { is_subject_of = ROOT }
					}
				}
			}
		}

		visible = {
			OR = {
				is_subject = no
				NOT = {
					overlord = {
						OR = {
							has_completed_focus = KMT_excavation_NW
							has_completed_focus = PRC_excavation_NW
							has_country_flag = KMT_mck_xuantong_res_minerals
							#has_completed_focus = JAP_develop_chinese_resources
						}
					}
				}
			}
			616 = {
				NOT = {
					has_state_flag = ningxia_Al_developed
				}
			}
			OR = {
				has_completed_focus = KMT_excavation_NW
				has_completed_focus = PRC_excavation_NW
				#has_completed_focus = JAP_develop_chinese_resources
				has_country_flag = KMT_mck_xuantong_res_minerals
			}
		}

		fire_only_once = yes

		cost = 25
		days_remove = 60

		modifier = {
			civilian_factory_use = 4
			consumer_goods_factor = 0.01
		}

		remove_effect = {
			616 = { set_state_flag = ningxia_Al_developed }
			616 = {
				add_resource = {
					type = aluminium
					amount = 8
				}
			}
		}

		ai_will_do = {
			factor = 1
		}
	}

	KMT_qinghai_Al = {

		icon = aluminium

		allowed = {

		}

		highlight_states = {
			state = 604
		}

		available = {
			check_for_excavation_3 = yes
			num_of_civilian_factories_available_for_projects > 3
			OR = {
				AND = {
					owns_state = 604
					controls_state = 604
				}
				AND = {
					604 = {
						owner = { is_subject_of = ROOT }
						controller = { is_subject_of = ROOT }
					}
				}
			}
		}

		visible = {
			OR = {
				is_subject = no
				NOT = {
					overlord = {
						OR = {
							has_completed_focus = KMT_excavation_NW
							has_completed_focus = PRC_excavation_NW
							has_country_flag = KMT_mck_xuantong_res_minerals
							#has_completed_focus = JAP_develop_chinese_resources
						}
					}
				}
			}
			604 = {
				NOT = {
					has_state_flag = qinghai_Al_developed
				}
			}
			OR = {
				has_completed_focus = KMT_excavation_NW
				has_completed_focus = PRC_excavation_NW
				#has_completed_focus = JAP_develop_chinese_resources
				has_country_flag = KMT_mck_xuantong_res_minerals
			}
		}

		fire_only_once = yes

		cost = 25
		days_remove = 60

		modifier = {
			civilian_factory_use = 4
			consumer_goods_factor = 0.01
		}

		remove_effect = {
			604 = { set_state_flag = qinghai_Al_developed }
			604 = {
				add_resource = {
					type = aluminium
					amount = 5
				}
			}
		}

		ai_will_do = {
			factor = 1
		}
	}
	KMT_sichuan_Al = { #605

		icon = aluminium

		allowed = {

		}

		available = {
			check_for_excavation_3 = yes
			num_of_civilian_factories_available_for_projects > 2
			OR = {
				AND = {
					owns_state = 605
					controls_state = 605
				}
				AND = {
					605 = {
						owner = { is_subject_of = ROOT }
						controller = { is_subject_of = ROOT }
					}
				}
			}
		}
		highlight_states = {
			state = 605
		}

		visible = {
			OR = {
				is_subject = no
				NOT = {
					overlord = {
						OR = {
							has_completed_focus = KMT_national_resources_commission
							has_completed_focus = PRC_resources_prospection
							has_country_flag = KMT_mck_xuantong_res_minerals
							#has_completed_focus = JAP_develop_chinese_resources
						}
					}
				}
			}
			605 = {
				NOT = {
					has_state_flag = sichuan_aluminium_developed
				}
			}
			OR = {
				has_completed_focus = KMT_national_resources_commission
				has_completed_focus = PRC_resources_prospection
				#has_completed_focus = JAP_develop_chinese_resources
				has_country_flag = KMT_mck_xuantong_res_minerals
			}
		}

		fire_only_once = yes

		cost = 25
		days_remove = 90

		modifier = {
			civilian_factory_use = 3
			consumer_goods_factor = 0.01
		}

		ai_will_do = {
			factor = 1
		}
		remove_effect = {
			605 = { set_state_flag = sichuan_aluminium_developed }
			605 = {
				add_resource = {
					type = aluminium
					amount = 22
				}
			}
		}
	}

	KMT_yunnan_Al = { #325

		icon = aluminium

		allowed = {

		}

		available = {
			check_for_excavation_3 = yes
			num_of_civilian_factories_available_for_projects > 2
			OR = {
				AND = {
					owns_state = 325
					controls_state = 325
				}
				AND = {
					325 = {
						owner = { is_subject_of = ROOT }
						controller = { is_subject_of = ROOT }
					}
				}
			}
		}
		highlight_states = {
			state = 325
		}

		visible = {
			OR = {
				is_subject = no
				NOT = {
					overlord = {
						OR = {
							has_completed_focus = KMT_national_resources_commission
							has_completed_focus = PRC_resources_prospection
							has_country_flag = KMT_mck_xuantong_res_minerals
							#has_completed_focus = JAP_develop_chinese_resources
						}
					}
				}
			}
			325 = {
				NOT = {
					has_state_flag = yunnan_aluminium_developed
				}
			}
			OR = {
				has_completed_focus = KMT_national_resources_commission
				has_completed_focus = PRC_resources_prospection
				#has_completed_focus = JAP_develop_chinese_resources
				has_country_flag = KMT_mck_xuantong_res_minerals
			}
		}

		fire_only_once = yes

		cost = 25
		days_remove = 60

		modifier = {
			civilian_factory_use = 3
			consumer_goods_factor = 0.01
		}

		ai_will_do = {
			factor = 1
		}
		remove_effect = {
			325 = { set_state_flag = yunnan_aluminium_developed }
			325 = {
				add_resource = {
					type = aluminium
					amount = 15
				}
			}
		}
	}

	KMT_guangdong_rubber = {

		icon = rubber

		allowed = {

		}

		available = {
			has_tech = construction3
			num_of_civilian_factories_available_for_projects > 2
			OR = {
				AND = {
					owns_state = 593
					controls_state = 593
				}
				AND = {
					593 = {
						owner = { is_subject_of = ROOT }
						controller = { is_subject_of = ROOT }
					}
				}
			}
		}
		highlight_states = {
			state = 593
		}

		visible = {
			OR = {
				is_subject = no
				NOT = {
					overlord = {
						OR = {
							has_completed_focus = KMT_excavation_S
							has_completed_focus = PRC_excavation_S
							has_completed_focus = MCK_xuantong_restoration
							#has_completed_focus = JAP_develop_chinese_resources
						}
					}
				}
			}
			593 = {
				NOT = {
					has_state_flag = guangdong_rubber_developed
				}
			}
			OR = {
				has_completed_focus = KMT_excavation_S
				has_completed_focus = PRC_excavation_S
				has_completed_focus = MCK_xuantong_restoration
				#has_completed_focus = JAP_develop_chinese_resources
			}
		}

		fire_only_once = yes

		cost = 25
		days_remove = 80

		modifier = {
			civilian_factory_use = 3
			consumer_goods_factor = 0.01
		}

		ai_will_do = {
			factor = 1
		}
		remove_effect = {
			593 = { set_state_flag = guangdong_rubber_developed }
			593 = {
				add_resource = {
					type = rubber
					amount = 10
				}
			}
		}
	}

	KMT_guangzhou_rubber = {

		icon = rubber

		allowed = {

		}

		available = {
			has_tech = construction3
			num_of_civilian_factories_available_for_projects > 2
			OR = {
				AND = {
					owns_state = 592
					controls_state = 592
				}
				AND = {
					592 = {
						owner = { is_subject_of = ROOT }
						controller = { is_subject_of = ROOT }
					}
				}
			}
		}
		highlight_states = {
			state = 592
		}

		visible = {
			OR = {
				is_subject = no
				NOT = {
					overlord = {
						OR = {
							has_completed_focus = KMT_excavation_S
							has_completed_focus = PRC_excavation_S
							has_completed_focus = MCK_xuantong_restoration
							#has_completed_focus = JAP_develop_chinese_resources
						}
					}
				}
			}
			592 = {
				NOT = {
					has_state_flag = guangzhou_rubber_developed
				}
			}
			OR = {
				has_completed_focus = KMT_excavation_S
				has_completed_focus = PRC_excavation_S
				has_completed_focus = MCK_xuantong_restoration
				#has_completed_focus = JAP_develop_chinese_resources
			}
		}

		fire_only_once = yes

		cost = 25
		days_remove = 80

		modifier = {
			civilian_factory_use = 3
			consumer_goods_factor = 0.01
		}

		ai_will_do = {
			factor = 1
		}
		remove_effect = {
			592 = { set_state_flag = guangzhou_rubber_developed }
			592 = {
				add_resource = {
					type = rubber
					amount = 10
				}
			}
		}
	}

	KMT_hainan_rubber = {

		icon = rubber

		allowed = {

		}

		available = {
			has_tech = construction3
			num_of_civilian_factories_available_for_projects > 2
			OR = {
				AND = {
					owns_state = 591
					controls_state = 591
				}
				AND = {
					591 = {
						owner = { is_subject_of = ROOT }
						controller = { is_subject_of = ROOT }
					}
				}
			}
		}
		highlight_states = {
			state = 591
		}

		visible = {
			OR = {
				is_subject = no
				NOT = {
					overlord = {
						OR = {
							has_completed_focus = KMT_excavation_S
							has_completed_focus = PRC_excavation_S
							has_completed_focus = MCK_xuantong_restoration
							#has_completed_focus = JAP_develop_chinese_resources
						}
					}
				}
			}
			591 = {
				NOT = {
					has_state_flag = hainan_rubber_developed
				}
			}
			OR = {
				has_completed_focus = KMT_excavation_S
				has_completed_focus = PRC_excavation_S
				has_completed_focus = MCK_xuantong_restoration
				#has_completed_focus = JAP_develop_chinese_resources
			}
		}

		fire_only_once = yes

		cost = 25
		days_remove = 80

		modifier = {
			civilian_factory_use = 3
			consumer_goods_factor = 0.01
		}

		ai_will_do = {
			factor = 1
		}
		remove_effect = {
			591 = { set_state_flag = hainan_rubber_developed }
			591 = {
				add_resource = {
					type = rubber
					amount = 10
				}
			}
		}
	}

	KMT_nanning_rubber = {

		icon = rubber

		allowed = {

		}

		available = {
			has_tech = construction3
			num_of_civilian_factories_available_for_projects > 2
			OR = {
				AND = {
					owns_state = 594
					controls_state = 594
				}
				AND = {
					594 = {
						owner = { is_subject_of = ROOT }
						controller = { is_subject_of = ROOT }
					}
				}
			}
		}
		highlight_states = {
			state = 594
		}

		visible = {
			OR = {
				is_subject = no
				NOT = {
					overlord = {
						OR = {
							has_completed_focus = KMT_excavation_S
							has_completed_focus = PRC_excavation_S
							has_completed_focus = MCK_xuantong_restoration
							#has_completed_focus = JAP_develop_chinese_resources
						}
					}
				}
			}
			594 = {
				NOT = {
					has_state_flag = nanning_rubber_developed
				}
			}
			OR = {
				has_completed_focus = KMT_excavation_S
				has_completed_focus = PRC_excavation_S
				has_completed_focus = MCK_xuantong_restoration
				#has_completed_focus = JAP_develop_chinese_resources
			}
		}

		fire_only_once = yes

		cost = 25
		days_remove = 80

		modifier = {
			civilian_factory_use = 3
			consumer_goods_factor = 0.01
		}

		ai_will_do = {
			factor = 1
		}
		remove_effect = {
			594 = { set_state_flag = nanning_rubber_developed }
			594 = {
				add_resource = {
					type = rubber
					amount = 10
				}
			}
		}
	}

	KMT_ganzhou_tungsten = {

		icon = tungsten

		allowed = {

		}

		highlight_states = {
			state = 773
		}

		available = {
			check_for_excavation_3 = yes
			num_of_civilian_factories_available_for_projects > 3
			OR = {
				AND = {
					owns_state = 773
					controls_state = 773
				}
				AND = {
					773 = {
						owner = { is_subject_of = ROOT }
						controller = { is_subject_of = ROOT }
					}
				}
			}
		}

		visible = {
			OR = {
				is_subject = no
				NOT = {
					overlord = {
						OR = {
							has_completed_focus = KMT_national_resources_commission
							has_completed_focus = PRC_resources_prospection
							has_country_flag = KMT_mck_xuantong_res_minerals
							#has_completed_focus = JAP_develop_chinese_resources
						}
					}
				}
			}
			773 = {
				NOT = {
					has_state_flag = ganzhou_tungsten_developed
				}
			}
			OR = {
				has_completed_focus = KMT_national_resources_commission
				has_completed_focus = PRC_resources_prospection
				#has_completed_focus = JAP_develop_chinese_resources
				has_country_flag = KMT_mck_xuantong_res_minerals
			}
		}

		fire_only_once = yes

		cost = 25
		days_remove = 50

		modifier = {
			civilian_factory_use = 4
			consumer_goods_factor = 0.01
		}

		remove_effect = {
			773 = { set_state_flag = ganzhou_tungsten_developed }
			773 = {
				add_resource = {
					type = tungsten
					amount = 20
				}
			}
		}

		ai_will_do = {
			factor = 1
		}
	}

	KMT_huaihua_tungsten = {

		icon = tungsten

		allowed = {

		}

		highlight_states = {
			state = 775
		}

		available = {
			check_for_excavation_2 = yes
			num_of_civilian_factories_available_for_projects > 3
			OR = {
				AND = {
					owns_state = 775
					controls_state = 775
				}
				AND = {
					775 = {
						owner = { is_subject_of = ROOT }
						controller = { is_subject_of = ROOT }
					}
				}
			}
		}

		visible = {
			OR = {
				is_subject = no
				NOT = {
					overlord = {
						OR = {
							has_completed_focus = KMT_national_resources_commission
							has_completed_focus = PRC_resources_prospection
							has_country_flag = KMT_mck_xuantong_res_minerals
							#has_completed_focus = JAP_develop_chinese_resources
						}
					}
				}
			}
			775 = {
				NOT = {
					has_state_flag = huaihua_tungsten_developed
				}
			}
			OR = {
				has_completed_focus = KMT_national_resources_commission
				has_completed_focus = PRC_resources_prospection
				#has_completed_focus = JAP_develop_chinese_resources
				has_country_flag = KMT_mck_xuantong_res_minerals
			}
		}

		fire_only_once = yes

		cost = 25
		days_remove = 50

		modifier = {
			civilian_factory_use = 4
			consumer_goods_factor = 0.01
		}

		remove_effect = {
			775 = { set_state_flag = huaihua_tungsten_developed }
			775 = {
				add_resource = {
					type = tungsten
					amount = 13
				}
			}
		}

		ai_will_do = {
			factor = 1
		}
	}

	KMT_hunan_tungsten = {

		icon = tungsten

		allowed = {

		}

		highlight_states = {
			state = 602
		}

		available = {
			check_for_excavation_2 = yes
			num_of_civilian_factories_available_for_projects > 3
			OR = {
				AND = {
					owns_state = 602
					controls_state = 602
				}
				AND = {
					602 = {
						owner = { is_subject_of = ROOT }
						controller = { is_subject_of = ROOT }
					}
				}
			}
		}

		visible = {
			OR = {
				is_subject = no
				NOT = {
					overlord = {
						OR = {
							has_completed_focus = KMT_national_resources_commission
							has_completed_focus = PRC_resources_prospection
							has_country_flag = KMT_mck_xuantong_res_minerals
							#has_completed_focus = JAP_develop_chinese_resources
						}
					}
				}
			}
			602 = {
				NOT = {
					has_state_flag = hunan_tungsten_developed
				}
			}
			OR = {
				has_completed_focus = KMT_national_resources_commission
				has_completed_focus = PRC_resources_prospection
				#has_completed_focus = JAP_develop_chinese_resources
				has_country_flag = KMT_mck_xuantong_res_minerals
			}
		}

		fire_only_once = yes

		cost = 25
		days_remove = 50

		modifier = {
			civilian_factory_use = 4
			consumer_goods_factor = 0.01
		}

		remove_effect = {
			602 = { set_state_flag = hunan_tungsten_developed }
			602 = {
				add_resource = {
					type = tungsten
					amount = 25
				}
			}
		}

		ai_will_do = {
			factor = 1
		}
	}

	KMT_jian_tungsten = {

		icon = tungsten

		allowed = {

		}

		highlight_states = {
			state = 774
		}

		available = {
			check_for_excavation_2 = yes
			num_of_civilian_factories_available_for_projects > 3
			OR = {
				AND = {
					owns_state = 774
					controls_state = 774
				}
				AND = {
					774 = {
						owner = { is_subject_of = ROOT }
						controller = { is_subject_of = ROOT }
					}
				}
			}
		}

		visible = {
			OR = {
				is_subject = no
				NOT = {
					overlord = {
						OR = {
							has_completed_focus = KMT_national_resources_commission
							has_completed_focus = PRC_resources_prospection
							has_country_flag = KMT_mck_xuantong_res_minerals
							#has_completed_focus = JAP_develop_chinese_resources
						}
					}
				}
			}
			774 = {
				NOT = {
					has_state_flag = jian_tungsten_developed
				}
			}
			OR = {
				has_completed_focus = KMT_national_resources_commission
				has_completed_focus = PRC_resources_prospection
				#has_completed_focus = JAP_develop_chinese_resources
				has_country_flag = KMT_mck_xuantong_res_minerals
			}
		}

		fire_only_once = yes

		cost = 25
		days_remove = 50

		modifier = {
			civilian_factory_use = 4
			consumer_goods_factor = 0.01
		}

		remove_effect = {
			774 = { set_state_flag = jian_tungsten_developed }
			774 = {
				add_resource = {
					type = tungsten
					amount = 17
				}
			}
		}

		ai_will_do = {
			factor = 1
		}
	}

	KMT_jiangxi_tungsten = {

		icon = tungsten

		allowed = {

		}

		highlight_states = {
			state = 600
		}

		available = {
			check_for_excavation_2 = yes
			num_of_civilian_factories_available_for_projects > 3
			OR = {
				AND = {
					owns_state = 600
					controls_state = 600
				}
				AND = {
					600 = {
						owner = { is_subject_of = ROOT }
						controller = { is_subject_of = ROOT }
					}
				}
			}
		}

		visible = {
			OR = {
				is_subject = no
				NOT = {
					overlord = {
						OR = {
							has_completed_focus = KMT_national_resources_commission
							has_completed_focus = PRC_resources_prospection
							has_country_flag = KMT_mck_xuantong_res_minerals
							#has_completed_focus = JAP_develop_chinese_resources
						}
					}
				}
			}
			600 = {
				NOT = {
					has_state_flag = jiangxi_tungsten_developed
				}
			}
			OR = {
				has_completed_focus = KMT_national_resources_commission
				has_completed_focus = PRC_resources_prospection
				#has_completed_focus = JAP_develop_chinese_resources
				has_country_flag = KMT_mck_xuantong_res_minerals
			}
		}

		fire_only_once = yes

		cost = 25
		days_remove = 50

		modifier = {
			civilian_factory_use = 4
			consumer_goods_factor = 0.01
		}

		remove_effect = {
			600 = { set_state_flag = jiangxi_tungsten_developed }
			600 = {
				add_resource = {
					type = tungsten
					amount = 19
				}
			}
		}

		ai_will_do = {
			factor = 1
		}
	}


	KMT_shaoguan_tungsten = {

		icon = tungsten

		allowed = {

		}

		highlight_states = {
			state = 763
		}

		available = {
			check_for_excavation_2 = yes
			num_of_civilian_factories_available_for_projects > 3
			OR = {
				AND = {
					owns_state = 763
					controls_state = 763
				}
				AND = {
					763 = {
						owner = { is_subject_of = ROOT }
						controller = { is_subject_of = ROOT }
					}
				}
			}
		}

		visible = {
			OR = {
				is_subject = no
				NOT = {
					overlord = {
						OR = {
							has_completed_focus = KMT_national_resources_commission
							has_completed_focus = PRC_resources_prospection
							has_country_flag = KMT_mck_xuantong_res_minerals
							#has_completed_focus = JAP_develop_chinese_resources
						}
					}
				}
			}
			763 = {
				NOT = {
					has_state_flag = shaoguan_tungsten_developed
				}
			}
			OR = {
				has_completed_focus = KMT_national_resources_commission
				has_completed_focus = PRC_resources_prospection
				#has_completed_focus = JAP_develop_chinese_resources
				has_country_flag = KMT_mck_xuantong_res_minerals
			}
		}

		fire_only_once = yes

		cost = 25
		days_remove = 50

		modifier = {
			civilian_factory_use = 4
			consumer_goods_factor = 0.01
		}

		remove_effect = {
			763 = { set_state_flag = shaoguan_tungsten_developed }
			763 = {
				add_resource = {
					type = tungsten
					amount = 17
				}
			}
		}

		ai_will_do = {
			factor = 1
		}
	}


	KMT_sichuan_tungsten = {

		icon = tungsten

		allowed = {

		}

		highlight_states = {
			state = 605
		}

		available = {
			check_for_excavation_2 = yes
			num_of_civilian_factories_available_for_projects > 3
			OR = {
				AND = {
					owns_state = 605
					controls_state = 605
				}
				AND = {
					605 = {
						owner = { is_subject_of = ROOT }
						controller = { is_subject_of = ROOT }
					}
				}
			}
		}

		visible = {
			OR = {
				is_subject = no
				NOT = {
					overlord = {
						OR = {
							has_completed_focus = KMT_national_resources_commission
							has_completed_focus = PRC_resources_prospection
							has_country_flag = KMT_mck_xuantong_res_minerals
							#has_completed_focus = JAP_develop_chinese_resources
						}
					}
				}
			}
			605 = {
				NOT = {
					has_state_flag = sichuan_tungsten_developed
				}
			}
			OR = {
				has_completed_focus = KMT_national_resources_commission
				has_completed_focus = PRC_resources_prospection
				#has_completed_focus = JAP_develop_chinese_resources
				has_country_flag = KMT_mck_xuantong_res_minerals
			}
		}

		fire_only_once = yes

		cost = 25
		days_remove = 50

		modifier = {
			civilian_factory_use = 4
			consumer_goods_factor = 0.01
		}

		remove_effect = {
			605 = { set_state_flag = sichuan_tungsten_developed }
			605 = {
				add_resource = {
					type = tungsten
					amount = 25
				}
			}
		}

		ai_will_do = {
			factor = 1
		}
	}

	KMT_EHopeh_steel = {

		icon = steel

		allowed = {

		}

		highlight_states = {
			state = 609
		}

		available = {
			check_for_excavation_2 = yes
			has_tech = construction3
			num_of_civilian_factories_available_for_projects > 3
			OR = {
				AND = {
					owns_state = 609
					controls_state = 609
				}
				AND = {
					609 = {
						owner = { is_subject_of = ROOT }
						controller = { is_subject_of = ROOT }
					}
				}
			}
		}

		visible = {
			OR = {
				is_subject = no
				NOT = {
					overlord = {
						OR = {
							has_completed_focus = KMT_excavation_NE
							has_completed_focus = PRC_excavation_NE
							has_completed_focus = MCK_prospect_for_resources
							has_country_flag = KMT_mck_xuantong_res_minerals
							#has_completed_focus = JAP_develop_chinese_resources
						}
					}
				}
			}
			609 = {
				NOT = {
					has_state_flag = EHopeh_steel_developed
				}
			}
			OR = {
				has_completed_focus = KMT_excavation_NE
				has_completed_focus = PRC_excavation_NE
				has_completed_focus = MCK_prospect_for_resources
				#has_completed_focus = JAP_develop_chinese_resources
				has_country_flag = KMT_mck_xuantong_res_minerals
			}
		}

		fire_only_once = yes

		cost = 25
		days_remove = 90

		modifier = {
			civilian_factory_use = 4
			consumer_goods_factor = 0.01
		}

		remove_effect = {
			609 = { set_state_flag = EHopeh_steel_developed }
			609 = {
				add_resource = {
					type = steel
					amount = 15
				}
			}
		}

		ai_will_do = {
			factor = 1
		}
	}
	KMT_guizhou_steel = {

		icon = steel

		allowed = {

		}

		highlight_states = {
			state = 603
		}

		available = {
			check_for_excavation_1 = yes
			has_tech = construction2
			num_of_civilian_factories_available_for_projects > 3
			OR = {
				AND = {
					owns_state = 603
					controls_state = 603
				}
				AND = {
					603 = {
						owner = { is_subject_of = ROOT }
						controller = { is_subject_of = ROOT }
					}
				}
			}
		}

		visible = {
			OR = {
				is_subject = no
				NOT = {
					overlord = {
						OR = {
							has_completed_focus = KMT_national_resources_commission
							has_completed_focus = PRC_resources_prospection
							has_country_flag = KMT_mck_xuantong_res_minerals
							#has_completed_focus = JAP_develop_chinese_resources
						}
					}
				}
			}
			603 = {
				NOT = {
					has_state_flag = sichuan_steel_developed
				}
			}
			OR = {
				has_completed_focus = KMT_national_resources_commission
				has_completed_focus = PRC_resources_prospection
				#has_completed_focus = JAP_develop_chinese_resources
				has_country_flag = KMT_mck_xuantong_res_minerals
			}
		}

		fire_only_once = yes

		cost = 25
		days_remove = 50

		modifier = {
			civilian_factory_use = 4
			consumer_goods_factor = 0.01
		}

		remove_effect = {
			605 = { set_state_flag = sichuan_steel_developed }
			605 = {
				add_resource = {
					type = steel
					amount = 15
				}
			}
		}

		ai_will_do = {
			factor = 1
		}
	}

	KMT_liaotung_steel = { #716

		icon = steel

		allowed = {

		}

		highlight_states = {
			state = 716
		}

		available = {
			check_for_excavation_1 = yes
			has_tech = construction3
			num_of_civilian_factories_available_for_projects > 2
			OR = {
				AND = {
					owns_state = 716
					controls_state = 716
				}
				AND = {
					716 = {
						owner = { is_subject_of = ROOT }
						controller = { is_subject_of = ROOT }
					}
				}
			}
		}

		visible = {
			OR = {
				is_subject = no
				NOT = {
					overlord = {
						OR = {
							has_completed_focus = KMT_excavation_NE
							has_completed_focus = PRC_excavation_NE
							has_completed_focus = MCK_prospect_for_resources
							has_country_flag = KMT_mck_xuantong_res_minerals
							#has_completed_focus = JAP_develop_chinese_resources
						}
					}
				}
			}
			716 = {
				NOT = {
					has_state_flag = liaotung_steel_developed
				}
			}
			OR = {
				has_completed_focus = KMT_excavation_NE
				has_completed_focus = PRC_excavation_NE
				has_completed_focus = MCK_prospect_for_resources
				#has_completed_focus = JAP_develop_chinese_resources
				has_country_flag = KMT_mck_xuantong_res_minerals
			}
		}

		fire_only_once = yes

		cost = 25
		days_remove = 60

		modifier = {
			civilian_factory_use = 3
			consumer_goods_factor = 0.01
		}

		remove_effect = {
			716 = { set_state_flag = liaotung_steel_developed }
			716 = {
				add_resource = {
					type = steel
					amount = 13
				}
			}
		}

		ai_will_do = {
			factor = 1
		}
	}

	KMT_sichuan_steel = {

		icon = steel

		allowed = {

		}

		highlight_states = {
			state = 605
		}

		available = {
			check_for_excavation_3 = yes
			has_tech = construction3
			num_of_civilian_factories_available_for_projects > 3
			OR = {
				AND = {
					owns_state = 605
					controls_state = 605
				}
				AND = {
					605 = {
						owner = { is_subject_of = ROOT }
						controller = { is_subject_of = ROOT }
					}
				}
			}
		}

		visible = {
			OR = {
				is_subject = no
				NOT = {
					overlord = {
						OR = {
							has_completed_focus = KMT_national_resources_commission
							has_completed_focus = PRC_resources_prospection
							has_country_flag = KMT_mck_xuantong_res_minerals
							#has_completed_focus = JAP_develop_chinese_resources
						}
					}
				}
			}
			605 = {
				NOT = {
					has_state_flag = sichuan_steel_developed
				}
			}
			OR = {
				has_completed_focus = KMT_national_resources_commission
				has_completed_focus = PRC_resources_prospection
				#has_completed_focus = JAP_develop_chinese_resources
				has_country_flag = KMT_mck_xuantong_res_minerals
			}
		}

		fire_only_once = yes

		cost = 25
		days_remove = 90

		modifier = {
			civilian_factory_use = 4
			consumer_goods_factor = 0.01
		}

		remove_effect = {
			605 = { set_state_flag = sichuan_steel_developed }
			605 = {
				add_resource = {
					type = steel
					amount = 30
				}
			}
		}

		ai_will_do = {
			factor = 1
		}
	}

	KMT_suiyuan_steel = { #621

		icon = steel

		allowed = {

		}
		highlight_states = {
			state = 621
		}
		available = {
			check_for_excavation_2 = yes
			num_of_civilian_factories_available_for_projects > 2
			OR = {
				AND = {
					owns_state = 621
					controls_state = 621
				}
				AND = {
					621 = {
						owner = { is_subject_of = ROOT }
						controller = { is_subject_of = ROOT }
					}
				}
			}
		}

		visible = {
			OR = {
				is_subject = no
				NOT = {
					overlord = {
						OR = {
							has_completed_focus = KMT_national_resources_commission
							has_completed_focus = PRC_resources_prospection
							has_country_flag = KMT_mck_xuantong_res_minerals
							#has_completed_focus = JAP_develop_chinese_resources
						}
					}
				}
			}
			621 = {
				NOT = {
					has_state_flag = suiyuan_steel_developed
				}
			}
			OR = {
				has_completed_focus = KMT_national_resources_commission
				has_completed_focus = PRC_resources_prospection
				#has_completed_focus = JAP_develop_chinese_resources
				has_global_flag = KMT_mck_xuantong_res_minerals
			}
		}

		fire_only_once = yes

		cost = 25
		days_remove = 60

		modifier = {
			civilian_factory_use = 3
			consumer_goods_factor = 0.01
		}

		ai_will_do = {
			factor = 1
		}
		remove_effect = {
			621 = { set_state_flag = suiyuan_steel_developed }
			621 = {
				add_resource = {
					type = steel
					amount = 14
				}
			}
		}
	}

	KMT_wuhan_steel = {

		icon = steel

		allowed = {

		}

		highlight_states = {
			state = 765
		}

		available = {
			check_for_excavation_2 = yes
			has_tech = construction3
			num_of_civilian_factories_available_for_projects > 3
			OR = {
				AND = {
					owns_state = 765
					controls_state = 765
				}
				AND = {
					765 = {
						owner = { is_subject_of = ROOT }
						controller = { is_subject_of = ROOT }
					}
				}
			}
		}

		visible = {
			OR = {
				is_subject = no
				NOT = {
					overlord = {
						OR = {
							has_completed_focus = KMT_excavation_NE
							has_completed_focus = PRC_excavation_NE
							has_completed_focus = MCK_prospect_for_resources
							has_country_flag = KMT_mck_xuantong_res_minerals
							#has_completed_focus = JAP_develop_chinese_resources
						}
					}
				}
			}
			765 = {
				NOT = {
					has_state_flag = wuhan_steel_developed
				}
			}
			OR = {
				has_completed_focus = KMT_excavation_NE
				has_completed_focus = PRC_excavation_NE
				has_completed_focus = MCK_prospect_for_resources
				#has_completed_focus = JAP_develop_chinese_resources
				has_country_flag = KMT_mck_xuantong_res_minerals
			}
		}

		fire_only_once = yes

		cost = 25
		days_remove = 90

		modifier = {
			civilian_factory_use = 4
			consumer_goods_factor = 0.01
		}

		remove_effect = {
			765 = { set_state_flag = wuhan_steel_developed }
			765 = {
				add_resource = {
					type = steel
					amount = 15
				}
			}
		}

		ai_will_do = {
			factor = 1
		}
	}

	KMT_kirin_chrome = {

		icon = chromium

		allowed = {

		}

		highlight_states = {
			state = 328
		}

		available = {
			check_for_excavation_2 = yes
			num_of_civilian_factories_available_for_projects > 2
			OR = {
				AND = {
					owns_state = 328
					controls_state = 328
				}
				AND = {
					328 = {
						owner = { is_subject_of = ROOT }
						controller = { is_subject_of = ROOT }
					}
				}
			}
		}

		visible = {
			OR = {
				is_subject = no
				NOT = {
					overlord = {
						OR = {
							has_completed_focus = KMT_excavation_NE
							has_completed_focus = PRC_excavation_NE
							has_completed_focus = MCK_prospect_for_resources
							has_country_flag = KMT_mck_xuantong_res_minerals
							#has_completed_focus = JAP_develop_chinese_resources
						}
					}
				}
			}
			328 = {
				NOT = {
					has_state_flag = kirin_chromium_developed
				}
			}
			OR = {
				has_completed_focus = KMT_excavation_NE
				has_completed_focus = PRC_excavation_NE
				has_completed_focus = MCK_prospect_for_resources
				#has_completed_focus = JAP_develop_chinese_resources
				has_country_flag = KMT_mck_xuantong_res_minerals
			}
		}

		fire_only_once = yes

		cost = 25
		days_remove = 60

		modifier = {
			civilian_factory_use = 3
			consumer_goods_factor = 0.01
		}

		remove_effect = {
			328 = { set_state_flag = kirin_chromium_developed }
			328 = {
				add_resource = {
					type = chromium
					amount = 8
				}
			}
		}

		ai_will_do = {
			factor = 1
		}
	}

	KMT_liaoning_chrome = {

		icon = chromium

		allowed = {

		}

		highlight_states = {
			state = 715
		}

		available = {
			check_for_excavation_2 = yes
			num_of_civilian_factories_available_for_projects > 2
			OR = {
				AND = {
					owns_state = 715
					controls_state = 715
				}
				AND = {
					715 = {
						owner = { is_subject_of = ROOT }
						controller = { is_subject_of = ROOT }
					}
				}
			}
		}

		visible = {
			OR = {
				is_subject = no
				NOT = {
					overlord = {
						OR = {
							has_completed_focus = KMT_excavation_NE
							has_completed_focus = PRC_excavation_NE
							has_completed_focus = MCK_prospect_for_resources
							has_country_flag = KMT_mck_xuantong_res_minerals
							#has_completed_focus = JAP_develop_chinese_resources
						}
					}
				}
			}
			715 = {
				NOT = {
					has_state_flag = liaoning_chromium_developed
				}
			}
			OR = {
				has_completed_focus = KMT_excavation_NE
				has_completed_focus = PRC_excavation_NE
				has_completed_focus = MCK_prospect_for_resources
				#has_completed_focus = JAP_develop_chinese_resources
				has_country_flag = KMT_mck_xuantong_res_minerals
			}
		}

		fire_only_once = yes

		cost = 25
		days_remove = 60

		modifier = {
			civilian_factory_use = 3
			consumer_goods_factor = 0.01
		}

		remove_effect = {
			715 = { set_state_flag = liaoning_chromium_developed }
			715 = {
				add_resource = {
					type = chromium
					amount = 8
				}
			}
		}

		ai_will_do = {
			factor = 1
		}
	}
	KMT_qinghai_chrome = {

		icon = chromium

		allowed = {

		}

		highlight_states = {
			state = 604
		}

		available = {
			check_for_excavation_3 = yes
			num_of_civilian_factories_available_for_projects > 3
			OR = {
				AND = {
					owns_state = 604
					controls_state = 604
				}
				AND = {
					604 = {
						owner = { is_subject_of = ROOT }
						controller = { is_subject_of = ROOT }
					}
				}
			}
		}

		visible = {
			OR = {
				AND = {
					owns_state = 604
					controls_state = 604
				}
				AND = {
					604 = {
						owner = { is_subject_of = ROOT }
						controller = { is_subject_of = ROOT }
					}
				}
			}
			604 = {
				NOT = {
					has_state_flag = qinghai_chrome_developed
				}
			}
			OR = {
				has_completed_focus = KMT_excavation_NW
				has_completed_focus = PRC_excavation_NW
				has_country_flag = KMT_mck_xuantong_res_minerals
			}
		}

		fire_only_once = yes

		cost = 25
		days_remove = 60

		modifier = {
			civilian_factory_use = 4
			consumer_goods_factor = 0.01
		}

		remove_effect = {
			604 = { set_state_flag = qinghai_chrome_developed }
			604 = {
				add_resource = {
					type = chromium
					amount = 5
				}
			}
		}

		ai_will_do = {
			factor = 1
		}
	}


	KMT_sungkiang_chrome = {

		icon = chromium

		allowed = {

		}

		highlight_states = {
			state = 717
		}

		available = {
			check_for_excavation_2 = yes
			num_of_civilian_factories_available_for_projects > 2
			OR = {
				AND = {
					owns_state = 717
					controls_state = 717
				}
				AND = {
					717 = {
						owner = { is_subject_of = ROOT }
						controller = { is_subject_of = ROOT }
					}
				}
			}
		}

		visible = {
			OR = {
				is_subject = no
				NOT = {
					overlord = {
						OR = {
							has_completed_focus = KMT_excavation_NE
							has_completed_focus = PRC_excavation_NE
							has_completed_focus = MCK_prospect_for_resources
							#has_completed_focus = JAP_develop_chinese_resources
							has_country_flag = KMT_mck_xuantong_res_minerals
						}
					}
				}
			}
			717 = {
				NOT = {
					has_state_flag = sungkiang_chromium_developed
				}
			}
			OR = {
				has_completed_focus = KMT_excavation_NE
				has_completed_focus = PRC_excavation_NE
				has_completed_focus = MCK_prospect_for_resources
				has_country_flag = KMT_mck_xuantong_res_minerals
			}
		}

		fire_only_once = yes

		cost = 25
		days_remove = 60

		modifier = {
			civilian_factory_use = 3
			consumer_goods_factor = 0.01
		}

		remove_effect = {
			717 = { set_state_flag = sungkiang_chromium_developed }
			717 = {
				add_resource = {
					type = chromium
					amount = 10
				}
			}
		}

		ai_will_do = {
			factor = 1
		}
	}

}

KMT_dcat_industrial_evacuation = {

	KMT_industrial_evacuation_peking = {
		icon = generic_scorched_earth
		available = {
			608 = {
				OR = {
					arms_factory > 0
					industrial_complex > 0
				}
			}
		}
		highlight_states = {
			state = 608
		}
		visible = {
			608 = {
				OR = {
					arms_factory > 0
					industrial_complex > 0
				}
			}
			tag = event_target:KMT_central_gov_tag
			#has_completed_focus = KMT_the_big_rear_concept
			608 = {
				OR = {
					is_controlled_by = ROOT
					CONTROLLER = {
						#has_idea = cu_is_warlord
						has_war_together_with = ROOT
						has_full_control_of_state = PREV
					}
					CONTROLLER = {
						is_subject_of = ROOT
					}
				}
			}
		}

		fire_only_once = yes
		cost = 25

		days_remove = 15

		modifier = {}

		remove_effect = {
			if = {
				limit = {
					608 = {
						OR = {
							is_controlled_by = ROOT
							CONTROLLER = {
								#has_idea = cu_is_warlord
								has_war_together_with = ROOT
								has_full_control_of_state = PREV
							}
							CONTROLLER = {
								is_subject_of = ROOT
							}
						}
					}
				}
				608 = {
					KMT_evacuate_industry_to_the_rear = yes
				}
			}
		}

		ai_will_do = {
			factor = 1
			modifier = {
				608 = {
					any_neighbor_state = {
						controller = {
							has_war_with = ROOT
						}
					}
				}
				factor = 1000
			}
		}
	}

	KMT_industrial_evacuations_hopeh = {
		icon = generic_scorched_earth
		available = {
			614 = {
				OR = {
					arms_factory > 0
					industrial_complex > 0
				}
			}
		}
		highlight_states = {
			state = 614
		}
		visible = {
			614 = {
				OR = {
					arms_factory > 0
					industrial_complex > 0
				}
			}
			tag = event_target:KMT_central_gov_tag
			#has_completed_focus = KMT_the_big_rear_concept
			614 = {
				OR = {
					is_controlled_by = ROOT
					CONTROLLER = {
						#has_idea = cu_is_warlord
						has_war_together_with = ROOT
						has_full_control_of_state = PREV
					}
					CONTROLLER = {
						is_puppet_of = ROOT
					}
				}
			}
		}

		fire_only_once = yes
		cost = 25

		days_remove = 15

		modifier = {}

		remove_effect = {
			if = {
				limit = {
					614 = {
						OR = {
							is_controlled_by = ROOT
							CONTROLLER = {
								#has_idea = cu_is_warlord
								has_war_together_with = ROOT
								has_full_control_of_state = PREV
							}
							CONTROLLER = {
								is_subject_of = ROOT
							}
						}
					}
				}
				614 = {
					KMT_evacuate_industry_to_the_rear = yes
				}
			}
		}

		ai_will_do = {
			factor = 1
			modifier = {
				614 = {
					any_neighbor_state = {
						controller = {
							has_war_with = ROOT
						}
					}
				}
				factor = 1000
			}
		}
	}

	KMT_industrial_evacuations_shantung = {
		icon = generic_scorched_earth
		available = {
			597 = {
				OR = {
					arms_factory > 0
					industrial_complex > 0
				}
			}
		}
		highlight_states = {
			state = 597
		}
		visible = {
			597 = {
				OR = {
					arms_factory > 0
					industrial_complex > 0
				}
			}
			tag = event_target:KMT_central_gov_tag
			#has_completed_focus = KMT_the_big_rear_concept
			597 = {
				OR = {
					is_controlled_by = ROOT
					CONTROLLER = {
						#has_idea = cu_is_warlord
						has_war_together_with = ROOT
						has_full_control_of_state = PREV
					}
					CONTROLLER = {
						is_puppet_of = ROOT
					}
				}
			}
		}

		fire_only_once = yes
		cost = 25

		days_remove = 15

		modifier = {}

		remove_effect = {
			if = {
				limit = {
					597 = {
						OR = {
							is_controlled_by = ROOT
							CONTROLLER = {
								#has_idea = cu_is_warlord
								has_war_together_with = ROOT
								has_full_control_of_state = PREV
							}
							CONTROLLER = {
								is_subject_of = ROOT
							}
						}
					}
				}
				597 = {
					KMT_evacuate_industry_to_the_rear = yes
				}
			}
		}

		ai_will_do = {
			factor = 1
			modifier = {
				597 = {
					any_neighbor_state = {
						controller = {
							has_war_with = ROOT
						}
					}
				}
				factor = 1000
			}
		}
	}

	KMT_industrial_evacuations_qingdao = {
		icon = generic_scorched_earth
		available = {
			743 = {
				OR = {
					arms_factory > 0
					industrial_complex > 0
				}
			}
		}
		highlight_states = {
			state = 743
		}
		visible = {
			743 = {
				OR = {
					arms_factory > 0
					industrial_complex > 0
				}
			}
			tag = event_target:KMT_central_gov_tag
			#has_completed_focus = KMT_the_big_rear_concept
			743 = {
				OR = {
					is_controlled_by = ROOT
					CONTROLLER = {
						#has_idea = cu_is_warlord
						has_war_together_with = ROOT
						has_full_control_of_state = PREV
					}
					CONTROLLER = {
						is_puppet_of = ROOT
					}
				}
			}
		}

		fire_only_once = yes
		cost = 25

		days_remove = 15

		modifier = {}

		remove_effect = {
			if = {
				limit = {
					743 = {
						OR = {
							is_controlled_by = ROOT
							CONTROLLER = {
								#has_idea = cu_is_warlord
								has_war_together_with = ROOT
								has_full_control_of_state = PREV
							}
							CONTROLLER = {
								is_subject_of = ROOT
							}
						}
					}
				}
				743 = {
					KMT_evacuate_industry_to_the_rear = yes
				}
			}
		}

		ai_will_do = {
			factor = 1
			modifier = {
				743 = {
					any_neighbor_state = {
						controller = {
							has_war_with = ROOT
						}
					}
				}
				factor = 1000
			}
		}
	}

	KMT_industrial_evacuations_jinan = {
		icon = generic_scorched_earth
		available = {
			770 = {
				OR = {
					arms_factory > 0
					industrial_complex > 0
				}
			}
		}
		highlight_states = {
			state = 770
		}
		visible = {
			770 = {
				OR = {
					arms_factory > 0
					industrial_complex > 0
				}
			}
			tag = event_target:KMT_central_gov_tag
			#has_completed_focus = KMT_the_big_rear_concept
			770 = {
				OR = {
					is_controlled_by = ROOT
					CONTROLLER = {
						#has_idea = cu_is_warlord
						has_war_together_with = ROOT
						has_full_control_of_state = PREV
					}
					CONTROLLER = {
						is_puppet_of = ROOT
					}
				}
			}
		}

		fire_only_once = yes
		cost = 25

		days_remove = 15

		modifier = {}

		remove_effect = {
			if = {
				limit = {
					770 = {
						OR = {
							is_controlled_by = ROOT
							CONTROLLER = {
								#has_idea = cu_is_warlord
								has_war_together_with = ROOT
								has_full_control_of_state = PREV
							}
							CONTROLLER = {
								is_subject_of = ROOT
							}
						}
					}
				}
				770 = {
					KMT_evacuate_industry_to_the_rear = yes
				}
			}
		}

		ai_will_do = {
			factor = 1
			modifier = {
				770 = {
					any_neighbor_state = {
						controller = {
							has_war_with = ROOT
						}
					}
				}
				factor = 1000
			}
		}
	}

	KMT_industrial_evacuations_jiangsu = {
		icon = generic_scorched_earth
		available = {
			598 = {
				OR = {
					arms_factory > 0
					industrial_complex > 0
				}
			}
		}
		highlight_states = {
			state = 598
		}
		visible = {
			598 = {
				OR = {
					arms_factory > 0
					industrial_complex > 0
				}
			}
			tag = event_target:KMT_central_gov_tag
			#has_completed_focus = KMT_the_big_rear_concept
			598 = {
				OR = {
					is_controlled_by = ROOT
					CONTROLLER = {
						#has_idea = cu_is_warlord
						has_war_together_with = ROOT
						has_full_control_of_state = PREV
					}
					CONTROLLER = {
						is_puppet_of = ROOT
					}
				}
			}
		}

		fire_only_once = yes
		cost = 25

		days_remove = 15

		modifier = {}

		remove_effect = {
			if = {
				limit = {
					598 = {
						OR = {
							is_controlled_by = ROOT
							CONTROLLER = {
								#has_idea = cu_is_warlord
								has_war_together_with = ROOT
								has_full_control_of_state = PREV
							}
							CONTROLLER = {
								is_subject_of = ROOT
							}
						}
					}
				}
				598 = {
					KMT_evacuate_industry_to_the_rear = yes
				}
			}
		}

		ai_will_do = {
			factor = 1
			modifier = {
				598 = {
					any_neighbor_state = {
						controller = {
							has_war_with = ROOT
						}
					}
				}
				factor = 1000
			}
		}
	}

	KMT_industrial_evacuations_shanghai = {
		icon = generic_scorched_earth
		available = {
			769 = {
				OR = {
					arms_factory > 0
					industrial_complex > 0
				}
			}
		}
		highlight_states = {
			state = 769
		}
		visible = {
			769 = {
				OR = {
					arms_factory > 0
					industrial_complex > 0
				}
			}
			tag = event_target:KMT_central_gov_tag
			#has_completed_focus = KMT_the_big_rear_concept
			769 = {
				OR = {
					is_controlled_by = ROOT
					CONTROLLER = {
						#has_idea = cu_is_warlord
						has_war_together_with = ROOT
						has_full_control_of_state = PREV
					}
					CONTROLLER = {
						is_puppet_of = ROOT
					}
				}
			}
		}

		fire_only_once = yes
		cost = 25

		days_remove = 15

		modifier = {}

		remove_effect = {
			if = {
				limit = {
					769 = {
						OR = {
							is_controlled_by = ROOT
							CONTROLLER = {
								#has_idea = cu_is_warlord
								has_war_together_with = ROOT
								has_full_control_of_state = PREV
							}
							CONTROLLER = {
								is_subject_of = ROOT
							}
						}
					}
				}
				769 = {
					KMT_evacuate_industry_to_the_rear = yes
				}
			}
		}

		ai_will_do = {
			factor = 1
			modifier = {
				769 = {
					any_neighbor_state = {
						controller = {
							has_war_with = ROOT
						}
					}
				}
				factor = 1000
			}
		}
	}

	KMT_industrial_evacuations_nanjing = {
		icon = generic_scorched_earth
		available = {
			613 = {
				OR = {
					arms_factory > 0
					industrial_complex > 0
				}
			}
		}
		highlight_states = {
			state = 613
		}
		visible = {
			613 = {
				OR = {
					arms_factory > 0
					industrial_complex > 0
				}
			}
			tag = event_target:KMT_central_gov_tag
			#has_completed_focus = KMT_the_big_rear_concept
			613 = {
				OR = {
					is_controlled_by = ROOT
					CONTROLLER = {
						#has_idea = cu_is_warlord
						has_war_together_with = ROOT
						has_full_control_of_state = PREV
					}
					CONTROLLER = {
						is_puppet_of = ROOT
					}
				}
			}
		}

		fire_only_once = yes
		cost = 25

		days_remove = 15

		modifier = {}

		remove_effect = {
			if = {
				limit = {
					613 = {
						OR = {
							is_controlled_by = ROOT
							CONTROLLER = {
								#has_idea = cu_is_warlord
								has_war_together_with = ROOT
								has_full_control_of_state = PREV
							}
							CONTROLLER = {
								is_subject_of = ROOT
							}
						}
					}
				}
				613 = {
					KMT_evacuate_industry_to_the_rear = yes
				}
			}
		}

		ai_will_do = {
			factor = 1
			modifier = {
				613 = {
					any_neighbor_state = {
						controller = {
							has_war_with = ROOT
						}
					}
				}
				factor = 1000
			}
		}
	}

	KMT_industrial_evacuations_zhejiang = {
		icon = generic_scorched_earth
		available = {
			596 = {
				OR = {
					arms_factory > 0
					industrial_complex > 0
				}
			}
		}
		highlight_states = {
			state = 596
		}
		visible = {
			596 = {
				OR = {
					arms_factory > 0
					industrial_complex > 0
				}
			}
			tag = event_target:KMT_central_gov_tag
			#has_completed_focus = KMT_the_big_rear_concept
			596 = {
				OR = {
					is_controlled_by = ROOT
					CONTROLLER = {
						#has_idea = cu_is_warlord
						has_war_together_with = ROOT
						has_full_control_of_state = PREV
					}
					CONTROLLER = {
						is_puppet_of = ROOT
					}
				}
			}
		}

		fire_only_once = yes
		cost = 25

		days_remove = 15

		modifier = {}

		remove_effect = {
			if = {
				limit = {
					596 = {
						OR = {
							is_controlled_by = ROOT
							CONTROLLER = {
								#has_idea = cu_is_warlord
								has_war_together_with = ROOT
								has_full_control_of_state = PREV
							}
							CONTROLLER = {
								is_subject_of = ROOT
							}
						}
					}
				}
				596 = {
					KMT_evacuate_industry_to_the_rear = yes
				}
			}
		}

		ai_will_do = {
			factor = 1
			modifier = {
				596 = {
					any_neighbor_state = {
						controller = {
							has_war_with = ROOT
						}
					}
				}
				factor = 1000
			}
		}
	}

	KMT_industrial_evacuations_fujian = {
		icon = generic_scorched_earth
		available = {
			595 = {
				OR = {
					arms_factory > 0
					industrial_complex > 0
				}
			}
		}
		highlight_states = {
			state = 595
		}
		visible = {
			595 = {
				OR = {
					arms_factory > 0
					industrial_complex > 0
				}
			}
			tag = event_target:KMT_central_gov_tag
			#has_completed_focus = KMT_the_big_rear_concept
			595 = {
				OR = {
					is_controlled_by = ROOT
					CONTROLLER = {
						#has_idea = cu_is_warlord
						has_war_together_with = ROOT
						has_full_control_of_state = PREV
					}
					CONTROLLER = {
						is_puppet_of = ROOT
					}
				}
			}
		}

		fire_only_once = yes
		cost = 25

		days_remove = 15

		modifier = {}

		remove_effect = {
			if = {
				limit = {
					595 = {
						OR = {
							is_controlled_by = ROOT
							CONTROLLER = {
								#has_idea = cu_is_warlord
								has_war_together_with = ROOT
								has_full_control_of_state = PREV
							}
							CONTROLLER = {
								is_subject_of = ROOT
							}
						}
					}
				}
				595 = {
					KMT_evacuate_industry_to_the_rear = yes
				}
			}
		}

		ai_will_do = {
			factor = 1
			modifier = {
				595 = {
					any_neighbor_state = {
						controller = {
							has_war_with = ROOT
						}
					}
				}
				factor = 1000
			}
		}
	}

	KMT_industrial_evacuations_guangdong = {
		icon = generic_scorched_earth
		available = {
			593 = {
				OR = {
					arms_factory > 0
					industrial_complex > 0
				}
			}
		}
		highlight_states = {
			state = 593
		}
		visible = {
			593 = {
				OR = {
					arms_factory > 0
					industrial_complex > 0
				}
			}
			tag = event_target:KMT_central_gov_tag
			#has_completed_focus = KMT_the_big_rear_concept
			593 = {
				OR = {
					is_controlled_by = ROOT
					CONTROLLER = {
						#has_idea = cu_is_warlord
						has_war_together_with = ROOT
						has_full_control_of_state = PREV
					}
					CONTROLLER = {
						is_puppet_of = ROOT
					}
				}
			}
		}

		fire_only_once = yes
		cost = 25

		days_remove = 15

		modifier = {}

		remove_effect = {
			if = {
				limit = {
					593 = {
						OR = {
							is_controlled_by = ROOT
							CONTROLLER = {
								#has_idea = cu_is_warlord
								has_war_together_with = ROOT
								has_full_control_of_state = PREV
							}
							CONTROLLER = {
								is_subject_of = ROOT
							}
						}
					}
				}
				593 = {
					KMT_evacuate_industry_to_the_rear = yes
				}
			}
		}

		ai_will_do = {
			factor = 1
			modifier = {
				593 = {
					any_neighbor_state = {
						controller = {
							has_war_with = ROOT
						}
					}
				}
				factor = 1000
			}
		}
	}

	KMT_industrial_evacuations_guangzhou = {
		icon = generic_scorched_earth
		available = {
			592 = {
				OR = {
					arms_factory > 0
					industrial_complex > 0
				}
			}
		}
		highlight_states = {
			state = 592
		}
		visible = {
			592 = {
				OR = {
					arms_factory > 0
					industrial_complex > 0
				}
			}
			tag = event_target:KMT_central_gov_tag
			#has_completed_focus = KMT_the_big_rear_concept
			592 = {
				OR = {
					is_controlled_by = ROOT
					CONTROLLER = {
						#has_idea = cu_is_warlord
						has_war_together_with = ROOT
						has_full_control_of_state = PREV
					}
					CONTROLLER = {
						is_puppet_of = ROOT
					}
				}
			}
		}

		fire_only_once = yes
		cost = 25

		days_remove = 15

		modifier = {}

		remove_effect = {
			if = {
				limit = {
					592 = {
						OR = {
							is_controlled_by = ROOT
							CONTROLLER = {
								#has_idea = cu_is_warlord
								has_war_together_with = ROOT
								has_full_control_of_state = PREV
							}
							CONTROLLER = {
								is_subject_of = ROOT
							}
						}
					}
				}
				592 = {
					KMT_evacuate_industry_to_the_rear = yes
				}
			}
		}

		ai_will_do = {
			factor = 1
			modifier = {
				592 = {
					any_neighbor_state = {
						controller = {
							has_war_with = ROOT
						}
					}
				}
				factor = 1000
			}
		}
	}

	KMT_industrial_evacuations_hainan = {
		icon = generic_scorched_earth
		available = {
			591 = {
				OR = {
					arms_factory > 0
					industrial_complex > 0
				}
			}
		}
		highlight_states = {
			state = 591
		}
		visible = {
			591 = {
				OR = {
					arms_factory > 0
					industrial_complex > 0
				}
			}
			tag = event_target:KMT_central_gov_tag
			#has_completed_focus = KMT_the_big_rear_concept
			591 = {
				OR = {
					is_controlled_by = ROOT
					CONTROLLER = {
						#has_idea = cu_is_warlord
						has_war_together_with = ROOT
						has_full_control_of_state = PREV
					}
					CONTROLLER = {
						is_puppet_of = ROOT
					}
				}
			}
		}

		fire_only_once = yes
		cost = 25

		days_remove = 15

		modifier = {}

		remove_effect = {
			if = {
				limit = {
					591 = {
						OR = {
							is_controlled_by = ROOT
							CONTROLLER = {
								#has_idea = cu_is_warlord
								has_war_together_with = ROOT
								has_full_control_of_state = PREV
							}
							CONTROLLER = {
								is_subject_of = ROOT
							}
						}
					}
				}
				591 = {
					KMT_evacuate_industry_to_the_rear = yes
				}
			}
		}

		ai_will_do = {
			factor = 1
			modifier = {
				591 = {
					any_neighbor_state = {
						controller = {
							has_war_with = ROOT
						}
					}
				}
				factor = 1000
			}
		}
	}

	KMT_industrial_evacuations_hongkong = {
		icon = generic_scorched_earth
		available = {
			326 = {
				OR = {
					arms_factory > 0
					industrial_complex > 0
				}
			}
		}
		highlight_states = {
			state = 326
		}
		visible = {
			326 = {
				OR = {
					arms_factory > 0
					industrial_complex > 0
				}
			}
			tag = event_target:KMT_central_gov_tag
			#has_completed_focus = KMT_the_big_rear_concept
			326 = {
				OR = {
					is_controlled_by = ROOT
					CONTROLLER = {
						#has_idea = cu_is_warlord
						has_war_together_with = ROOT
						has_full_control_of_state = PREV
					}
					CONTROLLER = {
						is_puppet_of = ROOT
					}
				}
			}
		}

		fire_only_once = yes
		cost = 25

		days_remove = 15

		modifier = {}

		remove_effect = {
			if = {
				limit = {
					326 = {
						OR = {
							is_controlled_by = ROOT
							CONTROLLER = {
								#has_idea = cu_is_warlord
								has_war_together_with = ROOT
								has_full_control_of_state = PREV
							}
							CONTROLLER = {
								is_subject_of = ROOT
							}
						}
					}
				}
				326 = {
					KMT_evacuate_industry_to_the_rear = yes
				}
			}
		}

		ai_will_do = {
			factor = 1
			modifier = {
				326 = {
					any_neighbor_state = {
						controller = {
							has_war_with = ROOT
						}
					}
				}
				factor = 1000
			}
		}
	}

	KMT_industrial_evacuations_macao = {
		icon = generic_scorched_earth
		available = {
			729 = {
				OR = {
					arms_factory > 0
					industrial_complex > 0
				}
			}
		}
		highlight_states = {
			state = 729
		}
		visible = {
			729 = {
				OR = {
					arms_factory > 0
					industrial_complex > 0
				}
			}
			tag = event_target:KMT_central_gov_tag
			#has_completed_focus = KMT_the_big_rear_concept
			729 = {
				OR = {
					is_controlled_by = ROOT
					CONTROLLER = {
						#has_idea = cu_is_warlord
						has_war_together_with = ROOT
						has_full_control_of_state = PREV
					}
					CONTROLLER = {
						is_puppet_of = ROOT
					}
				}
			}
		}

		fire_only_once = yes
		cost = 25

		days_remove = 15

		modifier = {}

		remove_effect = {
			if = {
				limit = {
					729 = {
						OR = {
							is_controlled_by = ROOT
							CONTROLLER = {
								#has_idea = cu_is_warlord
								has_war_together_with = ROOT
								has_full_control_of_state = PREV
							}
							CONTROLLER = {
								is_subject_of = ROOT
							}
						}
					}
				}
				729 = {
					KMT_evacuate_industry_to_the_rear = yes
				}
			}
		}

		ai_will_do = {
			factor = 1
			modifier = {
				729 = {
					any_neighbor_state = {
						controller = {
							has_war_with = ROOT
						}
					}
				}
				factor = 1000
			}
		}
	}

	KMT_industrial_evacuations_gzw = {
		icon = generic_scorched_earth
		available = {
			728 = {
				OR = {
					arms_factory > 0
					industrial_complex > 0
				}
			}
		}
		highlight_states = {
			state = 728
		}
		visible = {
			728 = {
				OR = {
					arms_factory > 0
					industrial_complex > 0
				}
			}
			tag = event_target:KMT_central_gov_tag
			#has_completed_focus = KMT_the_big_rear_concept
			728 = {
				OR = {
					is_controlled_by = ROOT
					CONTROLLER = {
						#has_idea = cu_is_warlord
						has_war_together_with = ROOT
						has_full_control_of_state = PREV
					}
					CONTROLLER = {
						is_puppet_of = ROOT
					}
				}
			}
		}

		fire_only_once = yes
		cost = 25

		days_remove = 15

		modifier = {}

		remove_effect = {
			if = {
				limit = {
					728 = {
						OR = {
							is_controlled_by = ROOT
							CONTROLLER = {
								#has_idea = cu_is_warlord
								has_war_together_with = ROOT
								has_full_control_of_state = PREV
							}
							CONTROLLER = {
								is_subject_of = ROOT
							}
						}
					}
				}
				728 = {
					KMT_evacuate_industry_to_the_rear = yes
				}
			}
		}

		ai_will_do = {
			factor = 1
			modifier = {
				728 = {
					any_neighbor_state = {
						controller = {
							has_war_with = ROOT
						}
					}
				}
				factor = 1000
			}
		}
	}

	KMT_industrial_evacuations_nanning = {
		icon = generic_scorched_earth
		available = {
			594 = {
				OR = {
					arms_factory > 0
					industrial_complex > 0
				}
			}
		}
		highlight_states = {
			state = 594
		}
		visible = {
			594 = {
				OR = {
					arms_factory > 0
					industrial_complex > 0
				}
			}
			tag = event_target:KMT_central_gov_tag
			#has_completed_focus = KMT_the_big_rear_concept
			594 = {
				OR = {
					is_controlled_by = ROOT
					CONTROLLER = {
						#has_idea = cu_is_warlord
						has_war_together_with = ROOT
						has_full_control_of_state = PREV
					}
					CONTROLLER = {
						is_puppet_of = ROOT
					}
				}
			}
		}

		fire_only_once = yes
		cost = 25

		days_remove = 15

		modifier = {}

		remove_effect = {
			if = {
				limit = {
					594 = {
						OR = {
							is_controlled_by = ROOT
							CONTROLLER = {
								#has_idea = cu_is_warlord
								has_war_together_with = ROOT
								has_full_control_of_state = PREV
							}
							CONTROLLER = {
								is_subject_of = ROOT
							}
						}
					}
				}
				594 = {
					KMT_evacuate_industry_to_the_rear = yes
				}
			}
		}

		ai_will_do = {
			factor = 1
			modifier = {
				594 = {
					any_neighbor_state = {
						controller = {
							has_war_with = ROOT
						}
					}
				}
				factor = 1000
			}
		}
	}

	KMT_industrial_evacuations_shiukwan = {
		icon = generic_scorched_earth
		available = {
			763 = {
				OR = {
					arms_factory > 0
					industrial_complex > 0
				}
			}
		}
		highlight_states = {
			state = 763
		}
		visible = {
			763 = {
				OR = {
					arms_factory > 0
					industrial_complex > 0
				}
			}
			tag = event_target:KMT_central_gov_tag
			#has_completed_focus = KMT_the_big_rear_concept
			763 = {
				OR = {
					is_controlled_by = ROOT
					CONTROLLER = {
						#has_idea = cu_is_warlord
						has_war_together_with = ROOT
						has_full_control_of_state = PREV
					}
					CONTROLLER = {
						is_puppet_of = ROOT
					}
				}
			}
		}

		fire_only_once = yes
		cost = 25

		days_remove = 15

		modifier = {}

		remove_effect = {
			if = {
				limit = {
					763 = {
						OR = {
							is_controlled_by = ROOT
							CONTROLLER = {
								#has_idea = cu_is_warlord
								has_war_together_with = ROOT
								has_full_control_of_state = PREV
							}
							CONTROLLER = {
								is_subject_of = ROOT
							}
						}
					}
				}
				763 = {
					KMT_evacuate_industry_to_the_rear = yes
				}
			}
		}

		ai_will_do = {
			factor = 1
			modifier = {
				763 = {
					any_neighbor_state = {
						controller = {
							has_war_with = ROOT
						}
					}
				}
				factor = 1000
			}
		}
	}

	KMT_industrial_evacuations_taiyuan = {
		icon = generic_scorched_earth
		available = {
			615 = {
				OR = {
					arms_factory > 0
					industrial_complex > 0
				}
			}
		}
		highlight_states = {
			state = 615
		}
		visible = {
			615 = {
				OR = {
					arms_factory > 0
					industrial_complex > 0
				}
			}
			tag = event_target:KMT_central_gov_tag
			#has_completed_focus = KMT_the_big_rear_concept
			615 = {
				OR = {
					is_controlled_by = ROOT
					CONTROLLER = {
						#has_idea = cu_is_warlord
						has_war_together_with = ROOT
						has_full_control_of_state = PREV
					}
					CONTROLLER = {
						is_puppet_of = ROOT
					}
				}
			}
		}

		fire_only_once = yes
		cost = 25

		days_remove = 15

		modifier = {}

		remove_effect = {
			if = {
				limit = {
					615 = {
						OR = {
							is_controlled_by = ROOT
							CONTROLLER = {
								#has_idea = cu_is_warlord
								has_war_together_with = ROOT
								has_full_control_of_state = PREV
							}
							CONTROLLER = {
								is_subject_of = ROOT
							}
						}
					}
				}
				615 = {
					KMT_evacuate_industry_to_the_rear = yes
				}
			}
		}

		ai_will_do = {
			factor = 1
			modifier = {
				615 = {
					any_neighbor_state = {
						controller = {
							has_war_with = ROOT
						}
					}
				}
				factor = 1000
			}
		}
	}

	KMT_industrial_evacuations_henan = {
		icon = generic_scorched_earth
		available = {
			607 = {
				OR = {
					arms_factory > 0
					industrial_complex > 0
				}
			}
		}
		highlight_states = {
			state = 607
		}
		visible = {
			607 = {
				OR = {
					arms_factory > 0
					industrial_complex > 0
				}
			}
			tag = event_target:KMT_central_gov_tag
			#has_completed_focus = KMT_the_big_rear_concept
			607 = {
				OR = {
					is_controlled_by = ROOT
					CONTROLLER = {
						#has_idea = cu_is_warlord
						has_war_together_with = ROOT
						has_full_control_of_state = PREV
					}
					CONTROLLER = {
						is_puppet_of = ROOT
					}
				}
			}
		}

		fire_only_once = yes
		cost = 25

		days_remove = 15

		modifier = {}

		remove_effect = {
			if = {
				limit = {
					607 = {
						OR = {
							is_controlled_by = ROOT
							CONTROLLER = {
								#has_idea = cu_is_warlord
								has_war_together_with = ROOT
								has_full_control_of_state = PREV
							}
							CONTROLLER = {
								is_subject_of = ROOT
							}
						}
					}
				}
				607 = {
					KMT_evacuate_industry_to_the_rear = yes
				}
			}
		}

		ai_will_do = {
			factor = 1
			modifier = {
				607 = {
					any_neighbor_state = {
						controller = {
							has_war_with = ROOT
						}
					}
				}
				factor = 1000
			}
		}
	}

	KMT_industrial_evacuations_nanyang = {
		icon = generic_scorched_earth
		available = {
			771 = {
				OR = {
					arms_factory > 0
					industrial_complex > 0
				}
			}
		}
		highlight_states = {
			state = 771
		}
		visible = {
			771 = {
				OR = {
					arms_factory > 0
					industrial_complex > 0
				}
			}
			tag = event_target:KMT_central_gov_tag
			#has_completed_focus = KMT_the_big_rear_concept
			771 = {
				OR = {
					is_controlled_by = ROOT
					CONTROLLER = {
						#has_idea = cu_is_warlord
						has_war_together_with = ROOT
						has_full_control_of_state = PREV
					}
					CONTROLLER = {
						is_puppet_of = ROOT
					}
				}
			}
		}

		fire_only_once = yes
		cost = 25

		days_remove = 15

		modifier = {}

		remove_effect = {
			if = {
				limit = {
					771 = {
						OR = {
							is_controlled_by = ROOT
							CONTROLLER = {
								#has_idea = cu_is_warlord
								has_war_together_with = ROOT
								has_full_control_of_state = PREV
							}
							CONTROLLER = {
								is_subject_of = ROOT
							}
						}
					}
				}
				771 = {
				}
			}
		}

		ai_will_do = {
			factor = 1
			modifier = {
				771 = {
					any_neighbor_state = {
						controller = {
							has_war_with = ROOT
						}
					}
				}
				factor = 1000
			}
		}
	}

	KMT_industrial_evacuations_anhui = {
		icon = generic_scorched_earth
		available = {
			606 = {
				OR = {
					arms_factory > 0
					industrial_complex > 0
				}
			}
		}
		highlight_states = {
			state = 606
		}
		visible = {
			606 = {
				OR = {
					arms_factory > 0
					industrial_complex > 0
				}
			}
			tag = event_target:KMT_central_gov_tag
			#has_completed_focus = KMT_the_big_rear_concept
			606 = {
				OR = {
					is_controlled_by = ROOT
					CONTROLLER = {
						#has_idea = cu_is_warlord
						has_war_together_with = ROOT
						has_full_control_of_state = PREV
					}
					CONTROLLER = {
						is_puppet_of = ROOT
					}
				}
			}
		}

		fire_only_once = yes
		cost = 25

		days_remove = 15

		modifier = {}

		remove_effect = {
			if = {
				limit = {
					606 = {
						OR = {
							is_controlled_by = ROOT
							CONTROLLER = {
								#has_idea = cu_is_warlord
								has_war_together_with = ROOT
								has_full_control_of_state = PREV
							}
							CONTROLLER = {
								is_subject_of = ROOT
							}
						}
					}
				}
				606 = {
					KMT_evacuate_industry_to_the_rear = yes
				}
			}
		}

		ai_will_do = {
			factor = 1
			modifier = {
				606 = {
					any_neighbor_state = {
						controller = {
							has_war_with = ROOT
						}
					}
				}
				factor = 1000
			}
		}
	}

	KMT_industrial_evacuations_huizhou = {
		icon = generic_scorched_earth
		available = {
			749 = {
				OR = {
					arms_factory > 0
					industrial_complex > 0
				}
			}
		}
		highlight_states = {
			state = 749
		}
		visible = {
			749 = {
				OR = {
					arms_factory > 0
					industrial_complex > 0
				}
			}
			tag = event_target:KMT_central_gov_tag
			#has_completed_focus = KMT_the_big_rear_concept
			749 = {
				OR = {
					is_controlled_by = ROOT
					CONTROLLER = {
						#has_idea = cu_is_warlord
						has_war_together_with = ROOT
						has_full_control_of_state = PREV
					}
					CONTROLLER = {
						is_puppet_of = ROOT
					}
				}
			}
		}

		fire_only_once = yes
		cost = 25

		days_remove = 15

		modifier = {}

		remove_effect = {
			if = {
				limit = {
					749 = {
						OR = {
							is_controlled_by = ROOT
							CONTROLLER = {
								#has_idea = cu_is_warlord
								has_war_together_with = ROOT
								has_full_control_of_state = PREV
							}
							CONTROLLER = {
								is_subject_of = ROOT
							}
						}
					}
				}
				749 = {
					KMT_evacuate_industry_to_the_rear = yes
				}
			}
		}

		ai_will_do = {
			factor = 1
			modifier = {
				749 = {
					any_neighbor_state = {
						controller = {
							has_war_with = ROOT
						}
					}
				}
				factor = 1000
			}
		}
	}

	KMT_industrial_evacuations_jiangxi = {
		icon = generic_scorched_earth
		available = {
			600 = {
				OR = {
					arms_factory > 0
					industrial_complex > 0
				}
			}
		}
		highlight_states = {
			state = 600
		}
		visible = {
			600 = {
				OR = {
					arms_factory > 0
					industrial_complex > 0
				}
			}
			tag = event_target:KMT_central_gov_tag
			#has_completed_focus = KMT_the_big_rear_concept
			600 = {
				OR = {
					is_controlled_by = ROOT
					CONTROLLER = {
						#has_idea = cu_is_warlord
						has_war_together_with = ROOT
						has_full_control_of_state = PREV
					}
					CONTROLLER = {
						is_puppet_of = ROOT
					}
				}
			}
		}

		fire_only_once = yes
		cost = 25

		days_remove = 15

		modifier = {}

		remove_effect = {
			if = {
				limit = {
					600 = {
						OR = {
							is_controlled_by = ROOT
							CONTROLLER = {
								#has_idea = cu_is_warlord
								has_war_together_with = ROOT
								has_full_control_of_state = PREV
							}
							CONTROLLER = {
								is_subject_of = ROOT
							}
						}
					}
				}
				600 = {
					KMT_evacuate_industry_to_the_rear = yes
				}
			}
		}

		ai_will_do = {
			factor = 1
			modifier = {
				600 = {
					any_neighbor_state = {
						controller = {
							has_war_with = ROOT
						}
					}
				}
				factor = 1000
			}
		}
	}

	KMT_industrial_evacuations_ganzhou = {
		icon = generic_scorched_earth
		available = {
			773 = {
				OR = {
					arms_factory > 0
					industrial_complex > 0
				}
			}
		}
		highlight_states = {
			state = 773
		}
		visible = {
			773 = {
				OR = {
					arms_factory > 0
					industrial_complex > 0
				}
			}
			tag = event_target:KMT_central_gov_tag
			#has_completed_focus = KMT_the_big_rear_concept
			773 = {
				OR = {
					is_controlled_by = ROOT
					CONTROLLER = {
						#has_idea = cu_is_warlord
						has_war_together_with = ROOT
						has_full_control_of_state = PREV
					}
					CONTROLLER = {
						is_puppet_of = ROOT
					}
				}
			}
		}

		fire_only_once = yes
		cost = 25

		days_remove = 15

		modifier = {}

		remove_effect = {
			if = {
				limit = {
					773 = {
						OR = {
							is_controlled_by = ROOT
							CONTROLLER = {
								#has_idea = cu_is_warlord
								has_war_together_with = ROOT
								has_full_control_of_state = PREV
							}
							CONTROLLER = {
								is_subject_of = ROOT
							}
						}
					}
				}
				773 = {
					KMT_evacuate_industry_to_the_rear = yes
				}
			}
		}

		ai_will_do = {
			factor = 1
			modifier = {
				773 = {
					any_neighbor_state = {
						controller = {
							has_war_with = ROOT
						}
					}
				}
				factor = 1000
			}
		}
	}

	KMT_industrial_evacuations_jian = {
		icon = generic_scorched_earth
		available = {
			774 = {
				OR = {
					arms_factory > 0
					industrial_complex > 0
				}
			}
		}
		highlight_states = {
			state = 774
		}
		visible = {
			774 = {
				OR = {
					arms_factory > 0
					industrial_complex > 0
				}
			}
			tag = event_target:KMT_central_gov_tag
			#has_completed_focus = KMT_the_big_rear_concept
			774 = {
				OR = {
					is_controlled_by = ROOT
					CONTROLLER = {
						#has_idea = cu_is_warlord
						has_war_together_with = ROOT
						has_full_control_of_state = PREV
					}
					CONTROLLER = {
						is_puppet_of = ROOT
					}
				}
			}
		}

		fire_only_once = yes
		cost = 25

		days_remove = 15

		modifier = {}

		remove_effect = {
			if = {
				limit = {
					774 = {
						OR = {
							is_controlled_by = ROOT
							CONTROLLER = {
								#has_idea = cu_is_warlord
								has_war_together_with = ROOT
								has_full_control_of_state = PREV
							}
							CONTROLLER = {
								is_subject_of = ROOT
							}
						}
					}
				}
				774 = {
					KMT_evacuate_industry_to_the_rear = yes
				}
			}
		}

		ai_will_do = {
			factor = 1
			modifier = {
				774 = {
					any_neighbor_state = {
						controller = {
							has_war_with = ROOT
						}
					}
				}
				factor = 1000
			}
		}
	}

	KMT_industrial_evacuations_wuhan = {
		icon = generic_scorched_earth
		available = {
			765 = {
				OR = {
					arms_factory > 0
					industrial_complex > 0
				}
			}
		}
		highlight_states = {
			state = 765
		}
		visible = {
			765 = {
				OR = {
					arms_factory > 0
					industrial_complex > 0
				}
			}
			tag = event_target:KMT_central_gov_tag
			#has_completed_focus = KMT_the_big_rear_concept
			765 = {
				OR = {
					is_controlled_by = ROOT
					CONTROLLER = {
						#has_idea = cu_is_warlord
						has_war_together_with = ROOT
						has_full_control_of_state = PREV
					}
					CONTROLLER = {
						is_puppet_of = ROOT
					}
				}
			}
		}

		fire_only_once = yes
		cost = 25

		days_remove = 15

		modifier = {}

		remove_effect = {
			if = {
				limit = {
					765 = {
						OR = {
							is_controlled_by = ROOT
							CONTROLLER = {
								#has_idea = cu_is_warlord
								has_war_together_with = ROOT
								has_full_control_of_state = PREV
							}
							CONTROLLER = {
								is_subject_of = ROOT
							}
						}
					}
				}
				765 = {
					KMT_evacuate_industry_to_the_rear = yes
				}
			}
		}

		ai_will_do = {
			factor = 1
			modifier = {
				765 = {
					any_neighbor_state = {
						controller = {
							has_war_with = ROOT
						}
					}
				}
				factor = 1000
			}
		}
	}

	KMT_industrial_evacuations_hupeh = {
		icon = generic_scorched_earth
		available = {
			620 = {
				OR = {
					arms_factory > 0
					industrial_complex > 0
				}
			}
		}
		highlight_states = {
			state = 620
		}
		visible = {
			620 = {
				OR = {
					arms_factory > 0
					industrial_complex > 0
				}
			}
			tag = event_target:KMT_central_gov_tag
			#has_completed_focus = KMT_the_big_rear_concept
			620 = {
				OR = {
					is_controlled_by = ROOT
					CONTROLLER = {
						#has_idea = cu_is_warlord
						has_war_together_with = ROOT
						has_full_control_of_state = PREV
					}
					CONTROLLER = {
						is_puppet_of = ROOT
					}
				}
			}
		}

		fire_only_once = yes
		cost = 25

		days_remove = 15

		modifier = {}

		remove_effect = {
			if = {
				limit = {
					620 = {
						OR = {
							is_controlled_by = ROOT
							CONTROLLER = {
								#has_idea = cu_is_warlord
								has_war_together_with = ROOT
								has_full_control_of_state = PREV
							}
							CONTROLLER = {
								is_subject_of = ROOT
							}
						}
					}
				}
				620 = {
					KMT_evacuate_industry_to_the_rear = yes
				}
			}
		}

		ai_will_do = {
			factor = 1
			modifier = {
				625 = {
					any_neighbor_state = {
						controller = {
							has_war_with = ROOT
						}
					}
				}
				factor = 1000
			}
		}
	}

	KMT_industrial_evacuations_hunan = {
		icon = generic_scorched_earth
		available = {
			602 = {
				OR = {
					arms_factory > 0
					industrial_complex > 0
				}
			}
		}
		highlight_states = {
			state = 602
		}
		visible = {
			602 = {
				OR = {
					arms_factory > 0
					industrial_complex > 0
				}
			}
			tag = event_target:KMT_central_gov_tag
			#has_completed_focus = KMT_the_big_rear_concept
			602 = {
				OR = {
					is_controlled_by = ROOT
					CONTROLLER = {
						#has_idea = cu_is_warlord
						has_war_together_with = ROOT
						has_full_control_of_state = PREV
					}
					CONTROLLER = {
						is_puppet_of = ROOT
					}
				}
			}
		}

		fire_only_once = yes
		cost = 25

		days_remove = 15

		modifier = {}

		remove_effect = {
			if = {
				limit = {
					602 = {
						OR = {
							is_controlled_by = ROOT
							CONTROLLER = {
								#has_idea = cu_is_warlord
								has_war_together_with = ROOT
								has_full_control_of_state = PREV
							}
							CONTROLLER = {
								is_subject_of = ROOT
							}
						}
					}
				}
				602 = {
					KMT_evacuate_industry_to_the_rear = yes
				}
			}
		}

		ai_will_do = {
			factor = 1
			modifier = {
				602 = {
					any_neighbor_state = {
						controller = {
							has_war_with = ROOT
						}
					}
				}
				factor = 1000
			}
		}
	}
}

KMT_dcat_central_government = {

	KMT_take_the_seat_of_central_gov = {
		icon = generic_scorched_earth
		available = {
			custom_trigger_tooltip = {
				tooltip = KMT_own_central_gov_capital_tt
				OR = {
					event_target:KMT_central_gov_capital_state = {
						is_owned_by = ROOT
					}
				}
			}
			is_chinese_nations = yes
			is_puppet = no
			OR = {
				#has_idea = cg_warlords
				#has_idea = cg_warlords_ssc
				#has_idea = cg_displaced_warlords
			}
		}
		highlight_states = {
			state = event_target:KMT_central_gov_capital_state
		}
		visible = {
			OR = {
				#has_idea = cg_warlords
				#has_idea = cg_displaced_warlords
				#has_idea = cg_warlords_ssc
			}
		}

		fire_only_once = no
		cost = 0

		days_remove = 0

		modifier = {}

		complete_effect = {
			add_ideas = cg_true
		}

		ai_will_do = {
			factor = 1000
		}
	}
}

@KMT_SPREAD_REVOLUTION_EQUIPMENT_COST_TRIGGER = 4999
@KMT_SPREAD_REVOLUTION_EQUIPMENT_COST_EFFECT = -5000
@KMT_SPREAD_REVOLUTION_EQUIPMENT_AI_CHANCE = 10001
@KMT_SPREAD_REVOLUTION_PP_COST = 250
@KMT_SPREAD_REVOLUTION_DAYS_REMOVE = 100

KMT_dcat_spread_revolution = {

	KMT_spread_revolution_VIN = {
		icon = generic_nationalism
		available = { has_equipment = { infantry_equipment > @KMT_SPREAD_REVOLUTION_EQUIPMENT_COST_TRIGGER } }
		visible = {
			tag = CHI
			NOT = {
				any_country = {
					original_tag = event_target:KMT_spread_revolution_target_VIN
					has_government = communism
					exists = yes
				}
				has_wargoal_against = event_target:KMT_spread_revolution_target_VIN
				has_war_with = event_target:KMT_spread_revolution_target_VIN
			}
			any_state = {
				is_core_of = event_target:KMT_spread_revolution_target_VIN
				is_on_continent = asia
			}
		}
		cancel_trigger = {
			any_country = {
				original_tag = event_target:KMT_spread_revolution_target_VIN
				has_government = communism
				exists = yes
			}
		}

		fire_only_once = no
		cost = @KMT_SPREAD_REVOLUTION_PP_COST

		days_remove = @KMT_SPREAD_REVOLUTION_DAYS_REMOVE

		ai_will_do = {
			base = 10
			modifier = {
				event_target:KMT_spread_revolution_target_VIN = {
					OR = {
						is_in_faction_with = ROOT
						has_war_together_with = ROOT
					}
				}
				ROOT = {
					has_opinion = {
						target = event_target:KMT_spread_revolution_target_VIN
						value > 29
					}
				}
				factor = 0
			}
			modifier = {
				event_target:KMT_spread_revolution_target_VIN = {
					is_subject_of = ROOT
				}
				factor = 1000
			}
			modifier = {
				has_equipment = {
					infantry_equipment < @KMT_SPREAD_REVOLUTION_EQUIPMENT_AI_CHANCE
				}
				factor = 0
			}
		}

		modifier = {}

		complete_effect = {
			add_equipment_to_stockpile = {
				type = infantry_equipment
				amount = @KMT_SPREAD_REVOLUTION_EQUIPMENT_COST_EFFECT
			}
		}

		remove_effect = {
			every_country = {
				limit = {
					has_country_flag = KMT_VIN_former_coloniser_flag
				}
				clr_country_flag = KMT_VIN_former_coloniser_flag
			}
			event_target:KMT_spread_revolution_target_VIN = {
				clr_country_flag = KMT_independence_war_from_spread
				if = {
					limit = { NOT = { has_country_flag = KMT_spread_first_time_create_template } }
					division_template = {
						name = "Qu㮠Doi C⤨ Mang"

						regiments = {
							infantry = { x = 0 y = 0 }
							infantry = { x = 0 y = 1 }
							infantry = { x = 0 y = 2 }
							infantry = { x = 1 y = 0 }
							infantry = { x = 1 y = 1 }
							infantry = { x = 1 y = 2 }
						}
					}
					set_country_flag = KMT_spread_first_time_create_template
				}
			}
			if = {
				limit = {
					NOT = {
						country_exists = event_target:KMT_spread_revolution_target_VIN
					}
				}
				every_state = {
					limit = {
						is_core_of = event_target:KMT_spread_revolution_target_VIN
					}
					owner = {
						if = {
							limit = {
								NOT = {
									has_country_flag = KMT_VIN_former_coloniser_flag
									tag = ROOT
								}
							}
							event_target:KMT_spread_revolution_target_VIN = {
								declare_war_on = {
									target = PREV
									type = topple_government
								}
							}
							set_variable = { var = KMT_spread_revolution_int_match_check  value = 1 }
							set_country_flag = KMT_VIN_former_coloniser_flag
						}
					}
					event_target:KMT_spread_revolution_target_VIN = {
						hidden_effect = {
							add_ideas = KMT_spread_independence_war
						}
						add_timed_idea = {
							days = 365
							idea = strive_for_independence
						}
						set_variable = { var = KMT_spread_revolution_int_match_check  value = 1 }
						set_country_flag = KMT_independence_war_from_spread
						transfer_state = PREV
						hidden_effect = {
							country_event = { id = kmt.545 }
						}
					}
					create_unit = {
						division = "name = \"Qu㮠Doi C⤨ Mang\" division_template = \"Qu㮠Doi C⤨ Mang\" start_experience_factor = 0.5"
						owner = event_target:KMT_spread_revolution_target_VIN
					}
					create_unit = {
						division = "name = \"Qu㮠Doi C⤨ Mang\" division_template = \"Qu㮠Doi C⤨ Mang\" start_experience_factor = 0.5"
						owner = event_target:KMT_spread_revolution_target_VIN
					}
					create_unit = {
						division = "name = \"Qu㮠Doi C⤨ Mang\" division_template = \"Qu㮠Doi C⤨ Mang\" start_experience_factor = 0.5"
						owner = event_target:KMT_spread_revolution_target_VIN
					}
					create_unit = {
						division = "name = \"Qu㮠Doi C⤨ Mang\" division_template = \"Qu㮠Doi C⤨ Mang\" start_experience_factor = 0.5"
						owner = event_target:KMT_spread_revolution_target_VIN
					}
				}
				else = {
					if = {
						limit = {
							event_target:KMT_spread_revolution_target_VIN = {
								NOT = {
									has_government = communism
								}
							}
						}
						event_target:KMT_spread_revolution_target_VIN = { country_event = { id = kmt.539 } }
					}
				}
			}
		}
	}

	KMT_spread_revolution_CAM = {
		icon = generic_nationalism
		available = { has_equipment = { infantry_equipment > @KMT_SPREAD_REVOLUTION_EQUIPMENT_COST_TRIGGER } }
		visible = {
			tag = CHI
			NOT = {
				any_country = {
					original_tag = event_target:KMT_spread_revolution_target_CAM
					has_government = communism
					exists = yes
				}
				has_wargoal_against = event_target:KMT_spread_revolution_target_CAM
				has_war_with = event_target:KMT_spread_revolution_target_CAM
			}
			any_state = {
				is_core_of = event_target:KMT_spread_revolution_target_CAM
				is_on_continent = asia
			}
		}
		cancel_trigger = {
			any_country = {
				original_tag = event_target:KMT_spread_revolution_target_CAM
				has_government = communism
				exists = yes
			}
		}

		fire_only_once = no
		cost = @KMT_SPREAD_REVOLUTION_PP_COST

		days_remove = @KMT_SPREAD_REVOLUTION_DAYS_REMOVE

		ai_will_do = {
			base = 10
			modifier = {
				event_target:KMT_spread_revolution_target_CAM = {
					OR = {
						is_in_faction_with = ROOT
						has_war_together_with = ROOT
					}
				}
				ROOT = {
					has_opinion = {
						target = event_target:KMT_spread_revolution_target_CAM
						value > 29
					}
				}
				factor = 0
			}
			modifier = {
				event_target:KMT_spread_revolution_target_CAM = {
					is_subject_of = ROOT
				}
				factor = 1000
			}
			modifier = {
				has_equipment = {
					infantry_equipment < @KMT_SPREAD_REVOLUTION_EQUIPMENT_AI_CHANCE
				}
				factor = 0
			}
		}

		modifier = {}

		complete_effect = {
			add_equipment_to_stockpile = {
				type = infantry_equipment
				amount = @KMT_SPREAD_REVOLUTION_EQUIPMENT_COST_EFFECT
			}
		}

		remove_effect = {
			every_country = {
				limit = {
					has_country_flag = KMT_CAM_former_coloniser_flag
				}
				clr_country_flag = KMT_CAM_former_coloniser_flag
			}
			event_target:KMT_spread_revolution_target_CAM = {
				clr_country_flag = KMT_independence_war_from_spread
				if = {
					limit = {
						NOT = { has_country_flag = KMT_spread_first_time_create_template }
					}
					division_template = {
						name = "Bdevott Kangtp"

						regiments = {
							infantry = { x = 0 y = 0 }
							infantry = { x = 0 y = 1 }
							infantry = { x = 0 y = 2 }
							infantry = { x = 1 y = 0 }
							infantry = { x = 1 y = 1 }
							infantry = { x = 1 y = 2 }
						}
					}
					set_country_flag = KMT_spread_first_time_create_template
				}
			}
			if = {
				limit = {
					NOT = {
						country_exists = event_target:KMT_spread_revolution_target_CAM
					}
				}
				every_state = {
					limit = {
						is_core_of = event_target:KMT_spread_revolution_target_CAM
					}
					owner = {
						if = {
							limit = {
								NOT = {
									has_country_flag = KMT_CAM_former_coloniser_flag
									tag = ROOT
								}
							}
							event_target:KMT_spread_revolution_target_CAM = {
								declare_war_on = {
									target = PREV
									type = topple_government
								}
							}
							set_variable = { var = KMT_spread_revolution_int_match_check  value = 2 }
							set_country_flag = KMT_CAM_former_coloniser_flag
						}
					}
					event_target:KMT_spread_revolution_target_CAM = {
						hidden_effect = {
							add_ideas = KMT_spread_independence_war
						}
						add_timed_idea = {
							days = 365
							idea = strive_for_independence
						}
						set_variable = { var = KMT_spread_revolution_int_match_check  value = 2 }
						set_country_flag = KMT_independence_war_from_spread
						transfer_state = PREV
						hidden_effect = {
							country_event = { id = kmt.545 }
						}
					}
					create_unit = {
						division = "name = \"Bdevott Kangtp\" division_template = \"Bdevott Kangtp\" start_experience_factor = 0.5"
						owner = event_target:KMT_spread_revolution_target_CAM
					}
					create_unit = {
						division = "name = \"Bdevott Kangtp\" division_template = \"Bdevott Kangtp\" start_experience_factor = 0.5"
						owner = event_target:KMT_spread_revolution_target_CAM
					}
					create_unit = {
						division = "name = \"Bdevott Kangtp\" division_template = \"Bdevott Kangtp\" start_experience_factor = 0.5"
						owner = event_target:KMT_spread_revolution_target_CAM
					}
					create_unit = {
						division = "name = \"Bdevott Kangtp\" division_template = \"Bdevott Kangtp\" start_experience_factor = 0.5"
						owner = event_target:KMT_spread_revolution_target_CAM
					}
				}
				else = {
					if = {
						limit = {
							event_target:KMT_spread_revolution_target_CAM = {
								NOT = {
									has_government = communism
								}
							}
						}
						event_target:KMT_spread_revolution_target_CAM = { country_event = { id = kmt.539 } }
					}
				}
			}
		}
	}

	KMT_spread_revolution_LAO = {
		icon = generic_nationalism
		available = { has_equipment = { infantry_equipment > @KMT_SPREAD_REVOLUTION_EQUIPMENT_COST_TRIGGER } }
		visible = {
			tag = CHI
			NOT = {
				any_country = {
					original_tag = event_target:KMT_spread_revolution_target_LAO
					has_government = communism
					exists = yes
				}
				has_wargoal_against = event_target:KMT_spread_revolution_target_LAO
				has_war_with = event_target:KMT_spread_revolution_target_LAO
			}
			any_state = {
				is_core_of = event_target:KMT_spread_revolution_target_LAO
				is_on_continent = asia
			}
		}
		cancel_trigger = {
			any_country = {
				original_tag = event_target:KMT_spread_revolution_target_LAO
				has_government = communism
				exists = yes
			}
		}

		fire_only_once = no
		cost = @KMT_SPREAD_REVOLUTION_PP_COST

		days_remove = @KMT_SPREAD_REVOLUTION_DAYS_REMOVE

		ai_will_do = {
			base = 10
			modifier = {
				event_target:KMT_spread_revolution_target_LAO = {
					OR = {
						is_in_faction_with = ROOT
						has_war_together_with = ROOT
					}
				}
				ROOT = {
					has_opinion = {
						target = event_target:KMT_spread_revolution_target_LAO
						value > 29
					}
				}
				factor = 0
			}
			modifier = {
				event_target:KMT_spread_revolution_target_LAO = {
					is_subject_of = ROOT
				}
				factor = 1000
			}
			modifier = {
				has_equipment = {
					infantry_equipment < @KMT_SPREAD_REVOLUTION_EQUIPMENT_AI_CHANCE
				}
				factor = 0
			}
		}

		modifier = {}

		complete_effect = {
			add_equipment_to_stockpile = {
				type = infantry_equipment
				amount = @KMT_SPREAD_REVOLUTION_EQUIPMENT_COST_EFFECT
			}
		}

		remove_effect = {
			every_country = {
				limit = {
					has_country_flag = KMT_LAO_former_coloniser_flag
				}
				clr_country_flag = KMT_LAO_former_coloniser_flag
			}
			event_target:KMT_spread_revolution_target_LAO = {
				clr_country_flag = KMT_independence_war_from_spread
				if = {
					limit = { NOT = { has_country_flag = KMT_spread_first_time_create_template } }
					division_template = {
						name = "Kongthab Pativad"

						regiments = {
							infantry = { x = 0 y = 0 }
							infantry = { x = 0 y = 1 }
							infantry = { x = 0 y = 2 }
							infantry = { x = 1 y = 0 }
							infantry = { x = 1 y = 1 }
							infantry = { x = 1 y = 2 }
						}
					}
					set_country_flag = KMT_spread_first_time_create_template
				}
			}
			if = {
				limit = {
					NOT = {
						country_exists = event_target:KMT_spread_revolution_target_LAO
					}
				}
				every_state = {
					limit = {
						is_core_of = event_target:KMT_spread_revolution_target_LAO
					}
					owner = {
						if = {
							limit = {
								NOT = {
									has_country_flag = KMT_LAO_former_coloniser_flag
									tag = ROOT
								}
							}
							event_target:KMT_spread_revolution_target_LAO = {
								declare_war_on = {
									target = PREV
									type = topple_government
								}
							}
							set_variable = { var = KMT_spread_revolution_int_match_check  value = 3 }
							set_country_flag = KMT_LAO_former_coloniser_flag
						}
					}
					event_target:KMT_spread_revolution_target_LAO = {
						hidden_effect = {
							add_ideas = KMT_spread_independence_war
						}
						add_timed_idea = {
							days = 365
							idea = strive_for_independence
						}
						set_variable = { var = KMT_spread_revolution_int_match_check  value = 3 }
						set_country_flag = KMT_independence_war_from_spread
						transfer_state = PREV
						hidden_effect = {
							country_event = { id = kmt.545 }
						}
					}
					create_unit = {
						division = "name = \"Kongthab Pativad\" division_template = \"Kongthab Pativad\" start_experience_factor = 0.5"
						owner = event_target:KMT_spread_revolution_target_LAO
					}
					create_unit = {
						division = "name = \"Kongthab Pativad\" division_template = \"Kongthab Pativad\" start_experience_factor = 0.5"
						owner = event_target:KMT_spread_revolution_target_LAO
					}
					create_unit = {
						division = "name = \"Kongthab Pativad\" division_template = \"Kongthab Pativad\" start_experience_factor = 0.5"
						owner = event_target:KMT_spread_revolution_target_LAO
					}
					create_unit = {
						division = "name = \"Kongthab Pativad\" division_template = \"Kongthab Pativad\" start_experience_factor = 0.5"
						owner = event_target:KMT_spread_revolution_target_LAO
					}
				}
				else = {
					if = {
						limit = {
							event_target:KMT_spread_revolution_target_LAO = {
								NOT = {
									has_government = communism
								}
							}
						}
						event_target:KMT_spread_revolution_target_LAO = { country_event = { id = kmt.539 } }
					}
				}
			}
		}
	}

	KMT_spread_revolution_SIA = {
		icon = generic_nationalism
		available = { has_equipment = { infantry_equipment > @KMT_SPREAD_REVOLUTION_EQUIPMENT_COST_TRIGGER } }
		visible = {
			tag = CHI
			NOT = {
				any_country = {
					original_tag = event_target:KMT_spread_revolution_target_SIA
					has_government = communism
				}
				has_wargoal_against = event_target:KMT_spread_revolution_target_SIA
				has_war_with = event_target:KMT_spread_revolution_target_SIA
			}
			any_state = {
				is_core_of = event_target:KMT_spread_revolution_target_SIA
				is_on_continent = asia
			}
		}
		cancel_trigger = {
			any_country = {
				original_tag = event_target:KMT_spread_revolution_target_SIA
				has_government = communism
				exists = yes
			}
		}

		fire_only_once = no
		cost = @KMT_SPREAD_REVOLUTION_PP_COST

		days_remove = @KMT_SPREAD_REVOLUTION_DAYS_REMOVE

		ai_will_do = {
			base = 10
			modifier = {
				event_target:KMT_spread_revolution_target_SIA = {
					OR = {
						is_in_faction_with = ROOT
						has_war_together_with = ROOT
					}
				}
				ROOT = {
					has_opinion = {
						target = event_target:KMT_spread_revolution_target_SIA
						value > 29
					}
				}
				factor = 0
			}
			modifier = {
				event_target:KMT_spread_revolution_target_SIA = {
					is_subject_of = ROOT
				}
				factor = 1000
			}
			modifier = {
				has_equipment = {
					infantry_equipment < @KMT_SPREAD_REVOLUTION_EQUIPMENT_AI_CHANCE
				}
				factor = 0
			}
		}

		modifier = {}

		complete_effect = {
			add_equipment_to_stockpile = {
				type = infantry_equipment
				amount = @KMT_SPREAD_REVOLUTION_EQUIPMENT_COST_EFFECT
			}
		}

		remove_effect = {
			every_country = {
				limit = {
					has_country_flag = KMT_SIA_former_coloniser_flag
				}
				clr_country_flag = KMT_SIA_former_coloniser_flag
			}
			event_target:KMT_spread_revolution_target_SIA = {
				clr_country_flag = KMT_independence_war_from_spread
				if = {
					limit = {
						NOT = {
							has_country_flag = KMT_spread_first_time_create_template
						}
					}
					division_template = {
						name = "Kxngthaph Ptiwati"

						regiments = {
							infantry = { x = 0 y = 0 }
							infantry = { x = 0 y = 1 }
							infantry = { x = 0 y = 2 }
							infantry = { x = 1 y = 0 }
							infantry = { x = 1 y = 1 }
							infantry = { x = 1 y = 2 }
						}
					}
					set_country_flag = KMT_spread_first_time_create_template
				}
			}
			if = {
				limit = {
					NOT = {
						country_exists = event_target:KMT_spread_revolution_target_SIA
					}
				}
				every_state = {
					limit = {
						is_core_of = event_target:KMT_spread_revolution_target_SIA
					}
					owner = {
						if = {
							limit = {
								NOT = {
									has_country_flag = KMT_SIA_former_coloniser_flag
									tag = ROOT
								}
							}
							event_target:KMT_spread_revolution_target_SIA = {
								declare_war_on = {
									target = PREV
									type = topple_government
								}
							}
							set_variable = { var = KMT_spread_revolution_int_match_check  value = 4 }
							set_country_flag = KMT_SIA_former_coloniser_flag
						}
					}
					event_target:KMT_spread_revolution_target_SIA = {
						hidden_effect = {
							add_ideas = KMT_spread_independence_war
						}
						add_timed_idea = {
							days = 365
							idea = strive_for_independence
						}
						set_variable = { var = KMT_spread_revolution_int_match_check  value = 4 }
						set_country_flag = KMT_independence_war_from_spread
						transfer_state = PREV
						hidden_effect = {
							country_event = { id = kmt.545 }
						}
					}
					create_unit = {
						division = "name = \"Kxngthaph Ptiwati\" division_template = \"Kxngthaph Ptiwati\" start_experience_factor = 0.5"
						owner = event_target:KMT_spread_revolution_target_SIA
					}
					create_unit = {
						division = "name = \"Kxngthaph Ptiwati\" division_template = \"Kxngthaph Ptiwati\" start_experience_factor = 0.5"
						owner = event_target:KMT_spread_revolution_target_SIA
					}
					create_unit = {
						division = "name = \"Kxngthaph Ptiwati\" division_template = \"Kxngthaph Ptiwati\" start_experience_factor = 0.5"
						owner = event_target:KMT_spread_revolution_target_SIA
					}
					create_unit = {
						division = "name = \"Kxngthaph Ptiwati\" division_template = \"Kxngthaph Ptiwati\" start_experience_factor = 0.5"
						owner = event_target:KMT_spread_revolution_target_SIA
					}
				}
				else = {
					if = {
						limit = {
							event_target:KMT_spread_revolution_target_SIA = {
								NOT = {
									has_government = communism
								}
							}
						}
						event_target:KMT_spread_revolution_target_SIA = { country_event = { id = kmt.539 } }
					}
				}
			}
		}
	}

	KMT_spread_revolution_RAJ = {
		icon = generic_nationalism
		available = { has_equipment = { infantry_equipment > @KMT_SPREAD_REVOLUTION_EQUIPMENT_COST_TRIGGER } }
		visible = {
			tag = CHI
			NOT = {
				any_country = {
					original_tag = event_target:KMT_spread_revolution_target_RAJ
					has_government = communism
					exists = yes
				}
				has_wargoal_against = event_target:KMT_spread_revolution_target_RAJ
				has_war_with = event_target:KMT_spread_revolution_target_RAJ
			}
			any_state = {
				is_core_of = event_target:KMT_spread_revolution_target_RAJ
				is_on_continent = asia
			}
		}
		cancel_trigger = {
			any_country = {
				original_tag = event_target:KMT_spread_revolution_target_RAJ
				has_government = communism
				exists = yes
			}
		}

		fire_only_once = no
		cost = @KMT_SPREAD_REVOLUTION_PP_COST

		days_remove = @KMT_SPREAD_REVOLUTION_DAYS_REMOVE

		ai_will_do = {
			base = 10
			modifier = {
				event_target:KMT_spread_revolution_target_RAJ = {
					OR = {
						is_in_faction_with = ROOT
						has_war_together_with = ROOT
					}
				}
				ROOT = {
					has_opinion = {
						target = event_target:KMT_spread_revolution_target_RAJ
						value > 29
					}
				}
				factor = 0
			}
			modifier = {
				event_target:KMT_spread_revolution_target_RAJ = {
					is_subject_of = ROOT
				}
				factor = 1000
			}
			modifier = {
				has_equipment = {
					infantry_equipment < @KMT_SPREAD_REVOLUTION_EQUIPMENT_AI_CHANCE
				}
				factor = 0
			}
		}

		modifier = {}

		complete_effect = {
			add_equipment_to_stockpile = {
				type = infantry_equipment
				amount = @KMT_SPREAD_REVOLUTION_EQUIPMENT_COST_EFFECT
			}
		}

		remove_effect = {
			every_country = {
				limit = {
					has_country_flag = KMT_RAJ_former_coloniser_flag
				}
				clr_country_flag = KMT_RAJ_former_coloniser_flag
			}
			event_target:KMT_spread_revolution_target_RAJ = {
				clr_country_flag = KMT_independence_war_from_spread
				if = {
					limit = {
						NOT = { has_country_flag = KMT_spread_first_time_create_template }
					}
					division_template = {
						name = "Kraantikaarak Sena"

						regiments = {
							infantry = { x = 0 y = 0 }
							infantry = { x = 0 y = 1 }
							infantry = { x = 0 y = 2 }
							infantry = { x = 1 y = 0 }
							infantry = { x = 1 y = 1 }
							infantry = { x = 1 y = 2 }
						}
					}
					set_country_flag = KMT_spread_first_time_create_template
				}
			}
			if = {
				limit = {
					NOT = {
						country_exists = event_target:KMT_spread_revolution_target_RAJ
					}
				}
				every_state = {
					limit = {
						is_core_of = event_target:KMT_spread_revolution_target_RAJ
					}
					event_target:KMT_spread_revolution_target_RAJ = {
						transfer_state = PREV
					}
					owner = {
						if = {
							limit = {
								NOT = {
									has_country_flag = KMT_RAJ_former_coloniser_flag
									tag = ROOT
								}
							}
							event_target:KMT_spread_revolution_target_RAJ = {
								declare_war_on = {
									target = PREV
									type = topple_government
								}
							}
							set_variable = { var = KMT_spread_revolution_int_match_check  value = 5 }
							set_country_flag = KMT_RAJ_former_coloniser_flag
						}
					}
					event_target:KMT_spread_revolution_target_RAJ = {
						hidden_effect = {
							add_ideas = KMT_spread_independence_war
						}
						add_timed_idea = {
							days = 365
							idea = strive_for_independence
						}
						set_variable = { var = KMT_spread_revolution_int_match_check  value = 5 }
						set_country_flag = KMT_independence_war_from_spread
						transfer_state = PREV
						hidden_effect = {
							country_event = { id = kmt.545 }
						}
					}
					create_unit = {
						division = "name = \"Kraantikaarak Sena\" division_template = \"Kraantikaarak Sena\" start_experience_factor = 0.5"
						owner = event_target:KMT_spread_revolution_target_RAJ
					}
					create_unit = {
						division = "name = \"Kraantikaarak Sena\" division_template = \"Kraantikaarak Sena\" start_experience_factor = 0.5"
						owner = event_target:KMT_spread_revolution_target_RAJ
					}
					create_unit = {
						division = "name = \"Kraantikaarak Sena\" division_template = \"Kraantikaarak Sena\" start_experience_factor = 0.5"
						owner = event_target:KMT_spread_revolution_target_RAJ
					}
					create_unit = {
						division = "name = \"Kraantikaarak Sena\" division_template = \"Kraantikaarak Sena\" start_experience_factor = 0.5"
						owner = event_target:KMT_spread_revolution_target_RAJ
					}
				}
				else = {
					if = {
						limit = {
							event_target:KMT_spread_revolution_target_RAJ = {
								NOT = {
									has_government = communism
								}
							}
						}
						event_target:KMT_spread_revolution_target_RAJ = { country_event = { id = kmt.539 } }
					}
				}
			}
		}
	}

	KMT_spread_revolution_BHU = {
		icon = generic_nationalism
		available = { has_equipment = { infantry_equipment > @KMT_SPREAD_REVOLUTION_EQUIPMENT_COST_TRIGGER } }
		visible = {
			tag = CHI
			NOT = {
				any_country = {
					original_tag = event_target:KMT_spread_revolution_target_BHU
					has_government = communism
					exists = yes
				}
				has_wargoal_against = event_target:KMT_spread_revolution_target_BHU
				has_war_with = event_target:KMT_spread_revolution_target_BHU
			}
			any_state = {
				is_core_of = event_target:KMT_spread_revolution_target_BHU
				is_on_continent = asia
			}
		}
		cancel_trigger = {
			any_country = {
				original_tag = event_target:KMT_spread_revolution_target_BHU
				has_government = communism
				exists = yes
			}
		}

		fire_only_once = no
		cost = @KMT_SPREAD_REVOLUTION_PP_COST

		days_remove = @KMT_SPREAD_REVOLUTION_DAYS_REMOVE

		ai_will_do = {
			base = 10
			modifier = {
				event_target:KMT_spread_revolution_target_BHU = {
					OR = {
						is_in_faction_with = ROOT
						has_war_together_with = ROOT
					}
				}
				ROOT = {
					has_opinion = {
						target = event_target:KMT_spread_revolution_target_BHU
						value > 29
					}
				}
				factor = 0
			}
			modifier = {
				event_target:KMT_spread_revolution_target_BHU = {
					is_subject_of = ROOT
				}
				factor = 1000
			}
			modifier = {
				has_equipment = {
					infantry_equipment < @KMT_SPREAD_REVOLUTION_EQUIPMENT_AI_CHANCE
				}
				factor = 0
			}
		}

		modifier = {}

		complete_effect = {
			add_equipment_to_stockpile = {
				type = infantry_equipment
				amount = @KMT_SPREAD_REVOLUTION_EQUIPMENT_COST_EFFECT
			}
		}

		remove_effect = {
			every_country = {
				limit = {
					has_country_flag = KMT_BHU_former_coloniser_flag
				}
				clr_country_flag = KMT_BHU_former_coloniser_flag
			}
			event_target:KMT_spread_revolution_target_BHU = {
				clr_country_flag = KMT_independence_war_from_spread
				if = {
					limit = { NOT = { has_country_flag = KMT_spread_first_time_create_template } }
					division_template = {
						name = "Bhutanese Revolutionaries Army"

						regiments = {
							infantry = { x = 0 y = 0 }
							infantry = { x = 0 y = 1 }
							infantry = { x = 0 y = 2 }
							infantry = { x = 1 y = 0 }
							infantry = { x = 1 y = 1 }
							infantry = { x = 1 y = 2 }
						}
					}
					set_country_flag = KMT_spread_first_time_create_template
				}
			}
			if = {
				limit = {
					NOT = {
						country_exists = event_target:KMT_spread_revolution_target_BHU
					}
				}
				every_state = {
					limit = {
						is_core_of = event_target:KMT_spread_revolution_target_BHU
					}
					owner = {
						if = {
							limit = {
								NOT = {
									has_country_flag = KMT_BHU_former_coloniser_flag
									tag = ROOT
								}
							}
							event_target:KMT_spread_revolution_target_BHU = {
								declare_war_on = {
									target = PREV
									type = topple_government
								}
							}
							set_variable = { var = KMT_spread_revolution_int_match_check  value = 6 }
							set_country_flag = KMT_BHU_former_coloniser_flag
						}
					}
					event_target:KMT_spread_revolution_target_BHU = {
						hidden_effect = {
							add_ideas = KMT_spread_independence_war
						}
						add_timed_idea = {
							days = 365
							idea = strive_for_independence
						}
						set_variable = { var = KMT_spread_revolution_int_match_check  value = 6 }
						set_country_flag = KMT_independence_war_from_spread
						transfer_state = PREV
						hidden_effect = {
							country_event = { id = kmt.545 }
						}
					}
					create_unit = {
						division = "name = \"Bhutanese Revolutionaries Army\" division_template = \"Bhutanese Revolutionaries Army\" start_experience_factor = 0.5"
						owner = event_target:KMT_spread_revolution_target_BHU
					}
					create_unit = {
						division = "name = \"Bhutanese Revolutionaries Army\" division_template = \"Bhutanese Revolutionaries Army\" start_experience_factor = 0.5"
						owner = event_target:KMT_spread_revolution_target_BHU
					}
					create_unit = {
						division = "name = \"Bhutanese Revolutionaries Army\" division_template = \"Bhutanese Revolutionaries Army\" start_experience_factor = 0.5"
						owner = event_target:KMT_spread_revolution_target_BHU
					}
					create_unit = {
						division = "name = \"Bhutanese Revolutionaries Army\" division_template = \"Bhutanese Revolutionaries Army\" start_experience_factor = 0.5"
						owner = event_target:KMT_spread_revolution_target_BHU
					}
				}
				else = {
					if = {
						limit = {
							event_target:KMT_spread_revolution_target_BHU = {
								NOT = {
									has_government = communism
								}
							}
						}
						event_target:KMT_spread_revolution_target_BHU = { country_event = { id = kmt.539 } }
					}
				}
			}
		}
	}

	KMT_spread_revolution_PAK = {
		icon = generic_nationalism
		available = { has_equipment = { infantry_equipment > @KMT_SPREAD_REVOLUTION_EQUIPMENT_COST_TRIGGER } }
		visible = {
			tag = CHI
			NOT = {
				any_country = {
					original_tag = event_target:KMT_spread_revolution_target_PAK
					has_government = communism
					exists = yes
				}
				has_wargoal_against = event_target:KMT_spread_revolution_target_PAK
				has_war_with = event_target:KMT_spread_revolution_target_PAK
			}
			any_state = {
				is_core_of = event_target:KMT_spread_revolution_target_PAK
				is_on_continent = asia
			}
		}
		cancel_trigger = {
			any_country = {
				original_tag = event_target:KMT_spread_revolution_target_PAK
				has_government = communism
				exists = yes
			}
		}

		fire_only_once = no
		cost = @KMT_SPREAD_REVOLUTION_PP_COST

		days_remove = @KMT_SPREAD_REVOLUTION_DAYS_REMOVE

		ai_will_do = {
			base = 10
			modifier = {
				event_target:KMT_spread_revolution_target_PAK = {
					OR = {
						is_in_faction_with = ROOT
						has_war_together_with = ROOT
					}
				}
				ROOT = {
					has_opinion = {
						target = event_target:KMT_spread_revolution_target_PAK
						value > 29
					}
				}
				factor = 0
			}
			modifier = {
				event_target:KMT_spread_revolution_target_PAK = {
					is_subject_of = ROOT
				}
				factor = 1000
			}
			modifier = {
				has_equipment = {
					infantry_equipment < @KMT_SPREAD_REVOLUTION_EQUIPMENT_AI_CHANCE
				}
				factor = 0
			}
		}

		modifier = {}

		complete_effect = {
			add_equipment_to_stockpile = {
				type = infantry_equipment
				amount = @KMT_SPREAD_REVOLUTION_EQUIPMENT_COST_EFFECT
			}
		}

		remove_effect = {
			every_country = {
				limit = {
					has_country_flag = KMT_PAK_former_coloniser_flag
				}
				clr_country_flag = KMT_PAK_former_coloniser_flag
			}
			event_target:KMT_spread_revolution_target_PAK = {
				clr_country_flag = KMT_independence_war_from_spread
				if = {
					limit = { NOT = { has_country_flag = KMT_spread_first_time_create_template } }
					division_template = {
						name = "Pakistani Revolutionaries Army"

						regiments = {
							infantry = { x = 0 y = 0 }
							infantry = { x = 0 y = 1 }
							infantry = { x = 0 y = 2 }
							infantry = { x = 1 y = 0 }
							infantry = { x = 1 y = 1 }
							infantry = { x = 1 y = 2 }
						}
					}
					set_country_flag = KMT_spread_first_time_create_template
				}
			}
			if = {
				limit = {
					NOT = {
						country_exists = event_target:KMT_spread_revolution_target_PAK
					}
				}
				every_state = {
					limit = {
						is_core_of = event_target:KMT_spread_revolution_target_PAK
					}
					owner = {
						if = {
							limit = {
								NOT = {
									has_country_flag = KMT_PAK_former_coloniser_flag
									tag = ROOT
								}
							}
							event_target:KMT_spread_revolution_target_PAK = {
								declare_war_on = {
									target = PREV
									type = topple_government
								}
							}
							set_variable = { var = KMT_spread_revolution_int_match_check  value = 7 }
							set_country_flag = KMT_PAK_former_coloniser_flag
						}
					}
					event_target:KMT_spread_revolution_target_PAK = {
						hidden_effect = {
							add_ideas = KMT_spread_independence_war
						}
						add_timed_idea = {
							days = 365
							idea = strive_for_independence
						}
						set_variable = { var = KMT_spread_revolution_int_match_check  value = 7 }
						set_country_flag = KMT_independence_war_from_spread
						transfer_state = PREV
						hidden_effect = {
							country_event = { id = kmt.545 }
						}
					}
					create_unit = {
						division = "name = \"Pakistani Revolutionaries Army\" division_template = \"Pakistani Revolutionaries Army\" start_experience_factor = 0.5"
						owner = event_target:KMT_spread_revolution_target_PAK
					}
					create_unit = {
						division = "name = \"Pakistani Revolutionaries Army\" division_template = \"Pakistani Revolutionaries Army\" start_experience_factor = 0.5"
						owner = event_target:KMT_spread_revolution_target_PAK
					}
					create_unit = {
						division = "name = \"Pakistani Revolutionaries Army\" division_template = \"Pakistani Revolutionaries Army\" start_experience_factor = 0.5"
						owner = event_target:KMT_spread_revolution_target_PAK
					}
					create_unit = {
						division = "name = \"Pakistani Revolutionaries Army\" division_template = \"Pakistani Revolutionaries Army\" start_experience_factor = 0.5"
						owner = event_target:KMT_spread_revolution_target_PAK
					}
				}
				else = {
					if = {
						limit = {
							event_target:KMT_spread_revolution_target_PAK = {
								NOT = {
									has_government = communism
								}
							}
						}
						event_target:KMT_spread_revolution_target_PAK = { country_event = { id = kmt.539 } }
					}
				}
			}
		}
	}

	KMT_spread_revolution_NEP = {
		icon = generic_nationalism
		available = { has_equipment = { infantry_equipment > @KMT_SPREAD_REVOLUTION_EQUIPMENT_COST_TRIGGER } }
		visible = {
			tag = CHI
			NOT = {
				any_country = {
					original_tag = event_target:KMT_spread_revolution_target_NEP
					has_government = communism
					exists = yes
				}
				has_wargoal_against = event_target:KMT_spread_revolution_target_NEP
				has_war_with = event_target:KMT_spread_revolution_target_NEP
			}
			any_state = {
				is_core_of = event_target:KMT_spread_revolution_target_NEP
				is_on_continent = asia
			}
		}
		cancel_trigger = {
			any_country = {
				original_tag = event_target:KMT_spread_revolution_target_NEP
				has_government = communism
				exists = yes
			}
		}

		fire_only_once = no
		cost = @KMT_SPREAD_REVOLUTION_PP_COST

		days_remove = @KMT_SPREAD_REVOLUTION_DAYS_REMOVE

		ai_will_do = {
			base = 10
			modifier = {
				event_target:KMT_spread_revolution_target_NEP = {
					OR = {
						is_in_faction_with = ROOT
						has_war_together_with = ROOT
					}
				}
				ROOT = {
					has_opinion = {
						target = event_target:KMT_spread_revolution_target_NEP
						value > 29
					}
				}
				factor = 0
			}
			modifier = {
				event_target:KMT_spread_revolution_target_NEP = {
					is_subject_of = ROOT
				}
				factor = 1000
			}
			modifier = {
				has_equipment = {
					infantry_equipment < @KMT_SPREAD_REVOLUTION_EQUIPMENT_AI_CHANCE
				}
				factor = 0
			}
		}

		modifier = {}

		complete_effect = {
			add_equipment_to_stockpile = {
				type = infantry_equipment
				amount = @KMT_SPREAD_REVOLUTION_EQUIPMENT_COST_EFFECT
			}
		}

		remove_effect = {
			every_country = {
				limit = {
					has_country_flag = KMT_NEP_former_coloniser_flag
				}
				clr_country_flag = KMT_NEP_former_coloniser_flag
			}
			event_target:KMT_spread_revolution_target_NEP = {
				clr_country_flag = KMT_independence_war_from_spread
				if = {
					limit = {
						NOT = { has_country_flag = KMT_spread_first_time_create_template }
					}
					division_template = {
						name = "Krantikari Sena"

						regiments = {
							infantry = { x = 0 y = 0 }
							infantry = { x = 0 y = 1 }
							infantry = { x = 0 y = 2 }
							infantry = { x = 1 y = 0 }
							infantry = { x = 1 y = 1 }
							infantry = { x = 1 y = 2 }
						}
					}
					set_country_flag = KMT_spread_first_time_create_template
				}
			}
			if = {
				limit = {
					NOT = {
						country_exists = event_target:KMT_spread_revolution_target_NEP
					}
				}
				every_state = {
					limit = {
						is_core_of = event_target:KMT_spread_revolution_target_NEP
					}
					owner = {
						if = {
							limit = {
								NOT = {
									has_country_flag = KMT_NEP_former_coloniser_flag
									tag = ROOT
								}
							}
							event_target:KMT_spread_revolution_target_NEP = {
								declare_war_on = {
									target = PREV
									type = topple_government
								}
							}
							set_variable = { var = KMT_spread_revolution_int_match_check  value = 8 }
							set_country_flag = KMT_NEP_former_coloniser_flag
						}
					}
					event_target:KMT_spread_revolution_target_NEP = {
						hidden_effect = {
							add_ideas = KMT_spread_independence_war
						}
						add_timed_idea = {
							days = 365
							idea = strive_for_independence
						}
						set_variable = { var = KMT_spread_revolution_int_match_check  value = 8 }
						set_country_flag = KMT_independence_war_from_spread
						transfer_state = PREV
						hidden_effect = {
							country_event = { id = kmt.545 }
						}
					}
					create_unit = {
						division = "name = \"Krantikari Sena\" division_template = \"Krantikari Sena\" start_experience_factor = 0.5"
						owner = event_target:KMT_spread_revolution_target_NEP
					}
					create_unit = {
						division = "name = \"Krantikari Sena\" division_template = \"Krantikari Sena\" start_experience_factor = 0.5"
						owner = event_target:KMT_spread_revolution_target_NEP
					}
					create_unit = {
						division = "name = \"Krantikari Sena\" division_template = \"Krantikari Sena\" start_experience_factor = 0.5"
						owner = event_target:KMT_spread_revolution_target_NEP
					}
					create_unit = {
						division = "name = \"Krantikari Sena\" division_template = \"Krantikari Sena\" start_experience_factor = 0.5"
						owner = event_target:KMT_spread_revolution_target_NEP
					}
				}
				else = {
					if = {
						limit = {
							event_target:KMT_spread_revolution_target_NEP = {
								NOT = {
									has_government = communism
								}
							}
						}
						event_target:KMT_spread_revolution_target_NEP = { country_event = { id = kmt.539 } }
					}
				}
			}
		}
	}

	KMT_spread_revolution_MON = {
		icon = generic_nationalism
		available = { has_equipment = { infantry_equipment > @KMT_SPREAD_REVOLUTION_EQUIPMENT_COST_TRIGGER } }
		visible = {
			tag = CHI
			NOT = {
				any_country = {
					original_tag = event_target:KMT_spread_revolution_target_MON
					has_government = communism
					exists = yes
				}
				has_wargoal_against = event_target:KMT_spread_revolution_target_MON
				has_war_with = event_target:KMT_spread_revolution_target_MON
			}
			any_state = {
				is_core_of = event_target:KMT_spread_revolution_target_MON
				is_on_continent = asia
			}
		}
		cancel_trigger = {
			any_country = {
				original_tag = event_target:KMT_spread_revolution_target_MON
				has_government = communism
				exists = yes
			}
		}

		fire_only_once = no
		cost = @KMT_SPREAD_REVOLUTION_PP_COST

		days_remove = @KMT_SPREAD_REVOLUTION_DAYS_REMOVE

		ai_will_do = {
			base = 10
			modifier = {
				event_target:KMT_spread_revolution_target_MON = {
					OR = {
						is_in_faction_with = ROOT
						has_war_together_with = ROOT
					}
				}
				ROOT = {
					has_opinion = {
						target = event_target:KMT_spread_revolution_target_MON
						value > 29
					}
				}
				factor = 0
			}
			modifier = {
				event_target:KMT_spread_revolution_target_MON = {
					is_subject_of = ROOT
				}
				factor = 1000
			}
			modifier = {
				has_equipment = {
					infantry_equipment < @KMT_SPREAD_REVOLUTION_EQUIPMENT_AI_CHANCE
				}
				factor = 0
			}
		}

		modifier = {}

		complete_effect = {
			add_equipment_to_stockpile = {
				type = infantry_equipment
				amount = @KMT_SPREAD_REVOLUTION_EQUIPMENT_COST_EFFECT
			}
		}

		remove_effect = {
			every_country = {
				limit = {
					has_country_flag = KMT_MON_former_coloniser_flag
				}
				clr_country_flag = KMT_MON_former_coloniser_flag
			}
			event_target:KMT_spread_revolution_target_MON = {
				clr_country_flag = KMT_independence_war_from_spread
				if = {
					limit = {
						NOT = { has_country_flag = KMT_spread_first_time_create_template }
					}
					division_template = {
						name = "Khuvisgalchdyn Tsereg"

						regiments = {
							infantry = { x = 0 y = 0 }
							infantry = { x = 0 y = 1 }
							infantry = { x = 0 y = 2 }
							infantry = { x = 1 y = 0 }
							infantry = { x = 1 y = 1 }
							infantry = { x = 1 y = 2 }
						}
					}
					set_country_flag = KMT_spread_first_time_create_template
				}
			}
			if = {
				limit = {
					NOT = {
						country_exists = event_target:KMT_spread_revolution_target_MON
					}
				}
				every_state = {
					limit = {
						is_core_of = event_target:KMT_spread_revolution_target_MON
					}
					owner = {
						if = {
							limit = {
								NOT = {
									has_country_flag = KMT_MON_former_coloniser_flag
									tag = ROOT
								}
							}
							event_target:KMT_spread_revolution_target_MON = {
								declare_war_on = {
									target = PREV
									type = topple_government
								}
							}
							set_variable = { var = KMT_spread_revolution_int_match_check  value = 9 }
							set_country_flag = KMT_MON_former_coloniser_flag
						}
					}
					event_target:KMT_spread_revolution_target_MON = {
						hidden_effect = {
							add_ideas = KMT_spread_independence_war
						}
						add_timed_idea = {
							days = 365
							idea = strive_for_independence
						}
						set_variable = { var = KMT_spread_revolution_int_match_check  value = 9 }
						set_country_flag = KMT_independence_war_from_spread
						transfer_state = PREV
						hidden_effect = {
							country_event = { id = kmt.545 }
						}
					}
					create_unit = {
						division = "name = \"Khuvisgalchdyn Tsereg\" division_template = \"Khuvisgalchdyn Tsereg\" start_experience_factor = 0.5"
						owner = event_target:KMT_spread_revolution_target_MON
					}
					create_unit = {
						division = "name = \"Khuvisgalchdyn Tsereg\" division_template = \"Khuvisgalchdyn Tsereg\" start_experience_factor = 0.5"
						owner = event_target:KMT_spread_revolution_target_MON
					}
					create_unit = {
						division = "name = \"Khuvisgalchdyn Tsereg\" division_template = \"Khuvisgalchdyn Tsereg\" start_experience_factor = 0.5"
						owner = event_target:KMT_spread_revolution_target_MON
					}
					create_unit = {
						division = "name = \"Khuvisgalchdyn Tsereg\" division_template = \"Khuvisgalchdyn Tsereg\" start_experience_factor = 0.5"
						owner = event_target:KMT_spread_revolution_target_MON
					}
				}
				else = {
					if = {
						limit = {
							event_target:KMT_spread_revolution_target_MON = {
								NOT = {
									has_government = communism
								}
							}
						}
						event_target:KMT_spread_revolution_target_MON = { country_event = { id = kmt.539 } }
					}
				}
			}
		}
	}

	KMT_spread_revolution_TAN = {
		icon = generic_nationalism
		available = { has_equipment = { infantry_equipment > @KMT_SPREAD_REVOLUTION_EQUIPMENT_COST_TRIGGER } }
		visible = {
			tag = CHI
			NOT = {
				any_country = {
					original_tag = event_target:KMT_spread_revolution_target_TAN
					has_government = communism
					exists = yes
				}
				has_wargoal_against = event_target:KMT_spread_revolution_target_TAN
				has_war_with = event_target:KMT_spread_revolution_target_TAN
			}
			any_state = {
				is_core_of = event_target:KMT_spread_revolution_target_TAN
				is_on_continent = asia
			}
		}
		cancel_trigger = {
			any_country = {
				original_tag = event_target:KMT_spread_revolution_target_TAN
				has_government = communism
				exists = yes
			}
		}

		fire_only_once = no
		cost = @KMT_SPREAD_REVOLUTION_PP_COST

		days_remove = @KMT_SPREAD_REVOLUTION_DAYS_REMOVE

		ai_will_do = {
			base = 10
			modifier = {
				event_target:KMT_spread_revolution_target_TAN = {
					OR = {
						is_in_faction_with = ROOT
						has_war_together_with = ROOT
					}
				}
				ROOT = {
					has_opinion = {
						target = event_target:KMT_spread_revolution_target_TAN
						value > 29
					}
				}
				factor = 0
			}
			modifier = {
				event_target:KMT_spread_revolution_target_TAN = {
					is_subject_of = ROOT
				}
				factor = 1000
			}
			modifier = {
				has_equipment = {
					infantry_equipment < @KMT_SPREAD_REVOLUTION_EQUIPMENT_AI_CHANCE
				}
				factor = 0
			}
		}

		modifier = {}

		complete_effect = {
			add_equipment_to_stockpile = {
				type = infantry_equipment
				amount = @KMT_SPREAD_REVOLUTION_EQUIPMENT_COST_EFFECT
			}
		}

		remove_effect = {
			every_country = {
				limit = {
					has_country_flag = KMT_TAN_former_coloniser_flag
				}
				clr_country_flag = KMT_TAN_former_coloniser_flag
			}
			event_target:KMT_spread_revolution_target_TAN = {
				clr_country_flag = KMT_independence_war_from_spread
				if = {
					limit = { NOT = { has_country_flag = KMT_spread_first_time_create_template } }
					division_template = {
						name = "Tuva Khuvisgalchdyn Tsereg"

						regiments = {
							infantry = { x = 0 y = 0 }
							infantry = { x = 0 y = 1 }
							infantry = { x = 0 y = 2 }
							infantry = { x = 1 y = 0 }
							infantry = { x = 1 y = 1 }
							infantry = { x = 1 y = 2 }
						}
					}
					set_country_flag = KMT_spread_first_time_create_template
				}
			}
			if = {
				limit = {
					NOT = {
						country_exists = event_target:KMT_spread_revolution_target_TAN
					}
				}
				every_state = {
					limit = {
						is_core_of = event_target:KMT_spread_revolution_target_TAN
					}
					owner = {
						if = {
							limit = {
								NOT = {
									has_country_flag = KMT_TAN_former_coloniser_flag
									tag = ROOT
								}
							}
							event_target:KMT_spread_revolution_target_TAN = {
								declare_war_on = {
									target = PREV
									type = topple_government
								}
							}
							set_variable = { var = KMT_spread_revolution_int_match_check  value = 10 }
							set_country_flag = KMT_TAN_former_coloniser_flag
						}
					}
					event_target:KMT_spread_revolution_target_TAN = {
						hidden_effect = {
							add_ideas = KMT_spread_independence_war
						}
						add_timed_idea = {
							days = 365
							idea = strive_for_independence
						}
						set_variable = { var = KMT_spread_revolution_int_match_check  value = 10 }
						set_country_flag = KMT_independence_war_from_spread
						transfer_state = PREV
						hidden_effect = {
							country_event = { id = kmt.545 }
						}
					}
					create_unit = {
						division = "name = \"Tuva Khuvisgalchdyn Tsereg\" division_template = \"Tuva Khuvisgalchdyn Tsereg\" start_experience_factor = 0.5"
						owner = event_target:KMT_spread_revolution_target_TAN
					}
					create_unit = {
						division = "name = \"Tuva Khuvisgalchdyn Tsereg\" division_template = \"Tuva Khuvisgalchdyn Tsereg\" start_experience_factor = 0.5"
						owner = event_target:KMT_spread_revolution_target_TAN
					}
					create_unit = {
						division = "name = \"Tuva Khuvisgalchdyn Tsereg\" division_template = \"Tuva Khuvisgalchdyn Tsereg\" start_experience_factor = 0.5"
						owner = event_target:KMT_spread_revolution_target_TAN
					}
					create_unit = {
						division = "name = \"Tuva Khuvisgalchdyn Tsereg\" division_template = \"Tuva Khuvisgalchdyn Tsereg\" start_experience_factor = 0.5"
						owner = event_target:KMT_spread_revolution_target_TAN
					}
				}
				else = {
					if = {
						limit = {
							event_target:KMT_spread_revolution_target_TAN = {
								NOT = {
									has_government = communism
								}
							}
						}
						event_target:KMT_spread_revolution_target_TAN = { country_event = { id = kmt.539 } }
					}
				}
			}
		}
	}

	KMT_spread_revolution_KOR = {
		icon = generic_nationalism
		available = { has_equipment = { infantry_equipment > @KMT_SPREAD_REVOLUTION_EQUIPMENT_COST_TRIGGER } }
		visible = {
			tag = CHI
			NOT = {
				any_country = {
					original_tag = event_target:KMT_spread_revolution_target_KOR
					has_government = communism
					exists = yes
				}
				has_wargoal_against = event_target:KMT_spread_revolution_target_KOR
				has_war_with = event_target:KMT_spread_revolution_target_KOR
			}
			any_state = {
				is_core_of = event_target:KMT_spread_revolution_target_KOR
				is_on_continent = asia
			}
		}
		cancel_trigger = {
			any_country = {
				original_tag = event_target:KMT_spread_revolution_target_KOR
				has_government = communism
				exists = yes
			}
		}

		fire_only_once = no
		cost = @KMT_SPREAD_REVOLUTION_PP_COST

		days_remove = @KMT_SPREAD_REVOLUTION_DAYS_REMOVE

		ai_will_do = {
			base = 10
			modifier = {
				event_target:KMT_spread_revolution_target_KOR = {
					OR = {
						is_in_faction_with = ROOT
						has_war_together_with = ROOT
					}
				}
				ROOT = {
					has_opinion = {
						target = event_target:KMT_spread_revolution_target_KOR
						value > 29
					}
				}
				factor = 0
			}
			modifier = {
				event_target:KMT_spread_revolution_target_KOR = {
					is_subject_of = ROOT
				}
				add = 1000
			}
		}

		modifier = {}

		complete_effect = {
			add_equipment_to_stockpile = {
				type = infantry_equipment
				amount = @KMT_SPREAD_REVOLUTION_EQUIPMENT_COST_EFFECT
			}
		}

		remove_effect = {
			every_country = {
				limit = {
					has_country_flag = KMT_KOR_former_coloniser_flag
				}
				clr_country_flag = KMT_KOR_former_coloniser_flag
			}
			event_target:KMT_spread_revolution_target_KOR = {
				clr_country_flag = KMT_independence_war_from_spread
				if = {
					limit = {
						NOT = { has_country_flag = KMT_spread_first_time_create_template }
					}
					division_template = {
						name = "Hyeogmyeong Gundae"

						regiments = {
							infantry = { x = 0 y = 0 }
							infantry = { x = 0 y = 1 }
							infantry = { x = 0 y = 2 }
							infantry = { x = 1 y = 0 }
							infantry = { x = 1 y = 1 }
							infantry = { x = 1 y = 2 }
						}
					}
					set_country_flag = KMT_spread_first_time_create_template
				}
			}
			if = {
				limit = {
					NOT = {
						country_exists = event_target:KMT_spread_revolution_target_KOR
					}
				}
				every_state = {
					limit = {
						is_core_of = event_target:KMT_spread_revolution_target_KOR
					}
					owner = {
						if = {
							limit = {
								NOT = {
									has_country_flag = KMT_KOR_former_coloniser_flag
									tag = ROOT
								}
							}
							event_target:KMT_spread_revolution_target_KOR = {
								declare_war_on = {
									target = PREV
									type = topple_government
								}
							}
							set_variable = { var = KMT_spread_revolution_int_match_check  value = 11 }
							set_country_flag = KMT_KOR_former_coloniser_flag
						}
					}
					event_target:KMT_spread_revolution_target_KOR = {
						hidden_effect = {
							add_ideas = KMT_spread_independence_war
						}
						add_timed_idea = {
							days = 365
							idea = strive_for_independence
						}
						set_variable = { var = KMT_spread_revolution_int_match_check  value = 11 }
						set_country_flag = KMT_independence_war_from_spread
						transfer_state = PREV
						hidden_effect = {
							country_event = { id = kmt.545 }
						}
					}
					create_unit = {
						division = "name = \"Hyeogmyeong Gundae\" division_template = \"Hyeogmyeong Gundae\" start_experience_factor = 0.5"
						owner = event_target:KMT_spread_revolution_target_KOR
					}
					create_unit = {
						division = "name = \"Hyeogmyeong Gundae\" division_template = \"Hyeogmyeong Gundae\" start_experience_factor = 0.5"
						owner = event_target:KMT_spread_revolution_target_KOR
					}
					create_unit = {
						division = "name = \"Hyeogmyeong Gundae\" division_template = \"Hyeogmyeong Gundae\" start_experience_factor = 0.5"
						owner = event_target:KMT_spread_revolution_target_KOR
					}
					create_unit = {
						division = "name = \"Hyeogmyeong Gundae\" division_template = \"Hyeogmyeong Gundae\" start_experience_factor = 0.5"
						owner = event_target:KMT_spread_revolution_target_KOR
					}
				}
				else = {
					if = {
						limit = {
							event_target:KMT_spread_revolution_target_KOR = {
								NOT = {
									has_government = communism
								}
							}
						}
						event_target:KMT_spread_revolution_target_KOR = { country_event = { id = kmt.539 } }
					}
				}
			}
		}
	}

	KMT_spread_revolution_JAP = {
		icon = generic_nationalism
		available = { has_equipment = { infantry_equipment > @KMT_SPREAD_REVOLUTION_EQUIPMENT_COST_TRIGGER } }
		visible = {
			tag = CHI
			NOT = {
				any_country = {
					original_tag = event_target:KMT_spread_revolution_target_JAP
					has_government = communism
					exists = yes
				}
				has_wargoal_against = event_target:KMT_spread_revolution_target_JAP
				has_war_with = event_target:KMT_spread_revolution_target_JAP
			}
			any_state = {
				is_core_of = event_target:KMT_spread_revolution_target_JAP
				is_on_continent = asia
			}
		}
		cancel_trigger = {
			any_country = {
				original_tag = event_target:KMT_spread_revolution_target_JAP
				has_government = communism
				exists = yes
			}
		}

		fire_only_once = no
		cost = @KMT_SPREAD_REVOLUTION_PP_COST

		days_remove = @KMT_SPREAD_REVOLUTION_DAYS_REMOVE

		ai_will_do = {
			base = 10
			modifier = {
				event_target:KMT_spread_revolution_target_JAP = {
					OR = {
						is_in_faction_with = ROOT
						has_war_together_with = ROOT
					}
				}
				ROOT = {
					has_opinion = {
						target = event_target:KMT_spread_revolution_target_JAP
						value > 29
					}
				}
				factor = 0
			}
			modifier = {
				event_target:KMT_spread_revolution_target_JAP = {
					is_subject_of = ROOT
				}
				factor = 1000
			}
			modifier = {
				has_equipment = {
					infantry_equipment < @KMT_SPREAD_REVOLUTION_EQUIPMENT_AI_CHANCE
				}
				factor = 0
			}
		}

		modifier = {}

		complete_effect = {
			add_equipment_to_stockpile = {
				type = infantry_equipment
				amount = @KMT_SPREAD_REVOLUTION_EQUIPMENT_COST_EFFECT
			}
		}

		remove_effect = {
			every_country = {
				limit = {
					has_country_flag = KMT_JAP_former_coloniser_flag
				}
				clr_country_flag = KMT_JAP_former_coloniser_flag
			}
			event_target:KMT_spread_revolution_target_JAP = {
				clr_country_flag = KMT_independence_war_from_spread
				if = {
					limit = { NOT = { has_country_flag = KMT_spread_first_time_create_template } }
					division_template = {
						name = "Kakumei-gun"

						regiments = {
							infantry = { x = 0 y = 0 }
							infantry = { x = 0 y = 1 }
							infantry = { x = 0 y = 2 }
							infantry = { x = 1 y = 0 }
							infantry = { x = 1 y = 1 }
							infantry = { x = 1 y = 2 }
						}
					}
					set_country_flag = KMT_spread_first_time_create_template
				}
			}
			if = {
				limit = {
					NOT = {
						country_exists = event_target:KMT_spread_revolution_target_JAP
					}
				}
				every_state = {
					limit = {
						is_core_of = event_target:KMT_spread_revolution_target_JAP
					}
					owner = {
						if = {
							limit = {
								NOT = {
									has_country_flag = KMT_JAP_former_coloniser_flag
									tag = ROOT
								}
							}
							event_target:KMT_spread_revolution_target_JAP = {
								declare_war_on = {
									target = PREV
									type = topple_government
								}
							}
							set_variable = { var = KMT_spread_revolution_int_match_check  value = 12 }
							set_country_flag = KMT_JAP_former_coloniser_flag
						}
					}
					event_target:KMT_spread_revolution_target_JAP = {
						hidden_effect = {
							add_ideas = KMT_spread_independence_war
						}
						add_timed_idea = {
							days = 365
							idea = strive_for_independence
						}
						set_variable = { var = KMT_spread_revolution_int_match_check  value = 12 }
						set_country_flag = KMT_independence_war_from_spread
						transfer_state = PREV
						hidden_effect = {
							country_event = { id = kmt.545 }
						}
					}
					create_unit = {
						division = "name = \"Kakumei-gun\" division_template = \"Kakumei-gun\" start_experience_factor = 0.5"
						owner = event_target:KMT_spread_revolution_target_JAP
					}
					create_unit = {
						division = "name = \"Kakumei-gun\" division_template = \"Kakumei-gun\" start_experience_factor = 0.5"
						owner = event_target:KMT_spread_revolution_target_JAP
					}
					create_unit = {
						division = "name = \"Kakumei-gun\" division_template = \"Kakumei-gun\" start_experience_factor = 0.5"
						owner = event_target:KMT_spread_revolution_target_JAP
					}
					create_unit = {
						division = "name = \"Kakumei-gun\" division_template = \"Kakumei-gun\" start_experience_factor = 0.5"
						owner = event_target:KMT_spread_revolution_target_JAP
					}
				}
				else = {
					if = {
						limit = {
							event_target:KMT_spread_revolution_target_JAP = {
								NOT = {
									has_government = communism
								}
							}
						}
						event_target:KMT_spread_revolution_target_JAP = { country_event = { id = kmt.539 } }
					}
				}
			}
		}
	}

	KMT_spread_revolution_MAL = {
		icon = generic_nationalism
		available = { has_equipment = { infantry_equipment > @KMT_SPREAD_REVOLUTION_EQUIPMENT_COST_TRIGGER } }
		visible = {
			tag = CHI
			NOT = {
				any_country = {
					original_tag = event_target:KMT_spread_revolution_target_MAL
					has_government = communism
					exists = yes
				}
				has_wargoal_against = event_target:KMT_spread_revolution_target_MAL
				has_war_with = event_target:KMT_spread_revolution_target_MAL
			}
			any_state = {
				is_core_of = event_target:KMT_spread_revolution_target_MAL
				is_on_continent = asia
			}
		}
		cancel_trigger = {
			any_country = {
				original_tag = event_target:KMT_spread_revolution_target_MAL
				has_government = communism
				exists = yes
			}
		}

		fire_only_once = no
		cost = @KMT_SPREAD_REVOLUTION_PP_COST

		days_remove = @KMT_SPREAD_REVOLUTION_DAYS_REMOVE

		ai_will_do = {
			base = 10
			modifier = {
				event_target:KMT_spread_revolution_target_MAL = {
					OR = {
						is_in_faction_with = ROOT
						has_war_together_with = ROOT
					}
				}
				ROOT = {
					has_opinion = {
						target = event_target:KMT_spread_revolution_target_MAL
						value > 29
					}
				}
				factor = 0
			}
			modifier = {
				event_target:KMT_spread_revolution_target_MAL = {
					is_subject_of = ROOT
				}
				factor = 1000
			}
			modifier = {
				has_equipment = {
					infantry_equipment < @KMT_SPREAD_REVOLUTION_EQUIPMENT_AI_CHANCE
				}
				factor = 0
			}
		}

		modifier = {}

		complete_effect = {
			add_equipment_to_stockpile = {
				type = infantry_equipment
				amount = @KMT_SPREAD_REVOLUTION_EQUIPMENT_COST_EFFECT
			}
		}

		remove_effect = {
			every_country = {
				limit = {
					has_country_flag = KMT_MAL_former_coloniser_flag
				}
				clr_country_flag = KMT_MAL_former_coloniser_flag
			}
			event_target:KMT_spread_revolution_target_MAL = {
				clr_country_flag = KMT_independence_war_from_spread
				if = {
					limit = {
						NOT = { has_country_flag = KMT_spread_first_time_create_template }
					}
					division_template = {
						name = "Tentera Revolusioner"

						regiments = {
							infantry = { x = 0 y = 0 }
							infantry = { x = 0 y = 1 }
							infantry = { x = 0 y = 2 }
							infantry = { x = 1 y = 0 }
							infantry = { x = 1 y = 1 }
							infantry = { x = 1 y = 2 }
						}
					}
					set_country_flag = KMT_spread_first_time_create_template
				}
			}
			if = {
				limit = {
					NOT = {
						country_exists = event_target:KMT_spread_revolution_target_MAL
					}
				}
				every_state = {
					limit = {
						is_core_of = event_target:KMT_spread_revolution_target_MAL
					}
					owner = {
						if = {
							limit = {
								NOT = {
									has_country_flag = KMT_MAL_former_coloniser_flag
									tag = ROOT
								}
							}
							event_target:KMT_spread_revolution_target_MAL = {
								declare_war_on = {
									target = PREV
									type = topple_government
								}
							}
							set_variable = { var = KMT_spread_revolution_int_match_check  value = 13 }
							set_country_flag = KMT_MAL_former_coloniser_flag
						}
					}
					event_target:KMT_spread_revolution_target_MAL = {
						hidden_effect = {
							add_ideas = KMT_spread_independence_war
						}
						add_timed_idea = {
							days = 365
							idea = strive_for_independence
						}
						set_variable = { var = KMT_spread_revolution_int_match_check  value = 13 }
						set_country_flag = KMT_independence_war_from_spread
						transfer_state = PREV
						hidden_effect = {
							country_event = { id = kmt.545 }
						}
					}
					create_unit = {
						division = "name = \"Tentera Revolusioner\" division_template = \"Tentera Revolusioner\" start_experience_factor = 0.5"
						owner = event_target:KMT_spread_revolution_target_MAL
					}
					create_unit = {
						division = "name = \"Tentera Revolusioner\" division_template = \"Tentera Revolusioner\" start_experience_factor = 0.5"
						owner = event_target:KMT_spread_revolution_target_MAL
					}
					create_unit = {
						division = "name = \"Tentera Revolusioner\" division_template = \"Tentera Revolusioner\" start_experience_factor = 0.5"
						owner = event_target:KMT_spread_revolution_target_MAL
					}
					create_unit = {
						division = "name = \"Tentera Revolusioner\" division_template = \"Tentera Revolusioner\" start_experience_factor = 0.5"
						owner = event_target:KMT_spread_revolution_target_MAL
					}
				}
				else = {
					if = {
						limit = {
							event_target:KMT_spread_revolution_target_MAL = {
								NOT = {
									has_government = communism
								}
							}
						}
						event_target:KMT_spread_revolution_target_MAL = { country_event = { id = kmt.539 } }
					}
				}
			}
		}
	}

	KMT_spread_revolution_INS = {
		icon = generic_nationalism
		available = { has_equipment = { infantry_equipment > @KMT_SPREAD_REVOLUTION_EQUIPMENT_COST_TRIGGER } }
		visible = {
			tag = CHI
			NOT = {
				any_country = {
					original_tag = event_target:KMT_spread_revolution_target_INS
					has_government = communism
					exists = yes
				}
				has_wargoal_against = event_target:KMT_spread_revolution_target_INS
				has_war_with = event_target:KMT_spread_revolution_target_INS
			}
			any_state = {
				is_core_of = event_target:KMT_spread_revolution_target_INS
				is_on_continent = asia
			}
		}
		cancel_trigger = {
			any_country = {
				original_tag = event_target:KMT_spread_revolution_target_INS
				has_government = communism
				exists = yes
			}
		}

		fire_only_once = no
		cost = @KMT_SPREAD_REVOLUTION_PP_COST

		days_remove = @KMT_SPREAD_REVOLUTION_DAYS_REMOVE

		ai_will_do = {
			base = 10
			modifier = {
				event_target:KMT_spread_revolution_target_INS = {
					OR = {
						is_in_faction_with = ROOT
						has_war_together_with = ROOT
					}
				}
				ROOT = {
					has_opinion = {
						target = event_target:KMT_spread_revolution_target_INS
						value > 29
					}
				}
				factor = 0
			}
			modifier = {
				event_target:KMT_spread_revolution_target_INS = {
					is_subject_of = ROOT
				}
				factor = 1000
			}
			modifier = {
				has_equipment = {
					infantry_equipment < @KMT_SPREAD_REVOLUTION_EQUIPMENT_AI_CHANCE
				}
				factor = 0
			}
		}

		modifier = {}

		complete_effect = {
			add_equipment_to_stockpile = {
				type = infantry_equipment
				amount = @KMT_SPREAD_REVOLUTION_EQUIPMENT_COST_EFFECT
			}
		}

		remove_effect = {
			every_country = {
				limit = {
					has_country_flag = KMT_INS_former_coloniser_flag
				}
				clr_country_flag = KMT_INS_former_coloniser_flag
			}
			event_target:KMT_spread_revolution_target_INS = {
				clr_country_flag = KMT_independence_war_from_spread
				if = {
					limit = {
						NOT = { has_country_flag = KMT_spread_first_time_create_template }
					}
					division_template = {
						name = "Tentara Revolusioner"

						regiments = {
							infantry = { x = 0 y = 0 }
							infantry = { x = 0 y = 1 }
							infantry = { x = 0 y = 2 }
							infantry = { x = 1 y = 0 }
							infantry = { x = 1 y = 1 }
							infantry = { x = 1 y = 2 }
						}
					}
					set_country_flag = KMT_spread_first_time_create_template
				}
			}
			if = {
				limit = {
					NOT = {
						country_exists = event_target:KMT_spread_revolution_target_INS
					}
				}
				every_state = {
					limit = {
						is_core_of = event_target:KMT_spread_revolution_target_INS
					}
					owner = {
						if = {
							limit = {
								NOT = {
									has_country_flag = KMT_INS_former_coloniser_flag
									tag = ROOT
								}
							}
							event_target:KMT_spread_revolution_target_INS = {
								declare_war_on = {
									target = PREV
									type = topple_government
								}
							}
							set_variable = { var = KMT_spread_revolution_int_match_check  value = 14 }
							set_country_flag = KMT_INS_former_coloniser_flag
						}
					}
					event_target:KMT_spread_revolution_target_INS = {
						hidden_effect = {
							add_ideas = KMT_spread_independence_war
						}
						add_timed_idea = {
							days = 365
							idea = strive_for_independence
						}
						set_variable = { var = KMT_spread_revolution_int_match_check  value = 14 }
						set_country_flag = KMT_independence_war_from_spread
						transfer_state = PREV
						hidden_effect = {
							country_event = { id = kmt.545 }
						}
					}
					create_unit = {
						division = "name = \"Tentara Revolusioner\" division_template = \"Tentara Revolusioner\" start_experience_factor = 0.5"
						owner = event_target:KMT_spread_revolution_target_INS
					}
					create_unit = {
						division = "name = \"Tentara Revolusioner\" division_template = \"Tentara Revolusioner\" start_experience_factor = 0.5"
						owner = event_target:KMT_spread_revolution_target_INS
					}
					create_unit = {
						division = "name = \"Tentara Revolusioner\" division_template = \"Tentara Revolusioner\" start_experience_factor = 0.5"
						owner = event_target:KMT_spread_revolution_target_INS
					}
					create_unit = {
						division = "name = \"Tentara Revolusioner\" division_template = \"Tentara Revolusioner\" start_experience_factor = 0.5"
						owner = event_target:KMT_spread_revolution_target_INS
					}
				}
				else = {
					if = {
						limit = {
							event_target:KMT_spread_revolution_target_INS = {
								NOT = {
									has_government = communism
								}
							}
						}
						event_target:KMT_spread_revolution_target_INS = { country_event = { id = kmt.539 } }
					}
				}
			}
		}
	}

	KMT_spread_revolution_PHI = {
		icon = generic_nationalism
		available = { has_equipment = { infantry_equipment > @KMT_SPREAD_REVOLUTION_EQUIPMENT_COST_TRIGGER } }
		visible = {
			tag = CHI
			NOT = {
				any_country = {
					original_tag = event_target:KMT_spread_revolution_target_PHI
					has_government = communism
					exists = yes
				}
				has_wargoal_against = event_target:KMT_spread_revolution_target_PHI
				has_war_with = event_target:KMT_spread_revolution_target_PHI
			}
			any_state = {
				is_core_of = event_target:KMT_spread_revolution_target_PHI
				is_on_continent = asia
			}
		}
		cancel_trigger = {
			any_country = {
				original_tag = event_target:KMT_spread_revolution_target_PHI
				has_government = communism
				exists = yes
			}
		}

		fire_only_once = no
		cost = @KMT_SPREAD_REVOLUTION_PP_COST

		days_remove = @KMT_SPREAD_REVOLUTION_DAYS_REMOVE

		ai_will_do = {
			base = 10
			modifier = {
				event_target:KMT_spread_revolution_target_PHI = {
					OR = {
						is_in_faction_with = ROOT
						has_war_together_with = ROOT
					}
				}
				ROOT = {
					has_opinion = {
						target = event_target:KMT_spread_revolution_target_PHI
						value > 29
					}
				}
				factor = 0
			}
			modifier = {
				event_target:KMT_spread_revolution_target_PHI = {
					is_subject_of = ROOT
				}
				factor = 1000
			}
			modifier = {
				has_equipment = {
					infantry_equipment < @KMT_SPREAD_REVOLUTION_EQUIPMENT_AI_CHANCE
				}
				factor = 0
			}
		}

		modifier = {}

		complete_effect = {
			add_equipment_to_stockpile = {
				type = infantry_equipment
				amount = @KMT_SPREAD_REVOLUTION_EQUIPMENT_COST_EFFECT
			}
		}

		remove_effect = {
			every_country = {
				limit = {
					has_country_flag = KMT_PHI_former_coloniser_flag
				}
				clr_country_flag = KMT_PHI_former_coloniser_flag
			}
			event_target:KMT_spread_revolution_target_PHI = {
				clr_country_flag = KMT_independence_war_from_spread
				if = {
					limit = { NOT = { has_country_flag = KMT_spread_first_time_create_template } }
					division_template = {
						name = "Hukbo Ng Mga Rebolusyonaryo"

						regiments = {
							infantry = { x = 0 y = 0 }
							infantry = { x = 0 y = 1 }
							infantry = { x = 0 y = 2 }
							infantry = { x = 1 y = 0 }
							infantry = { x = 1 y = 1 }
							infantry = { x = 1 y = 2 }
						}
					}
				}
			}
			if = {
				limit = {
					NOT = {
						country_exists = event_target:KMT_spread_revolution_target_PHI
					}
				}
				every_state = {
					limit = {
						is_core_of = event_target:KMT_spread_revolution_target_PHI
					}
					owner = {
						if = {
							limit = {
								NOT = {
									has_country_flag = KMT_PHI_former_coloniser_flag
									tag = ROOT
								}
							}
							event_target:KMT_spread_revolution_target_PHI = {
								declare_war_on = {
									target = PREV
									type = topple_government
								}
							}
							set_variable = { var = KMT_spread_revolution_int_match_check  value = 15 }
							set_country_flag = KMT_PHI_former_coloniser_flag
						}
					}
					event_target:KMT_spread_revolution_target_PHI = {
						hidden_effect = {
							add_ideas = KMT_spread_independence_war
						}
						add_timed_idea = {
							days = 365
							idea = strive_for_independence
						}
						set_variable = { var = KMT_spread_revolution_int_match_check  value = 15 }
						set_country_flag = KMT_independence_war_from_spread
						transfer_state = PREV
						hidden_effect = {
							country_event = { id = kmt.545 }
						}
					}
					create_unit = {
						division = "name = \"Hukbo Ng Mga Rebolusyonaryo\" division_template = \"Hukbo Ng Mga Rebolusyonaryo\" start_experience_factor = 0.5"
						owner = event_target:KMT_spread_revolution_target_PHI
					}
					create_unit = {
						division = "name = \"Hukbo Ng Mga Rebolusyonaryo\" division_template = \"Hukbo Ng Mga Rebolusyonaryo\" start_experience_factor = 0.5"
						owner = event_target:KMT_spread_revolution_target_PHI
					}
					create_unit = {
						division = "name = \"Hukbo Ng Mga Rebolusyonaryo\" division_template = \"Hukbo Ng Mga Rebolusyonaryo\" start_experience_factor = 0.5"
						owner = event_target:KMT_spread_revolution_target_PHI
					}
					create_unit = {
						division = "name = \"Hukbo Ng Mga Rebolusyonaryo\" division_template = \"Hukbo Ng Mga Rebolusyonaryo\" start_experience_factor = 0.5"
						owner = event_target:KMT_spread_revolution_target_PHI
					}
				}
				else = {
					if = {
						limit = {
							event_target:KMT_spread_revolution_target_PHI = {
								NOT = {
									has_government = communism
								}
							}
						}
						event_target:KMT_spread_revolution_target_PHI = { country_event = { id = kmt.539 } }
					}
				}
			}
		}
	}

	KMT_spread_revolution_AFG = {
		icon = generic_nationalism
		available = {
			has_equipment = { infantry_equipment > @KMT_SPREAD_REVOLUTION_EQUIPMENT_COST_TRIGGER }
		}
		visible = {
			tag = CHI
			NOT = {
				any_country = {
					original_tag = event_target:KMT_spread_revolution_target_AFG
					has_government = communism
					exists = yes
				}
				has_wargoal_against = event_target:KMT_spread_revolution_target_AFG
				has_war_with = event_target:KMT_spread_revolution_target_AFG
			}
			any_state = {
				is_core_of = event_target:KMT_spread_revolution_target_AFG
				is_on_continent = asia
			}
		}
		cancel_trigger = {
			any_country = {
				original_tag = event_target:KMT_spread_revolution_target_AFG
				has_government = communism
				exists = yes
			}
		}

		fire_only_once = no
		cost = @KMT_SPREAD_REVOLUTION_PP_COST

		days_remove = @KMT_SPREAD_REVOLUTION_DAYS_REMOVE

		ai_will_do = {
			base = 10
			modifier = {
				event_target:KMT_spread_revolution_target_AFG = {
					OR = {
						is_in_faction_with = ROOT
						has_war_together_with = ROOT
					}
				}
				ROOT = {
					has_opinion = {
						target = event_target:KMT_spread_revolution_target_AFG
						value > 29
					}
				}
				factor = 0
			}
			modifier = {
				event_target:KMT_spread_revolution_target_AFG = {
					is_subject_of = ROOT
				}
				factor = 1000
			}
			modifier = {
				has_equipment = {
					infantry_equipment < @KMT_SPREAD_REVOLUTION_EQUIPMENT_AI_CHANCE
				}
				factor = 0
			}
		}

		modifier = {}

		complete_effect = {
			add_equipment_to_stockpile = {
				type = infantry_equipment
				amount = @KMT_SPREAD_REVOLUTION_EQUIPMENT_COST_EFFECT
			}
		}

		remove_effect = {
			every_country = {
				limit = {
					has_country_flag = KMT_AFG_former_coloniser_flag
				}
				clr_country_flag = KMT_AFG_former_coloniser_flag
			}
			event_target:KMT_spread_revolution_target_AFG = {
				clr_country_flag = KMT_independence_war_from_spread
				if = {
					limit = {
						NOT = { has_country_flag = KMT_spread_first_time_create_template }
					}
					division_template = {
						name = "Afghan Revolutionaries Army"

						regiments = {
							infantry = { x = 0 y = 0 }
							infantry = { x = 0 y = 1 }
							infantry = { x = 0 y = 2 }
							infantry = { x = 1 y = 0 }
							infantry = { x = 1 y = 1 }
							infantry = { x = 1 y = 2 }
						}
					}
					set_country_flag = KMT_spread_first_time_create_template
				}
			}
			if = {
				limit = {
					NOT = {
						country_exists = event_target:KMT_spread_revolution_target_AFG
					}
				}
				every_state = {
					limit = {
						is_core_of = event_target:KMT_spread_revolution_target_AFG
					}
					owner = {
						if = {
							limit = {
								NOT = {
									has_country_flag = KMT_AFG_former_coloniser_flag
									tag = ROOT
								}
							}
							event_target:KMT_spread_revolution_target_AFG = {
								declare_war_on = {
									target = PREV
									type = topple_government
								}
							}
							set_variable = { var = KMT_spread_revolution_int_match_check  value = 16 }
							set_country_flag = KMT_AFG_former_coloniser_flag
						}
					}
					event_target:KMT_spread_revolution_target_AFG = {
						hidden_effect = {
							add_ideas = KMT_spread_independence_war
						}
						add_timed_idea = {
							days = 365
							idea = strive_for_independence
						}
						set_variable = { var = KMT_spread_revolution_int_match_check  value = 16 }
						set_country_flag = KMT_independence_war_from_spread
						transfer_state = PREV
						hidden_effect = {
							country_event = { id = kmt.545 }
						}
					}
					create_unit = {
						division = "name = \"Afghan Revolutionaries Army\" division_template = \"Afghan Revolutionaries Army\" start_experience_factor = 0.5"
						owner = event_target:KMT_spread_revolution_target_AFG
					}
					create_unit = {
						division = "name = \"Afghan Revolutionaries Army\" division_template = \"Afghan Revolutionaries Army\" start_experience_factor = 0.5"
						owner = event_target:KMT_spread_revolution_target_AFG
					}
					create_unit = {
						division = "name = \"Afghan Revolutionaries Army\" division_template = \"Afghan Revolutionaries Army\" start_experience_factor = 0.5"
						owner = event_target:KMT_spread_revolution_target_AFG
					}
					create_unit = {
						division = "name = \"Afghan Revolutionaries Army\" division_template = \"Afghan Revolutionaries Army\" start_experience_factor = 0.5"
						owner = event_target:KMT_spread_revolution_target_AFG
					}
				}
				else = {
					if = {
						limit = {
							event_target:KMT_spread_revolution_target_AFG = {
								NOT = {
									has_government = communism
								}
							}
						}
						event_target:KMT_spread_revolution_target_AFG = { country_event = { id = kmt.539 } }
					}
				}
			}
		}
	}
}

foreign_politics = {

	KMT_communists_overthrow_white_peace_window_mission = {

		icon = generic_decision

		allowed = { always = no }

		available = {
			hidden_trigger = {
				NOT = {
					any_country = {
						has_war_with = ROOT
					}
				}
			}
		}

		visible = {
			has_country_flag = KMT_communists_overthrow_white_peace_window_flag
		}

		ai_will_do = {
			base = 0
			modifier = {

			}
		}

		is_good = yes

		days_mission_timeout = 35

		timeout_effect = {
			custom_effect_tooltip = KMT_nolonger_able_to_white_peace_with_countries
			clr_country_flag = KMT_communists_overthrow_white_peace_window_flag
			remove_mission = KMT_communists_overthrow_white_peace_window_mission
		}
	}

	KMT_white_peace_with_from = {
		icon = generic_decision

		cost = 1
		days_remove = 0

		visible = {
			has_country_flag = KMT_communists_overthrow_white_peace_window_flag
			FROM = {
				has_war_with = ROOT
				NOT = {
					has_country_flag = KMT_rejected_spread_peace
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				FROM = {
					surrender_progress > 0.5
				}
				factor = 0.25
			}
			modifier = {
				FROM = {
					surrender_progress > 0.75
				}
				factor = 0
			}
		}

		target_trigger = {
			FROM = {
				NOT = {
					original_tag = ROOT
				}
				has_war_with = ROOT
				NOT = {
					has_country_flag = KMT_rejected_spread_peace
				}
			}
		}

		complete_effect = {
			FROM = {
				country_event = { id = kmt.540 }
			}
		}
	}

	KMT_white_peace_with_colony_test = {
		icon = generic_decision

		cost = 0
		days_remove = 0

		available = {
			FROM = {
				has_war_with = ROOT
			}
		}

		visible = {
			FROM = {
				check_variable = {
					var = KMT_spread_revolution_int_match_check
					value = ROOT.KMT_spread_revolution_int_match_check
					compare = equals
				}
				has_idea = KMT_spread_independence_war
				has_war_with = ROOT
				has_country_flag = KMT_independence_war_from_spread
				OR = {
					NOT = {
						has_country_flag = KMT_rejected_colony_peace
					}
					has_country_flag = {
						flag = KMT_rejected_colony_peace
						days > 30
					}
				}
			}
		}

		ai_will_do = {
			base = 0
			modifier = {
				FROM = {
					has_country_flag = {
						flag = KMT_independence_war_from_spread
						days > 60
					}
					surrender_progress < 0.05
				}
				add = 10
			}
			modifier = {
				FROM = {
					has_country_flag = {
						flag = KMT_independence_war_from_spread
						days > 90
					}
					surrender_progress < 0.1
				}
				add = 15
			}
			modifier = {
				FROM = {
					has_country_flag = {
						flag = KMT_independence_war_from_spread
						days > 120
					}
					surrender_progress < 0.15
				}
				add = 30
			}
			modifier = {
				surrender_progress > 0.5
				add = 30
			}
			modifier = {
				has_capitulated = yes
				add = 1000
			}
			modifier = {
				has_government = fascism
				factor = 0.1
			}
			modifier = {
				has_government = communism
				factor = 0.25
			}
		}

		target_trigger = {
			FROM = {
				check_variable = {
					var = KMT_spread_revolution_int_match_check
					value = ROOT.KMT_spread_revolution_int_match_check
					compare = equals
				}
				has_idea = KMT_spread_independence_war
				has_war_with = ROOT
				has_country_flag = KMT_independence_war_from_spread
			}
		}

		complete_effect = {
			FROM = {
				country_event = { id = kmt.546 }
			}
		}
	}

	KMT_seek_peace_with_China = {
		icon = generic_decision
		available = {
			has_war_with = FROM
			custom_trigger_tooltip = {
				tooltip = KMT_JAP_seek_peace_with_from_tt
				OR = {
					NOT = {
						any_state = {
							NOT = { state = 524 }
							is_core_of = FROM
							owner = {
								OR = {
									tag = ROOT
									is_subject_of = ROOT
								}
							}
							controller = {
								OR = {
									tag = ROOT
									is_subject_of = ROOT
								}
							}
						}
					}
					NOT = {
						any_state = {
							is_core_of = FROM
							owner = {
								OR = {
									tag = ROOT
									is_subject_of = ROOT
								}
							}
						}
					}
				}
				OR = {
					NOT = {
						any_state = {
							OR = {
								state = 525
								state = 527
							}
							owner = {
								OR = {
									tag = ROOT
									is_subject_of = ROOT
								}
							}
							controller = {
								OR = {
									tag = ROOT
									is_subject_of = ROOT
								}
							}
						}
					}
					NOT = {
						any_state = {
							OR = {
								state = 525
								state = 527
							}
							owner = {
								OR = {
									tag = ROOT
									is_subject_of = ROOT
								}
							}
						}
					}
				}
			}
		}

		target_trigger = {
			FROM = {
				OR = {
					tag = CHI
					tag = PRC
				}
				OR = {
					is_faction_leader = yes
					is_in_faction = no
				}
				has_war_with = JAP
			}
		}

		visible = {
			FROM = {
				surrender_progress < 0.2
				is_puppet = no
				OR = {
					is_faction_leader = yes
					is_in_faction = no
				}
			}
			tag = JAP
			NOT = {
				is_in_faction_with = FROM
			}
			has_war_with = FROM
		}

		cost = 0

		fire_only_once = yes

		ai_will_do = {
			base = 0
			modifier = {
				has_civil_war = yes
				add = 50
			}
			modifier = {
				FROM = {
					tag = PRC
					is_ai = no
				}
				add = 2
			}
			modifier = {
				FROM = {
					tag = CHI
					is_ai = no
				}
				add = 10
			}
		}

		complete_effect = {
			FROM = {
				country_event = { id = umc_jap.300 }
			}
		}
	}

	KMT_test = {
		icon = generic_decision

		visible = {
			tag = FRA
			always = no
		}

		cost = 0

		ai_will_do = {
			base = 0
		}

		complete_effect = {
			every_owned_state = {
				limit = {
					any_neighbor_state = {
						is_core_of = ROOT
						is_owned_by = ROOT
					}
					NOT = {
						is_core_of = ROOT
					}
				}
				add_core_of = ROOT
			}
		}
	}
}

KMT_dcat_annex_warlords_for_vp = {
	KMT_annex_from_for_vps = {
		icon = generic_nationalism
		available = {
			surrender_progress > 0.7
			has_war_together_with = FROM
		}

		visible = {
			has_war = yes
			FROM = {
				#has_idea = cu_is_warlord
				has_idea = KMT_united_front
				has_war_together_with = ROOT
				NOT = {
					has_war_with = ROOT
				}
				exists = yes
			}
		}

		target_trigger = {
			FROM = {
				#has_idea = cu_is_warlord
				has_idea = KMT_united_front
				has_war_together_with = ROOT
				NOT = {
					has_war_with = ROOT
				}
				has_war = yes
			}
		}

		days_re_enable = 0
		days_remove = 0

		fire_only_once = yes

		ai_will_do = {
			base = 0
			modifier = {
				surrender_progress > 0.6
				add = 15
			}
			modifier = {
				surrender_progress > 0.7
				add = 30
			}
			modifier = {
				surrender_progress > 0.8
				add = 60
			}
			modifier = {
				FROM = {
					tag = SCC
				}
				factor = 5
			}
			modifier = {
				FROM = {
					NOT = { is_neighbor_of = ROOT }
				}
				factor = 0.75
			}
		}

		cost = 5

		complete_effect = {
			FROM = {
				country_event = { id = kmt.549 }
			}
		}
	}
}

KMT_dcat_GER_withdraw_advisor = {
	KMT_GER_withdraw_advisor = {
		icon = generic_break_treaty
		visible = {
			original_tag = GER
			NOT = {
				is_subject_of = CHI
			}
			CHI = {
				has_idea = german_advisors
			}
		}

		ai_will_do = {
			base = 0
			modifier = {
				has_opinion = {
					target = CHI
					value < -34
				}
				add = 100
			}
			modifier = {
				CHI = {
					has_government = communism
				}
				NOT = {
					has_government = communism
				}
				add = 1000
			}
			modifier = {
				CHI = {
					NOT = { has_government = communism }
				}
				has_government = communism
				add = 1000
			}
			modifier = {
				has_global_flag = KMT_sino_soviet_neutrality
				any_country = {
					OR = {
						tag = SOV
						tag = CHI
					}
					has_government = communism
				}
				add = 1000
			}
			modifier = {
				has_global_flag = GER_JAP_tripartite_pact
				JAP = {
					has_war_with = CHI
					is_major = yes
				}
				add = 100
			}
			modifier = {
				has_war_with = CHI
				add = 10000
			}
			modifier = {
				is_in_faction_with = CHI
				add = -5000
			}
		}

		days_re_enable = 0
		days_remove = 0

		cost = 0

		complete_effect = {
			CHI = {
				if = {
					limit = {
						has_idea = german_advisors
					}
					remove_ideas = german_advisors
				}
				if = {
					limit = {
						has_idea = KMT_sino_german_joint_research_ger_adv
					}
					remove_ideas = KMT_sino_german_joint_research_ger_adv
				}
				if = {
					limit = {
						has_idea = KMT_sino_german_joint_research
					}
					remove_ideas = KMT_sino_german_joint_research
				}
				country_event = { id = kmt.553 }
				remove_opinion_modifier = {
					modifier = sino_german_cooperation
					target = GER
				}
				remove_opinion_modifier = {
					modifier = more_sino_german_coop_trade
					target = GER
				}
				remove_opinion_modifier = {
					modifier = more_sino_german_coop
					target = GER
				}
			}
			remove_opinion_modifier = {
				modifier = sino_german_cooperation
				target = CHI
			}
			remove_opinion_modifier = {
				modifier = more_sino_german_coop_trade
				target = CHI
			}
			remove_opinion_modifier = {
				modifier = more_sino_german_coop
				target = CHI
			}
			effect_tooltip = {
				CHI = {
					if = {
						limit = { has_unit_leader = 1040 }
						every_unit_leader = {
							limit = { has_id = 1040 }
							set_nationality = GER
						}
					}
				}
			}
		}
	}

	KMT_grant_falkenhausen_more_power = {
		icon = generic_decision
		visible = {
			tag = CHI
		}

		ai_will_do = {
			base = 10
		}

		days_re_enable = 0
		days_remove = 0

		cost = 0

		fire_only_once = yes

		available = {
			GER = { has_idea = KMT_assistance_to_CHI }
		}

		complete_effect = {
			create_corps_commander = {
				id = 1040
				name = "Alexander von Falkenhausen"
				portrait_path = "gfx/leaders/kmt_mod/kmt_Falkenhausen.dds"
				traits = { infantry_officer }
				attack_skill = 2
				defense_skill = 2
				planning_skill = 3
				logistics_skill = 2
				skill = 3
			}

		}
	}

	KMT_cadet_in_GER_mobile_warfare = {
		icon = generic_army_support
		visible = {
			tag = CHI
			NOT = { has_idea = KMT_cadet_in_GER_idea_mw }
			GER = {
				has_idea = KMT_assistance_to_CHI
				has_tech = mobile_warfare
			}
			#has_completed_focus = KMT_falkenhausen_citizenship
		}

		ai_will_do = {
			base = 1000
			modifier = {
				political_power_daily < 0.1
				has_political_power < 10
				factor = 0
			}
		}

		days_re_enable = 0
		days_remove = 0

		cost = 5

		modifier = {
		}

		complete_effect = {
			add_ideas = KMT_cadet_in_GER_idea_mw
		}
	}

	KMT_cadet_in_GER_mobile_warfare_recall = {
		icon = generic_army_support
		visible = {
			tag = CHI
			has_idea = KMT_cadet_in_GER_idea_mw
		}

		ai_will_do = {
			base = 0
			modifier = {
				political_power_daily < 0.1
				has_political_power < 10
				add = 100
			}
		}

		days_re_enable = 0
		days_remove = 0

		cost = 5

		modifier = {
		}

		complete_effect = {
			remove_ideas = KMT_cadet_in_GER_idea_mw
		}
	}

	KMT_cadet_in_GER_superior_firepower = {
		icon = generic_army_support
		visible = {
			tag = CHI
			NOT = { has_idea = KMT_cadet_in_GER_idea_sf }
			GER = {
				has_idea = KMT_assistance_to_CHI
				has_tech = superior_firepower
			}
			#has_completed_focus = KMT_falkenhausen_citizenship
		}

		ai_will_do = {
			base = 1000
			modifier = {
				political_power_daily < 0.1
				has_political_power < 10
				factor = 0
			}
		}

		days_re_enable = 0
		days_remove = 0

		cost = 5

		modifier = {
		}

		complete_effect = {
			add_ideas = KMT_cadet_in_GER_idea_sf
		}
	}

	KMT_cadet_in_GER_superior_firepower_recall = {
		icon = generic_army_support
		visible = {
			tag = CHI
			has_idea = KMT_cadet_in_GER_idea_sf
		}

		ai_will_do = {
			base = 0
			modifier = {
				political_power_daily < 0.1
				has_political_power < 10
				add = 100
			}
		}

		days_re_enable = 0
		days_remove = 0

		cost = 5

		modifier = {
		}

		complete_effect = {
			remove_ideas = KMT_cadet_in_GER_idea_sf
		}
	}

	KMT_cadet_in_GER_grand_battleplan = {
		icon = generic_army_support
		visible = {
			tag = CHI
			NOT = { has_idea = KMT_cadet_in_GER_idea_gb }
			GER = {
				has_idea = KMT_assistance_to_CHI
				has_tech = trench_warfare
			}
			#has_completed_focus = KMT_falkenhausen_citizenship
		}

		ai_will_do = {
			base = 1000
			modifier = {
				political_power_daily < 0.1
				has_political_power < 10
				factor = 0
			}
		}

		days_re_enable = 0
		days_remove = 0

		cost = 5

		modifier = {
		}

		complete_effect = {
			add_ideas = KMT_cadet_in_GER_idea_gb
		}
	}

	KMT_cadet_in_GER_grand_battleplan_recall = {
		icon = generic_army_support
		visible = {
			tag = CHI
			has_idea = KMT_cadet_in_GER_idea_gb
		}

		ai_will_do = {
			base = 0
			modifier = {
				political_power_daily < 0.1
				has_political_power < 10
				add = 100
			}
		}

		days_re_enable = 0
		days_remove = 0

		cost = 5

		modifier = {
		}

		complete_effect = {
			remove_ideas = KMT_cadet_in_GER_idea_gb
		}
	}

	KMT_cadet_in_GER_mass_assault = {
		icon = generic_army_support
		visible = {
			tag = CHI
			NOT = { has_idea = KMT_cadet_in_GER_idea_ma }
			GER = {
				has_idea = KMT_assistance_to_CHI
				has_tech = mass_assault
			}
			#has_completed_focus = KMT_falkenhausen_citizenship
		}

		ai_will_do = {
			base = 1000
			modifier = {
				political_power_daily < 0.1
				has_political_power < 10
				factor = 0
			}
		}

		days_re_enable = 0
		days_remove = 0

		cost = 5

		modifier = {
		}

		complete_effect = {
			add_ideas = KMT_cadet_in_GER_idea_ma
		}
	}

	KMT_cadet_in_GER_mass_assault_recall = {
		icon = generic_army_support
		visible = {
			tag = CHI
			has_idea = KMT_cadet_in_GER_idea_ma
		}

		ai_will_do = {
			base = 0
			modifier = {
				political_power_daily < 0.1
				has_political_power < 10
				add = 100
			}
		}

		days_re_enable = 0
		days_remove = 0

		cost = 5

		modifier = {
		}

		complete_effect = {
			remove_ideas = KMT_cadet_in_GER_idea_ma
		}
	}


	KMT_cadet_in_GER_fleet_in_being = {
		icon = generic_naval
		visible = {
			tag = CHI
			NOT = { has_idea = KMT_cadet_in_GER_idea_fib }
			GER = {
				has_idea = KMT_assistance_to_CHI
				has_tech = fleet_in_being
			}
			#has_completed_focus = KMT_falkenhausen_citizenship
		}

		ai_will_do = {
			base = 1000
			modifier = {
				political_power_daily < 0.1
				has_political_power < 10
				factor = 0
			}
		}

		days_re_enable = 0
		days_remove = 0

		cost = 5

		modifier = {
		}

		complete_effect = {
			add_ideas = KMT_cadet_in_GER_idea_fib
		}
	}

	KMT_cadet_in_GER_fleet_in_being_recall = {
		icon = generic_naval
		visible = {
			tag = CHI
			has_idea = KMT_cadet_in_GER_idea_fib
		}

		ai_will_do = {
			base = 0
			modifier = {
				political_power_daily < 0.1
				has_political_power < 10
				add = 100
			}
		}

		days_re_enable = 0
		days_remove = 0

		cost = 5

		modifier = {
		}

		complete_effect = {
			remove_ideas = KMT_cadet_in_GER_idea_fib
		}
	}


	KMT_cadet_in_GER_trade_interdiction = {
		icon = generic_naval
		visible = {
			tag = CHI
			NOT = { has_idea = KMT_cadet_in_GER_idea_ti }
			GER = {
				has_idea = KMT_assistance_to_CHI
				has_tech = trade_interdiction
			}
			#has_completed_focus = KMT_falkenhausen_citizenship
		}

		ai_will_do = {
			base = 1000
			modifier = {
				political_power_daily < 0.1
				has_political_power < 10
				factor = 0
			}
		}

		days_re_enable = 0
		days_remove = 0

		cost = 5

		modifier = {
		}

		complete_effect = {
			add_ideas = KMT_cadet_in_GER_idea_ti
		}
	}

	KMT_cadet_in_GER_trade_interdiction_recall = {
		icon = generic_naval
		visible = {
			tag = CHI
			has_idea = KMT_cadet_in_GER_idea_ti
		}

		ai_will_do = {
			base = 0
			modifier = {
				political_power_daily < 0.1
				has_political_power < 10
				add = 100
			}
		}

		days_re_enable = 0
		days_remove = 0

		cost = 5

		modifier = {
		}

		complete_effect = {
			remove_ideas = KMT_cadet_in_GER_idea_ti
		}
	}

	KMT_cadet_in_GER_base_strike = {
		icon = generic_naval
		visible = {
			tag = CHI
			NOT = { has_idea = KMT_cadet_in_GER_idea_bs }
			GER = {
				has_idea = KMT_assistance_to_CHI
				has_tech = base_strike
			}
			#has_completed_focus = KMT_falkenhausen_citizenship
		}

		ai_will_do = {
			base = 1000
			modifier = {
				political_power_daily < 0.1
				has_political_power < 10
				factor = 0
			}
		}

		days_re_enable = 0
		days_remove = 0

		cost = 5

		modifier = {
		}

		complete_effect = {
			add_ideas = KMT_cadet_in_GER_idea_bs
		}
	}

	KMT_cadet_in_GER_base_strike_recall = {
		icon = generic_naval
		visible = {
			tag = CHI
			has_idea = KMT_cadet_in_GER_idea_bs
		}

		ai_will_do = {
			base = 0
			modifier = {
				political_power_daily < 0.1
				has_political_power < 10
				add = 100
			}
		}

		days_re_enable = 0
		days_remove = 0

		cost = 5

		modifier = {
		}

		complete_effect = {
			remove_ideas = KMT_cadet_in_GER_idea_bs
		}
	}

	KMT_cadet_in_GER_strategic_destruction = {
		icon = generic_air
		visible = {
			tag = CHI
			NOT = { has_idea = KMT_cadet_in_GER_idea_sd }
			GER = {
				has_idea = KMT_assistance_to_CHI
				has_tech = air_superiority
			}
			#has_completed_focus = KMT_falkenhausen_citizenship
		}

		ai_will_do = {
			base = 1000
			modifier = {
				political_power_daily < 0.1
				has_political_power < 10
				factor = 0
			}
		}

		days_re_enable = 0
		days_remove = 0

		cost = 5

		modifier = {
		}

		complete_effect = {
			add_ideas = KMT_cadet_in_GER_idea_sd
		}
	}

	KMT_cadet_in_GER_strategic_destruction_recall = {
		icon = generic_air
		visible = {
			tag = CHI
			has_idea = KMT_cadet_in_GER_idea_sd
		}

		ai_will_do = {
			base = 0
			modifier = {
				political_power_daily < 0.1
				has_political_power < 10
				add = 100
			}
		}

		days_re_enable = 0
		days_remove = 0

		cost = 5

		modifier = {
		}

		complete_effect = {
			remove_ideas = KMT_cadet_in_GER_idea_sd
		}
	}

	KMT_cadet_in_GER_battlefield_support = {
		icon = generic_air
		visible = {
			tag = CHI
			NOT = { has_idea = KMT_cadet_in_GER_idea_battlefield_support }
			GER = {
				has_idea = KMT_assistance_to_CHI
				has_tech = formation_flying
			}
			#has_completed_focus = KMT_falkenhausen_citizenship
		}

		ai_will_do = {
			base = 1000
			modifier = {
				political_power_daily < 0.1
				has_political_power < 10
				factor = 0
			}
		}

		days_re_enable = 0
		days_remove = 0

		cost = 5

		modifier = {
		}

		complete_effect = {
			add_ideas = KMT_cadet_in_GER_idea_battlefield_support
		}
	}

	KMT_cadet_in_GER_battlefield_support_recall = {
		icon = generic_air
		visible = {
			tag = CHI
			has_idea = KMT_cadet_in_GER_idea_battlefield_support
		}

		ai_will_do = {
			base = 0
			modifier = {
				political_power_daily < 0.1
				has_political_power < 10
				add = 100
			}
		}

		days_re_enable = 0
		days_remove = 0

		cost = 5

		modifier = {
		}

		complete_effect = {
			remove_ideas = KMT_cadet_in_GER_idea_battlefield_support
		}
	}

	KMT_cadet_in_GER_operation_integrity = {
		icon = generic_air
		visible = {
			tag = CHI
			NOT = { has_idea = KMT_cadet_in_GER_idea_oi }
			GER = {
				has_idea = KMT_assistance_to_CHI
				has_tech = force_rotation
			}
			#has_completed_focus = KMT_falkenhausen_citizenship
		}

		ai_will_do = {
			base = 1000
			modifier = {
				political_power_daily < 0.1
				has_political_power < 10
				factor = 0
			}
		}

		days_re_enable = 0
		days_remove = 0

		cost = 5

		modifier = {
		}

		complete_effect = {
			add_ideas = KMT_cadet_in_GER_idea_oi
		}
	}

	KMT_cadet_in_GER_operation_integrity_recall = {
		icon = generic_air
		visible = {
			tag = CHI
			has_idea = KMT_cadet_in_GER_idea_oi
		}

		ai_will_do = {
			base = 0
			modifier = {
				political_power_daily < 0.1
				has_political_power < 10
				add = 100
			}
		}

		days_re_enable = 0
		days_remove = 0

		cost = 5

		modifier = {
		}

		complete_effect = {
			remove_ideas = KMT_cadet_in_GER_idea_oi
		}
	}
}

KMT_dcat_integrate_the_communists = {

	KMT_incorporate_communist_generals = {
		icon = generic_air
		visible = {
			tag = CHI
			#has_completed_focus = KMT_allow_commie
			PRC = {
				is_subject_of = ROOT
			}
		}

		ai_will_do = {
			base = 1
		}

		cancel_trigger = {
			PRC = {
				NOT = { is_subject_of = ROOT }
			}
		}

		days_re_enable = 0
		days_remove = 180

		cost = 5

		modifier = {
		}

		remove_effect = {
			set_country_flag = KMT_commie_generals_absorbed
			PRC = {
				random_unit_leader = {
					limit = {
						NOT = {
							has_id = 1064
							has_trait = KMT_former_communists
						}
					}
					add_unit_leader_trait = KMT_former_communists
				}
				random_unit_leader = {
					limit = {
						NOT = {
							has_id = 1064
							has_trait = KMT_former_communists
						}
					}
					add_unit_leader_trait = KMT_former_communists
				}
				random_unit_leader = {
					limit = {
						NOT = {
							has_id = 1064
							has_trait = KMT_former_communists
						}
					}
					add_unit_leader_trait = KMT_former_communists
				}
				random_unit_leader = {
					limit = {
						NOT = {
							has_id = 1064
							has_trait = KMT_former_communists
						}
					}
					add_unit_leader_trait = KMT_former_communists
				}
				random_unit_leader = {
					limit = {
						NOT = {
							has_id = 1064
							has_trait = KMT_former_communists
						}
					}
					add_unit_leader_trait = KMT_former_communists
				}
				random_unit_leader = {
					limit = {
						NOT = {
							has_id = 1064
							has_trait = KMT_former_communists
						}
					}
					add_unit_leader_trait = KMT_former_communists
				}
				random_unit_leader = {
					limit = {
						NOT = {
							has_id = 1064
							has_trait = KMT_former_communists
						}
					}
					add_unit_leader_trait = KMT_former_communists
				}
				country_event = {
					id = kmt.562
				}
			}
		}

		complete_effect = {
			hidden_effect = {
			}
		}
	}

	KMT_incorporate_communist_talents = {
		icon = generic_air
		visible = {
			tag = CHI
			#has_completed_focus = KMT_allow_commie
			PRC = {
				is_subject_of = ROOT
			}
		}

		ai_will_do = {
			base = 1
		}

		cancel_trigger = {
			PRC = {
				NOT = { is_subject_of = ROOT }
			}
		}

		days_re_enable = 0
		days_remove = 180

		cost = 5

		modifier = {
		}

		remove_effect = {
			set_country_flag = KMT_integrated_prc
		}

		complete_effect = {
		}
	}

	KMT_replace_local_officials = {
		icon = generic_air
		visible = {
			tag = CHI
			#has_completed_focus = KMT_allow_commie
			PRC = {
				is_subject_of = ROOT
			}
			has_country_flag = KMT_integrated_prc
			has_country_flag = KMT_commie_generals_absorbed
		}

		ai_will_do = {
			base = 1
		}

		cancel_trigger = {
			PRC = {
				NOT = { is_subject_of = ROOT }
			}
		}

		days_re_enable = 0
		days_remove = 180

		cost = 5

		modifier = {
		}

		complete_effect = {
			PRC = {
				country_event = { id = kmt.564 }
			}
		}
	}
}
