#Category only allowed for POR


POR_public_works = {

	plano_centenarios = {

		icon = generic_construction

		allowed = { always = yes }

		cost = 200

		fire_only_once = yes

		days_remove = 360
		available = {
			has_manpower > 15000
			has_tech = construction4
		}

		complete_effect = {
			add_manpower = -15000
		}

		remove_effect = {
			add_ideas = POR_planocentenario_idea
			add_manpower = 15000
		}

		ai_will_do = {
			factor = 1
		}
	}

	plano_rodoviario = {

		icon = generic_construction

		allowed = { always = yes }

		cost = 150

		fire_only_once = yes

		days_remove = 360

		available = {
			has_manpower > 10000
			has_tech = construction3
		}

		complete_effect = {
			add_manpower = -10000
		}

		remove_effect = {
			add_ideas = POR_planorodoviario_idea
			add_manpower = 10000
		}

		ai_will_do = {
			factor = 1
		}
	}

	aproveitamentos_hidroeletricos = {

		icon = generic_construction

		allowed = { always = yes }

		cost = 100

		fire_only_once = yes

		days_remove = 360

		available = {
			has_manpower > 8000
			has_tech = construction2
		}

		complete_effect = {
			add_manpower = -8000
		}

		remove_effect = {
			180 = {
				add_extra_state_shared_building_slots = 2
			}
			181 = {
				add_extra_state_shared_building_slots = 4
			}
			179 = {
				add_extra_state_shared_building_slots = 2
			}
			add_manpower = 8000
		}

		ai_will_do = {
			factor = 1
		}
	}

	bairro_arco_cego = {

		icon = generic_construction

		allowed = { always = yes }

		cost = 50

		fire_only_once = yes

		days_remove = 180

		available = {
			has_manpower > 1000
			has_tech = construction1
		}

		complete_effect = {
			add_manpower = -1000
		}

		remove_effect = {
			112 = {
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}
			add_manpower = 1000
		}

		ai_will_do = {
			factor = 1
		}
	}

	parque_florestal_monsanto = {

		icon = generic_construction

		allowed = { always = yes }

		cost = 25

		fire_only_once = yes

		days_remove = 90

		available = {
			has_manpower > 500
			has_tech = radio_detection
		}

		complete_effect = {
			add_manpower = -500
		}

		remove_effect = {
			112 = {
				add_building_construction = {
					type = radar_station
					level = 1
					instant_build = yes
				}
			}
			add_manpower = 500
		}

		ai_will_do = {
			factor = 1
		}
	}
}


POR_army_1937 = {

	decision_reform = {

		icon = GFX_decision_generic_army_support

		allowed = { always = yes }

		fire_only_once = yes

		days_remove = 30

		cost = 10

		available = {
			has_idea = POR_fernado_costa
		}

		complete_effect = {
		}

		modifier = {
			political_power_factor = -0.4
		}

		remove_effect = {
			set_country_flag = decision_reform_completed
		}

		ai_will_do = {
			factor = 1
		}
	}

	decision_rearm = {

		icon = GFX_decision_ger_military_buildup

		allowed = { always = yes }

		fire_only_once = yes

		days_remove = 20

		cost = 20

		available = {
			GER = {
				has_opinion = {
					target = POR
					value > 49
				}
			}
		}

		complete_effect = {
		}



		remove_effect = {
			add_equipment_to_stockpile = {
				type = infantry_equipment
				amount = 10000
				producer = GER
			}
			set_country_flag = decision_rearm_completed
		}

		ai_will_do = {
			factor = 1
		}
	}

	decision_modernize = {

		icon = GFX_decision_generic_tank

		allowed = { always = yes }

		fire_only_once = yes

		days_remove = 10

		cost = 30

		available = {
			land_doctrine_level > 0
		}

		complete_effect = {
		}

		remove_effect = {
			army_experience = 50
			set_country_flag = decision_modernize_completed
		}

		ai_will_do = {
			factor = 1
		}
	}

	decision_remove_disorganized = {

		icon = GFX_decision_generic_civil_support

		allowed = { always = yes }

		fire_only_once = yes

		available = {
			has_country_flag = decision_reform_completed
			has_country_flag = decision_rearm_completed
			has_country_flag = decision_modernize_completed
		}

		complete_effect = {
			remove_ideas = POR_disorganized_army
			add_political_power = 150
		}

		remove_effect = {
		}

		ai_will_do = {
			factor = 1
		}
	}
}


POR_wolfram_embargo = {

	POR_wolfram_embargo_mission = {

		allowed = { always = yes }

		icon = GFX_decision_eng_trade_unions_support

		available = {
			has_government = neutrality
		}

		visible = {
			NOT = {
				has_country_flag = wolfram_forbidden
				has_country_flag = wolfram_allowed
			}
		}

		cost = 200

		ai_will_do = {
			factor = 0
		}

		fire_only_once = yes

		modifier = {
		}

		complete_effect = {
			set_country_flag = wolfram_forbidden
			custom_effect_tooltip = POR_wolfram_embargo_mission1_tt
			hidden_effect = { add_ideas = closed_economy }
			custom_effect_tooltip = POR_wolfram_embargo_mission_tt
			every_other_country = {
				add_opinion_modifier = { target = PREV modifier = sanctions_relations
				}
			}
		}
	}

	POR_wolfram_embargo_mission1 = {

		allowed = { always = yes }

		icon = GFX_decision_generic_break_treaty

		available = {
			has_government = neutrality
		}

		visible = {
			has_country_flag = wolfram_forbidden
			NOT = {
				has_country_flag = wolfram_allowed
			}
		}

		cost = 0

		ai_will_do = {
			factor = 0
		}

		fire_only_once = no

		modifier = {
		}

		complete_effect = {
			set_country_flag = wolfram_allowed
			clr_country_flag = wolfram_forbidden
			custom_effect_tooltip = POR_wolfram_embargo_mission12_tt
			hidden_effect = { add_ideas = export_focus }
			custom_effect_tooltip = POR_wolfram_embargo_mission2_tt
			every_other_country = {
				remove_opinion_modifier = { target = PREV modifier = sanctions_relations
				}
			}
		}
	}
	POR_wolfram_embargo_mission2 = {

		allowed = { always = yes }

		icon = GFX_decision_eng_trade_unions_support

		available = {
			has_government = neutrality
		}

		visible = {
			has_country_flag = wolfram_allowed
			NOT = {
				has_country_flag = wolfram_forbidden
			}
		}

		cost = 200

		ai_will_do = {
			factor = 0
		}

		fire_only_once = no

		modifier = {
		}

		complete_effect = {
			set_country_flag = wolfram_forbidden
			clr_country_flag = wolfram_allowed
			custom_effect_tooltip = POR_wolfram_embargo_mission1_tt
			hidden_effect = { add_ideas = closed_economy }
			custom_effect_tooltip = POR_wolfram_embargo_mission_tt
			every_other_country = {
				add_opinion_modifier = { target = PREV modifier = sanctions_relations
				}
			}
		}
	}
}

POR_wolfram_smuggling = {

	POR_wolfram_smuggling_mission1 = {

		allowed = { always = yes }

		icon = GFX_decision_tungsten

		available = {
			has_government = neutrality
			has_war = no
			GER = { has_government = fascism
				has_war_with = ENG
				has_capitulated = no
			}
			NOT = { has_country_flag = wolfram_smuggling }
			NOT = { has_completed_focus = POR_honor_old_alliance }
			NOT = { has_completed_focus = POR_british_cooperation }
			NOT = { has_completed_focus = POR_luso_pact }
		}

		visible = {
			GER = {
				has_government = fascism
			}
		}

		cost = 0

		ai_will_do = {
			factor = 0
		}

		fire_only_once = no

		modifier = {
		}

		complete_effect = {
			set_country_flag = wolfram_smuggling
			give_resource_rights = { receiver = GER state = 181 }
			custom_effect_tooltip = POR_wolfram_smuggling_mission1_tt
			add_ideas = wolfram_smuggling_idea
			GER = {
				add_opinion_modifier = { target = PREV modifier = POR_wolfsmug
				}
				custom_effect_tooltip = POR_wolfram_smuggling_mission2_tt
			}
		}
	}

	POR_wolfram_smuggling_mission2 = {

		allowed = { always = yes }

		icon = GFX_decision_tungsten

		available = {
			has_country_flag = wolfram_smuggling
		}

		visible = {
		}

		cost = 0

		ai_will_do = {
			factor = 0
		}

		fire_only_once = no

		modifier = {
		}

		complete_effect = {
			clr_country_flag = wolfram_smuggling
			GER = { remove_resource_rights = 181 }
			remove_ideas = wolfram_smuggling_idea
			GER = {
				remove_opinion_modifier = { target = PREV modifier = POR_wolfsmug
				}
			}
		}
	}
}

POR_mediterranean_dominance = {

	POR_lisbon_conference = {

		icon = GFX_decision_generic_nationalism

		available = {
			ITA = { is_in_faction_with = POR }
			any_other_country = {
				original_tag = SPR
				is_in_faction_with = POR
			}
		}

		fire_only_once = yes

		is_good = no


		visible = {
			NOT = { has_country_flag = rome_conference_flag }
			NOT = { has_country_flag = madrid_conference_flag }
			NOT = { has_country_flag = alone_mediterranean_flag }
		}

		cost = 0

		complete_effect = {
			hidden_effect = {
				set_country_flag = lisbon_conference_flag
			}
			add_state_claim = 462
			add_state_claim = 461
			add_state_claim = 513
			add_state_claim = 459
			add_state_claim = 460
			ITA = {
				add_state_claim = 458
				add_state_claim = 665
				add_state_claim = 452
				add_state_claim = 447
				add_state_claim = 446
				add_state_claim = 453
				add_state_claim = 454
				add_state_claim = 553
				add_state_claim = 677
				add_state_claim = 183
				add_state_claim = 116
				add_state_claim = 1
				add_state_claim = 735
				add_state_claim = 32
				add_state_claim = 21
			}
			every_country = {
				limit = { original_tag = SPR }
				add_state_claim = 31
				add_state_claim = 22
			}
		}
	}


	POR_lisbon_conference_strike_france = {

		icon = GFX_decision_infiltrate_state


		fire_only_once = yes

		is_good = no


		visible = {
			has_country_flag = lisbon_conference_flag
			NOT = { has_war_with = FRA }
		}

		cost = 100

		complete_effect = {
					create_wargoal = {			
					expire = 100
				type = take_claimed_state
				generator = { 462 461 513 459 460 }
				target = FRA
			}
			ITA = { 		create_wargoal = {			
				expire = 100
				type = take_claimed_state
				generator = { 458 665 553 677 1 735 32 21 }
				target = FRA
			}
			}
			every_country = {
				limit = { original_tag = SPR }
						create_wargoal = {			
				expire = 100
					type = take_claimed_state
					generator = { 31 22 }
					target = FRA
				}
			}
		}
	}

	POR_lisbon_conference_strike_uk = {

		icon = GFX_decision_infiltrate_state


		fire_only_once = yes

		is_good = no


		visible = {
			has_country_flag = lisbon_conference_flag
			NOT = { has_war_with = ENG }
		}

		cost = 100

		complete_effect = {
			if = {
				limit = { NOT = { country_exists = MLT
					country_exists = CYP country_exists = EGY
					country_exists = PAL }
				}
				ITA = { 		create_wargoal = {			
				expire = 100
					type = take_claimed_state
					generator = { 452 447 446 453 454 183 116 }
					target = ENG
				}
				}
			}
			if = {
				limit = { NOT = { country_exists = MLT
					country_exists = CYP }
					country_exists = EGY
					country_exists = PAL
				}
				ITA = { 		create_wargoal = {			
				expire = 100
					type = take_claimed_state
					generator = { 183 116 }
					target = ENG
				}
				}
			}
			if = {
				limit = { NOT = { country_exists = EGY
					country_exists = PAL }
					country_exists = MLT
					country_exists = CYP
				}
				ITA = { 		create_wargoal = {			
				expire = 100
					type = take_claimed_state
					generator = { 452 447 446 453 454 }
					target = ENG
				}
				}
			}
			if = {
				limit = { country_exists = MLT
					country_exists = CYP
				}
				ITA = { 		create_wargoal = {			
				expire = 100
					type = take_claimed_state
					generator = { 183 }
					target = CYP
				}
				}
				ITA = { 		create_wargoal = {			
				expire = 100
					type = take_claimed_state
					generator = { 116 }
					target = MLT
				}
				}
			}
			if = {
				limit = { country_exists = EGY
					country_exists = PAL
				}
				ITA = { 		create_wargoal = {			
				expire = 100
					type = take_claimed_state
					generator = { 452 447 446 453 }
					target = EGY
				}
				}
				ITA = { 		create_wargoal = {			
				expire = 100
					type = take_claimed_state
					generator = { 454 }
					target = PAL
				}
				}
			}
			if = {
				every_country = {
					limit = {
						original_tag = SPR

					}
					if = {
						limit = {
							NOT = { controls_state = 118 }
						}
								create_wargoal = {			
				expire = 100
							type = take_claimed_state
							generator = { 118 }
							target = ENG
						}
					}
				}
			}
		} }

	POR_rome_conference = {

		icon = GFX_decision_generic_nationalism

		available = {
			ITA = { is_in_faction_with = POR }
			any_other_country = {
				original_tag = SPR
				NOT = { is_in_faction_with = POR }
			}
		}

		fire_only_once = yes

		is_good = no


		visible = {
			NOT = { has_country_flag = lisbon_conference_flag }
			NOT = { has_country_flag = madrid_conference_flag }
			NOT = { has_country_flag = alone_mediterranean_flag }
		}

		cost = 0

		complete_effect = {
			hidden_effect = {
				set_country_flag = rome_conference_flag
			}
			add_state_claim = 290
			add_state_claim = 118
			add_state_claim = 462
			add_state_claim = 461
			add_state_claim = 513
			add_state_claim = 459
			add_state_claim = 460
			ITA = {
				add_state_claim = 458
				add_state_claim = 665
				add_state_claim = 452
				add_state_claim = 447
				add_state_claim = 446
				add_state_claim = 453
				add_state_claim = 454
				add_state_claim = 553
				add_state_claim = 677
				add_state_claim = 183
				add_state_claim = 116
				add_state_claim = 1
				add_state_claim = 735
				add_state_claim = 32
				add_state_claim = 21
				add_state_claim = 31
				add_state_claim = 22
			}
		}
	}

	POR_rome_conference_strike_france = {

		icon = GFX_decision_infiltrate_state


		fire_only_once = yes

		is_good = no


		visible = {
			has_country_flag = rome_conference_flag
			NOT = { has_war_with = FRA }
		}

		cost = 100

		complete_effect = {
					create_wargoal = {			
				expire = 100
				type = take_claimed_state
				generator = { 462 461 513 459 460 }
				target = FRA
			}
			ITA = { 		create_wargoal = {			
				expire = 100
				type = take_claimed_state
				generator = { 458 665 553 677 1 735 32 21 31 22 }
				target = FRA
			}
			}
		}
	}

	POR_rome_conference_strike_uk = {

		icon = GFX_decision_infiltrate_state


		fire_only_once = yes

		is_good = no


		visible = {
			has_country_flag = rome_conference_flag
			NOT = { has_war_with = ENG }
		}

		cost = 100

		complete_effect = {
			if = {
				limit = { ENG = { controls_state = 118
				}
				}
						create_wargoal = {			
				expire = 100
					type = take_claimed_state
					generator = { 118 }
					target = ENG
				}
			}
			if = {
				limit = { NOT = { country_exists = MLT
					country_exists = CYP country_exists = EGY
					country_exists = PAL }
				}
				ITA = { 		create_wargoal = {			
				expire = 100
					type = take_claimed_state
					generator = { 452 447 446 453 454 183 116 }
					target = ENG
				}
				}
			}
			if = {
				limit = { NOT = { country_exists = MLT
					country_exists = CYP }
					country_exists = EGY
					country_exists = PAL
				}
				ITA = { 		create_wargoal = {			
				expire = 100
					type = take_claimed_state
					generator = { 183 116 }
					target = ENG
				}
				}
			}
			if = {
				limit = { NOT = { country_exists = EGY
					country_exists = PAL }
					country_exists = MLT
					country_exists = CYP
				}
				ITA = { 		create_wargoal = {			
				expire = 100
					type = take_claimed_state
					generator = { 452 447 446 453 454 }
					target = ENG
				}
				}
			}
			if = {
				limit = { country_exists = MLT
					country_exists = CYP
				}
				ITA = { 		create_wargoal = {			
				expire = 100
					type = take_claimed_state
					generator = { 183 }
					target = CYP
				}
				}
				ITA = { 		create_wargoal = {			
				expire = 100
					type = take_claimed_state
					generator = { 116 }
					target = MLT
				}
				}
			}
			if = {
				limit = { country_exists = EGY
					country_exists = PAL
				}
				ITA = { 		create_wargoal = {			
				expire = 100
					type = take_claimed_state
					generator = { 452 447 446 453 }
					target = EGY
				}
				}
				ITA = { 		create_wargoal = {			
				expire = 100
					type = take_claimed_state
					generator = { 454 }
					target = PAL
				}
				}
			}
		}
	}

	POR_rome_conference_strike_spain = {

		icon = GFX_decision_infiltrate_state


		fire_only_once = yes

		is_good = no


		visible = {
			has_country_flag = rome_conference_flag
		}

		cost = 50

		complete_effect = {
			random_other_country = {
				limit = {
					original_tag = SPR
				}
				POR = {
							create_wargoal = {			
				expire = 100
						type = puppet_wargoal_focus
						target = PREV
					}
				}
			}
		}
	}

	POR_madrid_conference = {

		icon = GFX_decision_generic_nationalism

		available = {
			NOT = { ITA = { is_in_faction_with = POR } }
			any_other_country = {
				original_tag = SPR
				is_in_faction_with = POR
			}
		}

		fire_only_once = yes

		is_good = no


		visible = {
			NOT = { has_country_flag = lisbon_conference_flag }
			NOT = { has_country_flag = rome_conference_flag }
			NOT = { has_country_flag = alone_mediterranean_flag }
		}

		cost = 0

		complete_effect = {
			hidden_effect = {
				set_country_flag = madrid_conference_flag
			}
			add_state_claim = 462
			add_state_claim = 461
			add_state_claim = 513
			add_state_claim = 459
			add_state_claim = 460
			add_state_claim = 458
			add_state_claim = 665
			add_state_claim = 661
			add_state_claim = 448
			add_state_claim = 662
			add_state_claim = 449
			add_state_claim = 663
			add_state_claim = 450
			add_state_claim = 451
			add_state_claim = 452
			add_state_claim = 447
			add_state_claim = 446
			add_state_claim = 453
			add_state_claim = 454
			add_state_claim = 553
			add_state_claim = 677
			add_state_claim = 183
			add_state_claim = 116
			every_country = {
				limit = { original_tag = SPR }
				add_state_claim = 114
				add_state_claim = 1
				add_state_claim = 31
				add_state_claim = 32
				add_state_claim = 22
				add_state_claim = 21
				add_state_claim = 735
			}
		}
	}

	POR_madrid_conference_strike_france = {

		icon = GFX_decision_infiltrate_state


		fire_only_once = yes

		is_good = no


		visible = {
			has_country_flag = madrid_conference_flag
			NOT = { has_war_with = FRA }
		}

		cost = 100

		complete_effect = {
					create_wargoal = {			
				expire = 100
				type = take_claimed_state
				generator = { 462 461 513 459 460 458 665 }
				target = FRA
			}
			every_country = {
				limit = { original_tag = SPR }
						create_wargoal = {			
				expire = 100
					type = take_claimed_state
					generator = { 1 31 32 22 21 735 }
					target = FRA
				}
			}
		}
	}

	POR_madrid_conference_strike_uk = {

		icon = GFX_decision_infiltrate_state


		fire_only_once = yes

		is_good = no


		visible = {
			has_country_flag = madrid_conference_flag
			NOT = { has_war_with = ENG }
		}

		cost = 100

		complete_effect = {
			if = {
				limit = { NOT = { country_exists = MLT
					country_exists = CYP country_exists = EGY
					country_exists = PAL }
				}
				POR = { 		create_wargoal = {			
				expire = 100
					type = take_claimed_state
					generator = { 452 447 446 453 454 183 116 }
					target = ENG
				}
				}
			}
			if = {
				limit = { NOT = { country_exists = MLT
					country_exists = CYP }
					country_exists = EGY
					country_exists = PAL
				}
				POR = { 		create_wargoal = {			
				expire = 100
					type = take_claimed_state
					generator = { 183 116 }
					target = ENG
				}
				}
			}
			if = {
				limit = { NOT = { country_exists = EGY
					country_exists = PAL }
					country_exists = MLT
					country_exists = CYP
				}
				POR = { 		create_wargoal = {			
				expire = 100
					type = take_claimed_state
					generator = { 452 447 446 453 454 }
					target = ENG
				}
				}
			}
			if = {
				limit = { country_exists = MLT
					country_exists = CYP
				}
				POR = { 		create_wargoal = {			
				expire = 100
					type = take_claimed_state
					generator = { 183 }
					target = CYP
				}
				}
				POR = { 		create_wargoal = {			
				expire = 100
					type = take_claimed_state
					generator = { 116 }
					target = MLT
				}
				}
			}
			if = {
				limit = { country_exists = EGY
					country_exists = PAL
				}
				POR = { 		create_wargoal = {			
				expire = 100
					type = take_claimed_state
					generator = { 452 447 446 453 }
					target = EGY
				}
				}
				POR = { 		create_wargoal = {			
				expire = 100
					type = take_claimed_state
					generator = { 454 }
					target = PAL
				}
				}
			}
			if = {
				every_country = {
					limit = {
						original_tag = SPR
					}
					if = {
						limit = {
							NOT = { controls_state = 118 }
						}
								create_wargoal = {			
				expire = 100
							type = take_claimed_state
							generator = { 118 }
							target = ENG
						}
					}
				}
			} }
	}

	POR_madrid_conference_strike_italy = {

		icon = GFX_decision_infiltrate_state


		fire_only_once = yes

		is_good = no


		visible = {
			has_country_flag = madrid_conference_flag
			NOT = { has_war_with = ITA }
		}

		cost = 50

		complete_effect = {
					create_wargoal = {			
				expire = 100
				type = take_claimed_state
				generator = { 661 448 662 449 663 450 451 }
				target = ITA
			}
			every_country = {
				limit = { original_tag = SPR }
						create_wargoal = {			
				expire = 100
					type = take_claimed_state
					generator = { 114 }
					target = ITA
				}
			}
		}
	}

	POR_alone_mediterranean = {

		icon = GFX_decision_generic_nationalism

		available = {
			NOT = { ITA = { is_in_faction_with = POR }
			}
			any_other_country = {
				original_tag = SPR
				NOT = { is_in_faction_with = POR }
			}
		}

		fire_only_once = yes

		is_good = no


		visible = {
			NOT = { has_country_flag = lisbon_conference_flag }
			NOT = { has_country_flag = madrid_conference_flag }
			NOT = { has_country_flag = rome_conference_flag }
		}

		cost = 0

		complete_effect = {
			hidden_effect = {
				set_country_flag = alone_mediterranean_flag
			}
			add_state_claim = 118
			add_state_claim = 290
			add_state_claim = 462
			add_state_claim = 461
			add_state_claim = 513
			add_state_claim = 459
			add_state_claim = 460
			add_state_claim = 458
			add_state_claim = 665
			add_state_claim = 661
			add_state_claim = 448
			add_state_claim = 662
			add_state_claim = 449
			add_state_claim = 663
			add_state_claim = 450
			add_state_claim = 451
			add_state_claim = 452
			add_state_claim = 447
			add_state_claim = 446
			add_state_claim = 453
			add_state_claim = 454
			add_state_claim = 553
			add_state_claim = 677
			add_state_claim = 183
			add_state_claim = 116
		}
	}

	POR_alone_mediterranean_strike_spain = {

		icon = GFX_decision_infiltrate_state


		fire_only_once = yes

		is_good = no


		visible = {
			has_country_flag = alone_mediterranean_flag
		}

		cost = 50

		complete_effect = {
			random_other_country = {
				limit = {
					original_tag = SPR
				}
				POR = {
							create_wargoal = {			
				expire = 100
						type = puppet_wargoal_focus
						target = PREV
					}
				}
			}
		}
	}

	POR_alone_mediterranean_strike_france = {

		icon = GFX_decision_infiltrate_state


		fire_only_once = yes

		is_good = no


		visible = {
			has_country_flag = alone_mediterranean_flag
			NOT = { has_war_with = FRA }
		}

		cost = 100

		complete_effect = {
					create_wargoal = {			
				expire = 100
				type = take_claimed_state
				generator = { 462 461 513 459 460 458 665 }
				target = FRA
			}
		}
	}

	POR_alone_mediterranean_strike_uk = {

		icon = GFX_decision_infiltrate_state


		fire_only_once = yes

		is_good = no


		visible = {
			has_country_flag = alone_mediterranean_flag
			NOT = { has_war_with = ENG }
		}

		cost = 100

		complete_effect = {
			if = {
				limit = { NOT = { country_exists = MLT
					country_exists = CYP country_exists = EGY
					country_exists = PAL } ENG = { NOT = { controls_state = 118 }
				}
				}
				POR = { 		create_wargoal = {			
				expire = 100
					type = take_claimed_state
					generator = { 452 447 446 453 454 183 116 }
					target = ENG
				}
				}
			}
			if = {
				limit = { NOT = { country_exists = MLT
					country_exists = CYP country_exists = EGY
					country_exists = PAL } ENG = { controls_state = 118
				}
				}
				POR = { 		create_wargoal = {			
				expire = 100
					type = take_claimed_state
					generator = { 452 447 446 453 454 183 116 118 }
					target = ENG
				}
				}
			}
			if = {
				limit = { NOT = { country_exists = MLT
					country_exists = CYP }
					country_exists = EGY
					country_exists = PAL
				}
				POR = { 		create_wargoal = {			
				expire = 100
					type = take_claimed_state
					generator = { 183 116 }
					target = ENG
				}
				}
			}
			if = {
				limit = { NOT = { country_exists = EGY
					country_exists = PAL }
					country_exists = MLT
					country_exists = CYP
				}
				POR = { 		create_wargoal = {			
				expire = 100
					type = take_claimed_state
					generator = { 452 447 446 453 454 }
					target = ENG
				}
				}
			}
			if = {
				limit = { country_exists = MLT
					country_exists = CYP
				}
				POR = { 		create_wargoal = {			
				expire = 100
					type = take_claimed_state
					generator = { 183 }
					target = CYP
				}
				}
				POR = { 		create_wargoal = {			
				expire = 100
					type = take_claimed_state
					generator = { 116 }
					target = MLT
				}
				}
			}
			if = {
				limit = { country_exists = EGY
					country_exists = PAL
				}
				POR = { 		create_wargoal = {			
				expire = 100
					type = take_claimed_state
					generator = { 452 447 446 453 }
					target = EGY
				}
				}
				POR = { 		create_wargoal = {			
				expire = 100
					type = take_claimed_state
					generator = { 454 }
					target = PAL
				}
				}
			}
		}
	}

	POR_alone_mediterranean_strike_italy = {

		icon = GFX_decision_infiltrate_state


		fire_only_once = yes

		is_good = no


		visible = {
			has_country_flag = alone_mediterranean_flag
			NOT = { has_war_with = ITA }
		}

		cost = 50

		complete_effect = {
					create_wargoal = {			
				expire = 100
				type = take_claimed_state
				generator = { 661 448 662 449 663 450 451 }
				target = ITA
			}
		}
	}

	POR_influence_greece = {

		icon = GFX_decision_eng_propaganda_campaigns

		available = {
			GRE = { exists = yes
				has_war = no
				NOT = { has_government = fascism }
			}
		}

		fire_only_once = yes

		is_good = no


		visible = {
			NOT = { has_war_with = GRE }
			NOT = { is_in_faction_with = GRE }
			OR = { has_country_flag = lisbon_conference_flag
				has_country_flag = madrid_conference_flag
				has_country_flag = rome_conference_flag
				has_country_flag = alone_mediterranean_flag
			}
		}

		cost = 50

		complete_effect = {
			GRE = {
				add_ideas = FRA_support_the_right_focus
				custom_effect_tooltip = POR_influence_greece_tt
				hidden_effect = {
					country_event = {
						id = news.727
						days = 120
					}
				}
			}
		}
	}

	POR_ignore_greece = {

		icon = GFX_decision_infiltrate_state


		fire_only_once = yes

		is_good = no


		visible = {
			NOT = { is_in_faction_with = GRE }
			NOT = { has_war_with = GRE }
			OR = { has_country_flag = lisbon_conference_flag
				has_country_flag = madrid_conference_flag
				has_country_flag = rome_conference_flag
				has_country_flag = alone_mediterranean_flag
			}
		}

		cost = 25

		complete_effect = {
					create_wargoal = {			
				expire = 100
				type = puppet_wargoal_focus
				target = GRE
			}
		}
	}

	POR_influence_turkey = {

		icon = GFX_decision_eng_propaganda_campaigns

		available = {
			TUR = { exists = yes
				has_war = no
				NOT = { has_government = fascism }
			}
		}

		fire_only_once = yes

		is_good = no


		visible = {
			NOT = { has_war_with = TUR }
			NOT = { is_in_faction_with = TUR }
			OR = { has_country_flag = lisbon_conference_flag
				has_country_flag = madrid_conference_flag
				has_country_flag = rome_conference_flag
				has_country_flag = alone_mediterranean_flag
			}
		}

		cost = 50

		complete_effect = {
			TUR = {
				add_ideas = FRA_support_the_right_focus
				custom_effect_tooltip = POR_influence_turkey_tt
				hidden_effect = {
					country_event = {
						id = news.736
						days = 300
					}
				}
			}
		}
	}

	POR_ignore_turkey = {

		icon = GFX_decision_infiltrate_state


		fire_only_once = yes

		is_good = no


		visible = {
			NOT = { has_war_with = TUR }
			NOT = { is_in_faction_with = TUR }
			OR = { has_country_flag = lisbon_conference_flag
				has_country_flag = madrid_conference_flag
				has_country_flag = rome_conference_flag
				has_country_flag = alone_mediterranean_flag
			}
		}

		cost = 25

		complete_effect = {
					create_wargoal = {			
				expire = 100
				type = puppet_wargoal_focus
				target = TUR
			}
		}
	}

	POR_med_gibraltar_controlled = {

		icon = GFX_decision_generic_naval

		available = {
			custom_trigger_tooltip = {
				tooltip = gibraltar_canal_controlled_tt
				OR = {
					AND = {
						POR = { controls_state = 118 }
						POR = { controls_state = 290 }
					}
					AND = {
						ITA = { controls_state = 118 }
						ITA = { controls_state = 290 }
					}
					AND = {
						POR = { controls_state = 118 }
						ITA = { controls_state = 290 }
					}
					AND = {
						ITA = { controls_state = 118 }
						POR = { controls_state = 290 }
					}
					AND = {
						any_other_country = {
							original_tag = SPR
							controls_state = 118
							controls_state = 290
						}
					}
					AND = {
						POR = { controls_state = 118 }
						any_other_country = {
							original_tag = SPR
							controls_state = 290
						}
					}
					AND = {
						ITA = { controls_state = 118 }
						any_other_country = {
							original_tag = SPR
							controls_state = 290
						}
					}
					AND = {
						POR = { controls_state = 290 }
						any_other_country = {
							original_tag = SPR
							controls_state = 118
						}
					}
					AND = {
						ITA = { controls_state = 290 }
						any_other_country = {
							original_tag = SPR
							controls_state = 118
						}
					}
				}
			}
		}

		fire_only_once = yes

		is_good = no


		visible = {
			OR = { has_country_flag = lisbon_conference_flag
				has_country_flag = madrid_conference_flag
				has_country_flag = rome_conference_flag
				has_country_flag = alone_mediterranean_flag
			}
		}

		cost = 0

		complete_effect = {
			set_global_flag = med_gibraltar_controlled_flag
			add_war_support = 0.05
			if = {
				limit = {
					ITA = { is_in_faction_with = POR }
				}
				ITA = { add_war_support = 0.05 }
			}
			if = {
				every_country = {
					limit = { original_tag = SPR
						is_in_faction_with = POR }
					add_war_support = 0.05
				}
			}
			if = {
				every_country = {
					limit = { original_tag = GRE
						is_in_faction_with = POR }
					add_war_support = 0.05
				}
			}
			if = {
				every_country = {
					limit = { original_tag = TUR
						is_in_faction_with = POR }
					add_war_support = 0.05
				}
			}
		}
	}


	POR_med_suez_controlled = {

		icon = GFX_decision_generic_naval

		available = {
			custom_trigger_tooltip = {
				tooltip = suez_canal_controlled_tt
				OR = {
					AND = {
						POR = { controls_state = 446 }
						POR = { controls_state = 453 }
					}
					AND = {
						ITA = { controls_state = 446 }
						ITA = { controls_state = 453 }
					}
					AND = {
						POR = { controls_state = 446 }
						ITA = { controls_state = 453 }
					}
					AND = {
						ITA = { controls_state = 446 }
						POR = { controls_state = 453 }
					}
					AND = {
						any_other_country = {
							original_tag = TUR
							controls_state = 446
							controls_state = 453
						}
					}
					AND = {
						any_other_country = {
							original_tag = GRE
							controls_state = 446
							controls_state = 453
						}
					}
					AND = {
						any_other_country = {
							original_tag = SPR
							controls_state = 446
							controls_state = 453
						}
					}
					AND = {
						POR = { controls_state = 446 }
						any_other_country = {
							original_tag = TUR
							controls_state = 453
						}
					}
					AND = {
						ITA = { controls_state = 446 }
						any_other_country = {
							original_tag = TUR
							controls_state = 453
						}
					}
					AND = {
						POR = { controls_state = 446 }
						any_other_country = {
							original_tag = GRE
							controls_state = 453
						}
					}
					AND = {
						ITA = { controls_state = 446 }
						any_other_country = {
							original_tag = GRE
							controls_state = 453
						}
					}
					AND = {
						POR = { controls_state = 446 }
						any_other_country = {
							original_tag = SPR
							controls_state = 453
						}
					}
					AND = {
						ITA = { controls_state = 446 }
						any_other_country = {
							original_tag = SPR
							controls_state = 453
						}
					}
					AND = {
						POR = { controls_state = 453 }
						any_other_country = {
							original_tag = TUR
							controls_state = 446
						}
					}
					AND = {
						ITA = { controls_state = 453 }
						any_other_country = {
							original_tag = TUR
							controls_state = 446
						}
					}
					AND = {
						POR = { controls_state = 453 }
						any_other_country = {
							original_tag = GRE
							controls_state = 446
						}
					}
					AND = {
						ITA = { controls_state = 453 }
						any_other_country = {
							original_tag = GRE
							controls_state = 446
						}
					}
					AND = {
						POR = { controls_state = 453 }
						any_other_country = {
							original_tag = SPR
							controls_state = 446
						}
					}
					AND = {
						ITA = { controls_state = 453 }
						any_other_country = {
							original_tag = SPR
							controls_state = 446
						}
					}
				}
			}
		}

		fire_only_once = yes

		is_good = no


		visible = {
			OR = { has_country_flag = lisbon_conference_flag
				has_country_flag = madrid_conference_flag
				has_country_flag = rome_conference_flag
				has_country_flag = alone_mediterranean_flag
			}
		}

		cost = 0

		complete_effect = {
			set_global_flag = med_suez_controlled_flag
			add_war_support = 0.05
			if = {
				limit = {
					ITA = { is_in_faction_with = POR }
				}
				ITA = { add_war_support = 0.05 }
			}
			if = {
				every_country = {
					limit = { original_tag = SPR
						is_in_faction_with = POR }
					add_war_support = 0.05
				}
			}
			if = {
				every_country = {
					limit = { original_tag = GRE
						is_in_faction_with = POR }
					add_war_support = 0.05
				}
			}
			if = {
				every_country = {
					limit = { original_tag = TUR
						is_in_faction_with = POR }
					add_war_support = 0.05
				}
			}
		}
	}


	POR_gibraltar_suez_controlled = {

		icon = GFX_decision_generic_civil_support

		available = {
			has_global_flag = med_gibraltar_controlled_flag
			has_global_flag = med_suez_controlled_flag
		}

		fire_only_once = yes

		is_good = no


		visible = {
			OR = { has_country_flag = lisbon_conference_flag
				has_country_flag = madrid_conference_flag
				has_country_flag = rome_conference_flag
				has_country_flag = alone_mediterranean_flag
			}
		}

		cost = 0

		complete_effect = {
			add_political_power = 200
			add_ideas = POR_gibraltar_suez_idea
			if = {
				limit = {
					ITA = { is_in_faction_with = POR }
				}
				ITA = { add_political_power = 200
					add_ideas = POR_gibraltar_suez_idea }
			}
			if = {
				every_country = {
					limit = { original_tag = SPR
						is_in_faction_with = POR }
					add_political_power = 200
					add_ideas = POR_gibraltar_suez_idea
				}
			}
			if = {
				every_country = {
					limit = { original_tag = GRE
						is_in_faction_with = POR }
					add_political_power = 200
					add_ideas = POR_gibraltar_suez_idea
				}
			}
			if = {
				every_country = {
					limit = { original_tag = TUR
						is_in_faction_with = POR }
					add_political_power = 200
					add_ideas = POR_gibraltar_suez_idea
				}
			}
		}
	}

}

#FORM IBERIA - DEACTIVATED - MAKES NO SENSE FOR OUR COUNTRY HISTORY
#form_iberia_category = {
#
#	form_iberia = {
#
#		icon = generic_form_nation
#
#		allowed = {
#			OR = {
#				original_tag = POR
#			}
#		}
#
#		available = {
#			is_subject = no
#			# Portugal
#			custom_trigger_tooltip = {
#				tooltip = form_iberia_portugal_required_states_tt
#				controls_state = 112
#				controls_state = 179
#				controls_state = 180
#				controls_state = 181
#				controls_state = 697
#				controls_state = 698
#			}
#			# Spain
#			custom_trigger_tooltip = {
#				tooltip = form_iberia_spain_required_states_tt
#				controls_state = 178
#				controls_state = 171
#				controls_state = 174
#				controls_state = 170
#				controls_state = 172
#				controls_state = 176
#				controls_state = 41
#				controls_state = 175
#				controls_state = 169
#				controls_state = 173
#				controls_state = 168
#				controls_state = 167
#				controls_state = 166
#				controls_state = 165
#				controls_state = 177
#			}
#		}
#
#		visible = {
#			OR = {
#				original_tag = POR
#			}
#			NOT = { has_global_flag = form_iberia_flag }
#		}
#
#		complete_effect = {
#			set_cosmetic_tag = IBE_Unified
#			# Portugal
#			custom_effect_tooltip = form_iberia_portugal_coring_states_tt
#			hidden_effect = {
#				112 = { add_core_of = ROOT }
#				179 = { add_core_of = ROOT }
#				180 = { add_core_of = ROOT }
#				181 = { add_core_of = ROOT }
#				697 = { add_core_of = ROOT }
#				698 = { add_core_of = ROOT }
#			}
#			# Spain
#			custom_effect_tooltip = form_iberia_spain_coring_states_tt
#			hidden_effect = {
#				178 = { add_core_of = ROOT }
#				171 = { add_core_of = ROOT }
#				174 = { add_core_of = ROOT }
#				170 = { add_core_of = ROOT }
#				172 = { add_core_of = ROOT }
#				176 = { add_core_of = ROOT }
#				41 = { add_core_of = ROOT }
#				175 = { add_core_of = ROOT }
#				169 = { add_core_of = ROOT }
#				173 = { add_core_of = ROOT }
#				168 = { add_core_of = ROOT }
#				167 = { add_core_of = ROOT }
#				166 = { add_core_of = ROOT }
#				165 = { add_core_of = ROOT }
#				177 = { add_core_of = ROOT }
#			}
#			hidden_effect = {
#				news_event = { id = news.705 hours = 6 }
#				set_global_flag = form_iberia_flag
#			}
#		}
#
#		ai_will_do = {
#			factor = 1
#			modifier = {
#				factor = 0
#				is_historical_focus_on = yes
#			}
#		}
#	}
#}

#FORM REINO UNIDO BRASIL, PORTUGAL E ALGARVES

form_reino_unido = {

	form_reino_unido_brasil_portugal = {

		icon = generic_form_nation

		allowed = {
			original_tag = POR
		}

		available = {
			is_subject = no
			# Portugal
			custom_trigger_tooltip = {
				tooltip = form_reino_portugal_required_states_tt
				controls_state = 112
				controls_state = 179
				controls_state = 180
				controls_state = 181
				controls_state = 697
				controls_state = 698
			}
			# Brazil
			custom_trigger_tooltip = {
				tooltip = form_reino_portugal_required_states1_tt
				controls_state = 280
				controls_state = 495
				controls_state = 496
				controls_state = 497
				controls_state = 498
				controls_state = 499
				controls_state = 500
				controls_state = 501
				controls_state = 502
				controls_state = 503
				controls_state = 504
				controls_state = 505
			}
			# Cisplatina
			custom_trigger_tooltip = {
				tooltip = form_reino_portugal_required_states2_tt
				controls_state = 300
			}
		}

		visible = {
			OR = {
				original_tag = POR
			}
			NOT = { has_global_flag = form_reino_portugal_flag }
		}

		complete_effect = {
			set_cosmetic_tag = POR_UKPBA

			custom_effect_tooltip = form_reino_portugal_coring_states_tt

			hidden_effect = {
				280 = { add_core_of = ROOT }
				495 = { add_core_of = ROOT }
				496 = { add_core_of = ROOT }
				497 = { add_core_of = ROOT }
				498 = { add_core_of = ROOT }
				499 = { add_core_of = ROOT }
				500 = { add_core_of = ROOT }
				501 = { add_core_of = ROOT }
				502 = { add_core_of = ROOT }
				503 = { add_core_of = ROOT }
				504 = { add_core_of = ROOT }
				505 = { add_core_of = ROOT }
				300 = { add_core_of = ROOT }

				news_event = { id = news.734 hours = 6 }
				set_global_flag = form_reino_portugal_flag
			}
		}

		ai_will_do = {
			factor = 0

		}
	}
}

#Category allowed for POR
#Visible when has completed POR_ukpba focus.
#Visible if independent
POR_colonial_empire = {

	POR_tordesilhas_treaty = {

		icon = GFX_decision_generic_prepare_civil_war


		fire_only_once = yes

		is_good = no


		days_remove = 90

		visible = {
			has_completed_focus = POR_spanish_king
		}

		cost = 100

		complete_effect = {
			custom_effect_tooltip = tordesilhas_treaty_tt
			hidden_effect = {
				POR = {
					add_state_claim = 280
					add_state_claim = 495
					add_state_claim = 496
					add_state_claim = 497
					add_state_claim = 498
					add_state_claim = 499
					add_state_claim = 500
					add_state_claim = 501
					add_state_claim = 502
					add_state_claim = 503
					add_state_claim = 504
					add_state_claim = 505
					add_state_claim = 300
				}
				random_country = {
					limit = { original_tag = SPR }
					add_state_claim = 488
					add_state_claim = 307
					add_state_claim = 489
					add_state_claim = 493
					add_state_claim = 306
					add_state_claim = 486
					add_state_claim = 305
					add_state_claim = 490
					add_state_claim = 491
					add_state_claim = 303
					add_state_claim = 494
					add_state_claim = 492
					add_state_claim = 487
					add_state_claim = 688
					add_state_claim = 301
					add_state_claim = 302
					add_state_claim = 506
					add_state_claim = 508
					add_state_claim = 509
					add_state_claim = 510
					add_state_claim = 278
					add_state_claim = 511
					add_state_claim = 279
					add_state_claim = 512
					add_state_claim = 507
				}
			}
		}

		remove_effect = {
					create_wargoal = {			
				expire = 100
				type = take_claimed_state
				generator = { 300 }
				target = URG
			}
					create_wargoal = {			
				expire = 100
				type = take_claimed_state
				generator = { 280 495 496 497 498 499 500 501 502 503 504 505 }
				target = BRA
			}
		}
	}


	POR_claim_brazil = {

		icon = GFX_decision_generic_prepare_civil_war


		fire_only_once = yes

		days_remove = 60

		is_good = no


		visible = {
			NOT = { has_completed_focus = POR_spanish_king }
			NOT = { BRA = {
				exists = no
			}
			}
		}

		cost = 80

		complete_effect = {
			custom_effect_tooltip = claims_brazil_tt
			hidden_effect = {
				add_state_claim = 280
				add_state_claim = 495
				add_state_claim = 496
				add_state_claim = 497
				add_state_claim = 498
				add_state_claim = 499
				add_state_claim = 500
				add_state_claim = 501
				add_state_claim = 502
				add_state_claim = 503
				add_state_claim = 504
				add_state_claim = 505
			}
		}
		remove_effect = {
					create_wargoal = {			
				expire = 100
				type = take_claimed_state
				generator = { 280 495 496 497 498 499 500 501 502 503 504 505 }
				target = BRA
			}
		}
	}

	POR_claim_pink_map = {

		icon = GFX_decision_generic_prepare_civil_war


		fire_only_once = yes

		days_remove = 60

		is_good = no


		visible = {
			NOT = { controls_state = 545
				controls_state = 771
				controls_state = 770 }
			NOT = { is_in_faction_with = ENG }
		}

		cost = 80

		complete_effect = {
			add_state_claim = 545
			add_state_claim = 771
			add_state_claim = 770
		}

		remove_effect = {
			if = {
				limit = { ENG = { NOT = { has_completed_focus = ENG_self_government_for_africa } } }
						create_wargoal = {			
				expire = 100
					type = take_claimed_state
					generator = { 545 771 770 }
					target = ENG
				}
			}
			if = {
				limit = { ENG = { has_completed_focus = ENG_self_government_for_africa } }
						create_wargoal = {			
				expire = 100
					type = annex_everything
					generator = { 771 }
					target = ZAM
				}
						create_wargoal = {			
				expire = 100
					type = annex_everything
					generator = { 770 }
					target = MLW
				}
						create_wargoal = {			
				expire = 100
					type = annex_everything
					generator = { 545 }
					target = ZIM
				}
			}
		}
	}

	POR_claim_ceuta = {

		icon = GFX_decision_generic_prepare_civil_war


		fire_only_once = yes

		days_remove = 30

		is_good = no


		visible = {
			any_other_country = {
				original_tag = SPR
				has_government = fascism
				NOT = { is_in_faction_with = POR }
			}
			NOT = { owns_state = 290 }
		}

		cost = 50

		complete_effect = {
			add_state_claim = 290
		}

		remove_effect = {
			random_other_country = {
				limit = { original_tag = SPR }
				POR = {
							create_wargoal = {			
				expire = 100
						type = annex_everything
						generator = { 290 }
						target = PREV
					}
				}
			}
		}
	}

	POR_claim_cisplatina = {

		icon = GFX_decision_generic_prepare_civil_war


		fire_only_once = yes

		days_remove = 30

		is_good = no


		visible = {
			NOT = { has_completed_focus = POR_spanish_king }
			NOT = { owns_state = 300 }
		}

		cost = 40

		complete_effect = {
			add_state_claim = 300
		}

		remove_effect = {
					create_wargoal = {			
				expire = 100
				type = take_claimed_state
				generator = { 300 }
				target = URG
			}
		}
	}

	POR_claim_ceylon = {

		icon = GFX_decision_generic_prepare_civil_war


		fire_only_once = yes

		days_remove = 30

		is_good = no


		visible = {
			NOT = { owns_state = 422 }
			NOT = { is_in_faction_with = ENG }
		}

		cost = 30

		complete_effect = {
			add_state_claim = 422
		}

		remove_effect = {
			if = {
				limit = { ENG = { NOT = { has_completed_focus = ENG_self_government_for_asia } } }
						create_wargoal = {			
				expire = 100
					type = take_claimed_state
					generator = { 422 }
					target = ENG
				}
			}
			if = {
				limit = { ENG = { has_completed_focus = ENG_self_government_for_asia } }
						create_wargoal = {			
				expire = 100
					type = annex_everything
					generator = { 422 }
					target = SRL
				}
			}
		}
	}

	POR_claim_west_timor = {

		icon = GFX_decision_generic_prepare_civil_war


		fire_only_once = yes

		days_remove = 20

		is_good = no


		visible = {
			NOT = { owns_state = 667 }
			NOT = { owns_state = 668 }
		}

		cost = 30

		complete_effect = {
			custom_effect_tooltip = claims_timor_tt
			hidden_effect = {
				add_state_claim = 667
				add_state_claim = 668
			}
		}
		remove_effect = {
					create_wargoal = {			
				expire = 100
				type = take_claimed_state
				generator = { 667 668 }
				target = INS
			}
		}
	}
}

POR_colonial_release = {

	POR_release_angola = {

		icon = GFX_decision_generic_form_nation

		fire_only_once = yes
		is_good = no
		available = {
			OR = { controls_state = 540
				ANG = { is_puppet_of = POR }
			}
		}

		complete_effect = {
			add_political_power = 400
			add_manpower = 40000
			if = {
				limit = {
					540 = {
						is_controlled_by = ROOT
					}
				}
				release = ANG
			}
			if = {
				limit = {
					ANG = { is_puppet_of = POR }
				}
				end_puppet = ANG
			}
		}
	}

	POR_release_monzabique = {

		icon = GFX_decision_generic_form_nation

		fire_only_once = yes
		is_good = no
		available = {
			OR = { controls_state = 544
				MZB = { is_puppet_of = POR }
			}
		}

		complete_effect = {
			add_political_power = 200
			add_manpower = 20000
			if = {
				limit = {
					544 = {
						is_controlled_by = ROOT
					}
				}
				release = MZB
			}
			if = {
				limit = {
					MZB = { is_puppet_of = POR }
				}
				end_puppet = MZB
			}
		}
	}


	POR_release_guinea = {

		icon = GFX_decision_generic_form_nation

		fire_only_once = yes
		is_good = no
		available = {
			OR = { controls_state = 296
				GNB = { is_puppet_of = POR }
			}
		}

		complete_effect = {
			add_political_power = 30
			add_manpower = 3000
			if = {
				limit = {
					296 = {
						is_controlled_by = ROOT
					}
				}
				release = GNB
			}
			if = {
				limit = {
					GNB = { is_puppet_of = POR }
				}
				end_puppet = GNB
			}
		}
	}

	POR_release_goa = {

		icon = GFX_decision_generic_form_nation

		fire_only_once = yes
		is_good = no
		available = {
			controls_state = 321
		}

		visible = {
			controls_state = 321
		}

		complete_effect = {
			add_political_power = 80
			add_manpower = 8000
			RAJ = { transfer_state = 321 }
		}
	}

	POR_macau_china = {

		icon = GFX_decision_generic_form_nation

		fire_only_once = yes
		is_good = no
		available = {
			controls_state = 729
		}

		visible = {
			controls_state = 729
		}

		complete_effect = {
			add_political_power = 50
			add_manpower = 5000
			CHI = { transfer_state = 729 }
		}
	}

	POR_macau_chinacomm = {

		icon = GFX_decision_generic_form_nation

		fire_only_once = yes
		is_good = no
		available = {
			controls_state = 729
		}

		visible = {
			controls_state = 729
		}

		complete_effect = {
			add_political_power = 50
			add_manpower = 5000
			PRC = { transfer_state = 729 }
		}
	}
}


##################################    COLONIAL RESOURCES    ##############################

POR_colonial_resources = {

	develop_guinea_rubber_plantations = { #296

		icon = rubber

		allowed = {

		}

		available = {
			has_tech = excavation1
			owns_state = 296
			controls_state = 296
			num_of_civilian_factories_available_for_projects > 1
		}

		highlight_states = {
			state = 296
		}

		visible = {
			owns_state = 296
			controls_state = 296
			296 = {
				NOT = {
					has_state_flag = guinea_rubber_developed
				}
			}
		}

		fire_only_once = yes

		cost = 25
		days_remove = 30

		modifier = {
			civilian_factory_use = 2
		}

		remove_effect = {
			296 = {
				set_state_flag = guinea_rubber_developed
			}
			296 = {
				add_resource = {
					type = rubber
					amount = 4
				}
			}
		}

		ai_will_do = {
			factor = 1
		}
	}


	develop_angola_rubber_plantations = { #540

		icon = rubber

		allowed = {

		}

		available = {
			has_tech = excavation1
			owns_state = 540
			controls_state = 540
			num_of_civilian_factories_available_for_projects > 2
		}

		highlight_states = {
			state = 540
		}

		visible = {
			owns_state = 540
			controls_state = 540
			540 = {
				NOT = {
					has_state_flag = angola_rubber_developed
				}
			}
		}

		fire_only_once = yes

		cost = 25
		days_remove = 60

		modifier = {
			civilian_factory_use = 3
		}

		remove_effect = {
			540 = {
				set_state_flag = angola_rubber_developed
			}
			540 = {
				add_resource = {
					type = rubber
					amount = 12
				}
			}
		}

		ai_will_do = {
			factor = 1
		}
	}

	develop_ceuta_steel1 = { #290

		icon = steel

		allowed = {

		}
		highlight_states = {
			state = 290
		}
		available = {
			has_tech = excavation1
			num_of_civilian_factories_available_for_projects > 1
			owns_state = 290
			controls_state = 290
		}

		visible = {
			owns_state = 290
			controls_state = 290
			290 = {
				NOT = {
					has_state_flag = develop_ceuta_steel1
				}
			}
		}

		fire_only_once = yes

		cost = 25
		days_remove = 30

		modifier = {
			civilian_factory_use = 2
		}

		ai_will_do = {
			factor = 1
		}
		remove_effect = {
			290 = { set_state_flag = develop_ceuta_steel1 }
			290 = {
				add_resource = {
					type = steel
					amount = 4
				}
			}
		}
	}

	develop_ceuta_steel2 = { #290

		icon = steel

		allowed = {

		}
		highlight_states = {
			state = 290
		}
		available = {
			has_tech = excavation2
			num_of_civilian_factories_available_for_projects > 1
			owns_state = 290
			controls_state = 290
		}

		visible = {
			owns_state = 290
			controls_state = 290
			290 = {
				has_state_flag = develop_ceuta_steel1
				NOT = {
					has_state_flag = develop_ceuta_steel2
				}
			}
		}

		fire_only_once = yes

		cost = 25
		days_remove = 60

		modifier = {
			civilian_factory_use = 2
		}

		ai_will_do = {
			factor = 1
		}
		remove_effect = {
			290 = { set_state_flag = develop_ceuta_steel2 }
			290 = {
				add_resource = {
					type = steel
					amount = 6
				}
			}
		}
	}

	develop_uruguay_steel1 = { #300

		icon = steel

		allowed = {

		}
		highlight_states = {
			state = 300
		}
		available = {
			has_tech = excavation1
			num_of_civilian_factories_available_for_projects > 1
			owns_state = 300
			controls_state = 300
		}

		visible = {
			owns_state = 300
			controls_state = 300
			300 = {
				NOT = {
					has_state_flag = develop_uruguay_steel1
				}
			}
		}

		fire_only_once = yes

		cost = 25
		days_remove = 30

		modifier = {
			civilian_factory_use = 2
		}

		ai_will_do = {
			factor = 1
		}
		remove_effect = {
			300 = { set_state_flag = develop_uruguay_steel1 }
			300 = {
				add_resource = {
					type = steel
					amount = 2
				}
			}
		}
	}

	develop_uruguay_steel2 = { #300

		icon = steel

		allowed = {

		}
		highlight_states = {
			state = 300
		}
		available = {
			has_tech = excavation2
			num_of_civilian_factories_available_for_projects > 1
			owns_state = 300
			controls_state = 300
		}

		visible = {
			owns_state = 300
			controls_state = 300
			300 = {
				has_state_flag = develop_uruguay_steel1
				NOT = {
					has_state_flag = develop_uruguay_steel2
				}
			}
		}

		fire_only_once = yes

		cost = 25
		days_remove = 60

		modifier = {
			civilian_factory_use = 2
		}

		ai_will_do = {
			factor = 1
		}
		remove_effect = {
			300 = { set_state_flag = develop_uruguay_steel2 }
			300 = {
				add_resource = {
					type = steel
					amount = 4
				}
			}
		}
	}

	develop_brazil_steel1 = { #496

		icon = steel

		allowed = {

		}
		highlight_states = {
			state = 496
		}
		available = {
			has_tech = excavation2
			num_of_civilian_factories_available_for_projects > 2
			owns_state = 496
			controls_state = 496
		}

		visible = {
			owns_state = 496
			controls_state = 496
			496 = {
				NOT = {
					has_state_flag = develop_brazil_steel1
				}
			}
		}

		fire_only_once = yes

		cost = 25
		days_remove = 80

		modifier = {
			civilian_factory_use = 3
		}

		ai_will_do = {
			factor = 1
		}
		remove_effect = {
			496 = { set_state_flag = develop_brazil_steel1 }
			496 = {
				add_resource = {
					type = steel
					amount = 8
				}
			}
		}
	}

	develop_brazil_steel2 = { #496

		icon = steel

		allowed = {

		}
		highlight_states = {
			state = 496
		}
		available = {
			has_tech = excavation3
			num_of_civilian_factories_available_for_projects > 3
			owns_state = 496
			controls_state = 496
		}

		visible = {
			owns_state = 496
			controls_state = 496
			496 = {
				has_state_flag = develop_brazil_steel1
				NOT = {
					has_state_flag = develop_brazil_steel2
				}
			}
		}

		fire_only_once = yes

		cost = 25
		days_remove = 100

		modifier = {
			civilian_factory_use = 4
		}

		ai_will_do = {
			factor = 1
		}
		remove_effect = {
			496 = { set_state_flag = develop_brazil_steel2 }
			496 = {
				add_resource = {
					type = steel
					amount = 12
				}
			}
		}
	}

	develop_monzabique_deposits = { #544

		icon = aluminium

		allowed = {

		}
		highlight_states = {
			state = 544
		}
		available = {
			has_tech = excavation1
			num_of_civilian_factories_available_for_projects > 1
			owns_state = 544
			controls_state = 544
		}

		visible = {
			owns_state = 544
			controls_state = 544
			544 = {
				NOT = {
					has_state_flag = monzabique_aluminium_developed_1
				}
			}
		}

		fire_only_once = yes

		cost = 25
		days_remove = 60

		modifier = {
			civilian_factory_use = 2
		}

		ai_will_do = {
			factor = 1
		}
		remove_effect = {
			544 = { set_state_flag = monzabique_aluminium_developed_1 }
			544 = {
				add_resource = {
					type = aluminium
					amount = 2
				}
			}
		}
	}

	develop_monzabique_deposits_2 = { #544

		icon = aluminium

		allowed = {

		}
		highlight_states = {
			state = 544
		}
		available = {
			has_tech = excavation2
			num_of_civilian_factories_available_for_projects > 2
			owns_state = 544
			controls_state = 544
		}

		visible = {
			owns_state = 544
			controls_state = 544
			544 = {
				has_state_flag = monzabique_aluminium_developed_1
				NOT = {
					has_state_flag = monzabique_aluminium_developed_2
				}
			}
		}

		fire_only_once = yes

		cost = 25
		days_remove = 120

		modifier = {
			civilian_factory_use = 3
		}

		ai_will_do = {
			factor = 1
		}
		remove_effect = {
			544 = { set_state_flag = monzabique_aluminium_developed_2 }
			544 = {
				add_resource = {
					type = aluminium
					amount = 4
				}
			}
		}
	}

	develop_monzabique_deposits_3 = { #544

		icon = aluminium

		allowed = {

		}
		highlight_states = {
			state = 544
		}
		available = {
			has_tech = excavation3
			num_of_civilian_factories_available_for_projects > 3
			owns_state = 544
			controls_state = 544
		}

		visible = {
			owns_state = 544
			controls_state = 544
			544 = {
				has_state_flag = monzabique_aluminium_developed_2
				NOT = {
					has_state_flag = monzabique_aluminium_developed_3
				}
			}
		}

		fire_only_once = yes

		cost = 25
		days_remove = 180

		modifier = {
			civilian_factory_use = 4
		}

		ai_will_do = {
			factor = 1
		}
		remove_effect = {
			544 = { set_state_flag = monzabique_aluminium_developed_3 }
			544 = {
				add_resource = {
					type = aluminium
					amount = 6
				}
			}
		}
	}

	develop_brazil_alu1 = { #495

		icon = aluminium

		allowed = {

		}
		highlight_states = {
			state = 495
		}
		available = {
			has_tech = excavation2
			num_of_civilian_factories_available_for_projects > 1
			owns_state = 495
			controls_state = 495
		}

		visible = {
			owns_state = 495
			controls_state = 495
			495 = {
				NOT = {
					has_state_flag = develop_brazil_alu1
				}
			}
		}

		fire_only_once = yes

		cost = 25
		days_remove = 60

		modifier = {
			civilian_factory_use = 2
		}

		ai_will_do = {
			factor = 1
		}
		remove_effect = {
			495 = { set_state_flag = develop_brazil_alu1 }
			495 = {
				add_resource = {
					type = aluminium
					amount = 4
				}
			}
		}
	}

	develop_brazil_alu2 = { #495

		icon = aluminium

		allowed = {

		}
		highlight_states = {
			state = 495
		}
		available = {
			has_tech = excavation3
			num_of_civilian_factories_available_for_projects > 2
			owns_state = 495
			controls_state = 495
		}

		visible = {
			owns_state = 495
			controls_state = 495
			495 = {
				has_state_flag = develop_brazil_alu1
				NOT = {
					has_state_flag = develop_brazil_alu2
				}
			}
		}

		fire_only_once = yes

		cost = 25
		days_remove = 120

		modifier = {
			civilian_factory_use = 3
		}

		ai_will_do = {
			factor = 1
		}
		remove_effect = {
			495 = { set_state_flag = develop_brazil_alu2 }
			495 = {
				add_resource = {
					type = aluminium
					amount = 8
				}
			}
		}
	}

	develop_timor_deposits = { #721

		icon = oil

		allowed = {

		}
		highlight_states = {
			state = 721
		}
		available = {
			has_tech = excavation2
			num_of_civilian_factories_available_for_projects > 2
			owns_state = 721
			controls_state = 721
		}

		visible = {
			owns_state = 721
			controls_state = 721
			721 = {
				NOT = {
					has_state_flag = timor_oil_developed_1
				}
			}
		}

		fire_only_once = yes

		cost = 25
		days_remove = 140

		modifier = {
			civilian_factory_use = 3
		}

		ai_will_do = {
			factor = 1
		}
		remove_effect = {
			721 = { set_state_flag = timor_oil_developed_1 }
			721 = {
				add_resource = {
					type = oil
					amount = 4
				}
			}
		}
	}

	develop_timor_deposits_2 = { #721

		icon = oil

		allowed = {

		}
		highlight_states = {
			state = 721
		}
		available = {
			has_tech = excavation3
			num_of_civilian_factories_available_for_projects > 3
			owns_state = 721
			controls_state = 721
		}

		visible = {
			owns_state = 721
			controls_state = 721
			721 = {
				has_state_flag = timor_oil_developed_1
				NOT = {
					has_state_flag = timor_oil_developed_2
				}
			}
		}

		fire_only_once = yes

		cost = 25
		days_remove = 160

		modifier = {
			civilian_factory_use = 4
		}

		ai_will_do = {
			factor = 1
		}
		remove_effect = {
			721 = { set_state_flag = timor_oil_developed_2 }
			721 = {
				add_resource = {
					type = oil
					amount = 6
				}
			}
		}
	}

	develop_timor_deposits_3 = { #721

		icon = oil

		allowed = {

		}
		highlight_states = {
			state = 721
		}
		available = {
			has_tech = excavation4
			num_of_civilian_factories_available_for_projects > 4
			owns_state = 721
			controls_state = 721
		}

		visible = {
			owns_state = 721
			controls_state = 721
			721 = {
				has_state_flag = timor_oil_developed_2
				NOT = {
					has_state_flag = timor_oil_developed_3
				}
			}
		}

		fire_only_once = yes

		cost = 25
		days_remove = 180

		modifier = {
			civilian_factory_use = 5
		}

		ai_will_do = {
			factor = 1
		}
		remove_effect = {
			721 = { set_state_flag = timor_oil_developed_3 }
			721 = {
				add_resource = {
					type = oil
					amount = 8
				}
			}
		}
	}

	develop_uruguay_deposits = { #300

		icon = oil

		allowed = {

		}
		highlight_states = {
			state = 300
		}
		available = {
			has_tech = excavation2
			num_of_civilian_factories_available_for_projects > 2
			owns_state = 300
			controls_state = 300
		}

		visible = {
			owns_state = 300
			controls_state = 300
			300 = {
				NOT = {
					has_state_flag = uruguay_oil_developed_1
				}
			}
		}

		fire_only_once = yes

		cost = 25
		days_remove = 120

		modifier = {
			civilian_factory_use = 3
		}

		ai_will_do = {
			factor = 1
		}
		remove_effect = {
			300 = { set_state_flag = uruguay_oil_developed_1 }
			300 = {
				add_resource = {
					type = oil
					amount = 4
				}
			}
		}
	}

	develop_uruguay_deposits_2 = { #300

		icon = oil

		allowed = {

		}
		highlight_states = {
			state = 300
		}
		available = {
			has_tech = excavation3
			num_of_civilian_factories_available_for_projects > 3
			owns_state = 300
			controls_state = 300
		}

		visible = {
			owns_state = 300
			controls_state = 300
			300 = {
				has_state_flag = uruguay_oil_developed_1
				NOT = {
					has_state_flag = uruguay_oil_developed_2
				}
			}
		}

		fire_only_once = yes

		cost = 25
		days_remove = 140

		modifier = {
			civilian_factory_use = 4
		}

		ai_will_do = {
			factor = 1
		}
		remove_effect = {
			300 = { set_state_flag = uruguay_oil_developed_2 }
			300 = {
				add_resource = {
					type = oil
					amount = 6
				}
			}
		}
	}
}

####################
##### PINK MAP #####
####################

POR_pinkmap_decisions = {

	POR_revise_treaty = {

		icon = eng_trade_unions_support

		allowed = {
			tag = POR
		}


		days_remove = 0

		cost = 100

		fire_only_once = yes

		ai_will_do = {
			factor = 0
		}

		visible = {
			original_tag = POR
		}

		complete_effect = {
			custom_effect_tooltip = POR_pinkmap_decisions_tt
		}

		remove_effect = {
			hidden_effect = {
				set_country_flag = revise_berlim_treaty
			}
		}
	}

	POR_revert_hymn = {

		icon = generic_nationalism

		allowed = {
			tag = POR
		}


		days_remove = 30

		cost = 10

		fire_only_once = yes

		ai_will_do = {
			factor = 0
		}

		visible = {
			original_tag = POR
			has_country_flag = revise_berlim_treaty
		}

		modifier = {
			war_support_weekly = 0.01
		}

		complete_effect = {
			custom_effect_tooltip = POR_revert_hymn_tt
		}

		remove_effect = {
			POR = { add_to_variable = { var = por_pink_map_berlim value = 10 } }
		}
	}


	POR_is_powerful_alone = {

		icon = eng_abdication_crisis

		allowed = {
			tag = POR
		}

		available = {
			OR = {
				owns_state = 290
				owns_state = 171
			}
		}

		days_remove = 10

		cost = 50

		fire_only_once = yes

		ai_will_do = {
			factor = 0
		}

		visible = {
			original_tag = POR
			has_country_flag = revise_berlim_treaty
		}

		complete_effect = {
			custom_effect_tooltip = POR_is_powerful_alone_tt
		}

		remove_effect = {
			POR = { add_to_variable = { var = por_pink_map_berlim value = 50 } }
		}
	}

	POR_is_powerful_with_spain = {

		icon = eng_ally_imperialist_coup

		allowed = {
			tag = POR
		}

		available = {
			is_faction_leader = yes
		}

		days_remove = 10

		cost = 40

		fire_only_once = yes

		ai_will_do = {
			factor = 0
		}

		visible = {
			original_tag = POR
			has_country_flag = revise_berlim_treaty
		}

		complete_effect = {
			custom_effect_tooltip = POR_is_powerful_with_spain_tt
		}

		remove_effect = {
			POR = { add_to_variable = { var = por_pink_map_berlim value = 40 } }
		}
	}

	POR_army_exercises_near_borders = {

		icon = generic_tank

		allowed = {
			tag = POR
		}

		available = {
			divisions_in_state = {
				type = infantry
				size > 5
				state = 540
			}
			divisions_in_state = {
				type = infantry
				size > 5
				state = 544
			}
		}

		days_remove = 30

		cost = 20

		fire_only_once = no

		ai_will_do = {
			factor = 0
		}

		visible = {
			original_tag = POR
			has_country_flag = revise_berlim_treaty
		}

		complete_effect = {
			custom_effect_tooltip = POR_army_exercises_near_borders_tt
		}

		remove_effect = {
			POR = { add_to_variable = { var = por_pink_map_berlim value = 20 } }
			POR = { subtract_from_variable = { var = eng_pink_map_berlim value = 20 } }
		}
	}

	POR_sabotage_railroads = {

		icon = generic_scorched_earth

		allowed = {
			tag = POR
		}


		days_remove = 20

		cost = 10

		fire_only_once = no

		ai_will_do = {
			factor = 0
		}

		visible = {
			original_tag = POR
			has_country_flag = revise_berlim_treaty
		}

		complete_effect = {
			custom_effect_tooltip = POR_sabotage_railroads_tt
		}

		remove_effect = {
			POR = { subtract_from_variable = { var = eng_pink_map_berlim value = 10 } }
			545 = {
				damage_building = {
					type = infrastructure
					damage = 1
				}
			}
			545 = {
				damage_building = {
					type = infrastructure
					damage = 1
				}
			}
			770 = {
				damage_building = {
					type = infrastructure
					damage = 1
				}
			}
		}
	}

	POR_discredit_uk_government = {

		icon = eng_trade_unions_demand

		allowed = {
			tag = POR
		}


		days_remove = 30

		cost = 30

		fire_only_once = no

		ai_will_do = {
			factor = 0
		}

		visible = {
			original_tag = POR
			has_country_flag = revise_berlim_treaty
		}

		modifier = {
			political_power_factor = -0.5
		}

		complete_effect = {
			custom_effect_tooltip = POR_discredit_uk_government_tt
		}

		remove_effect = {
			POR = { subtract_from_variable = { var = eng_pink_map_berlim value = 30 } }

		}
	}

	POR_portuguese_ultimatum = {

		icon = generic_civil_support

		allowed = {
			tag = POR
		}

		available = {
			custom_trigger_tooltip = {
				tooltip = POR_portuguese_ultimatum_tt
				check_variable = { var = por_pink_map_berlim value = 100 compare = greater_than_or_equals }
				check_variable = { var = eng_pink_map_berlim value = 0 compare = less_than_or_equals }
			}
		}

		days_remove = 0

		cost = 0

		fire_only_once = yes

		ai_will_do = {
			factor = 0
		}

		visible = {
			original_tag = POR
			has_country_flag = revise_berlim_treaty
		}

		complete_effect = {
			ENG = { country_event = { id = news.732 hours = 4 } }
			ENG = {
				add_opinion_modifier = { target = PREV modifier = POR_pink_map_negative
				}
			}
		}
	}

	POR_fire_and_steel = {

		icon = generic_ignite_civil_war

		allowed = {
			tag = POR
		}


		days_remove = 0

		cost = 0

		fire_only_once = yes

		ai_will_do = {
			factor = 0
		}

		visible = {
			original_tag = POR
			ENG = {
				NOT = { has_completed_focus = ENG_self_government_for_africa }
			}
		}

		complete_effect = {
					create_wargoal = {			
				expire = 100
				type = take_claimed_state
				generator = { 545 771 770 }
				target = ENG
			}
		}
	}

	POR_fire_and_steel1 = {

		icon = generic_ignite_civil_war

		allowed = {
			tag = POR
		}


		days_remove = 0

		cost = 0

		fire_only_once = yes

		ai_will_do = {
			factor = 0
		}

		visible = {
			original_tag = POR
			ENG = {
				has_completed_focus = ENG_self_government_for_africa
			}
		}

		complete_effect = {
					create_wargoal = {			
				expire = 100
				type = annex_everything
				generator = { 771 }
				target = ZAM
			}
					create_wargoal = {			
				expire = 100
				type = annex_everything
				generator = { 770 }
				target = MLW
			}
					create_wargoal = {			
				expire = 100
				type = annex_everything
				generator = { 545 }
				target = ZIM
			}
		}
	}
}

POR_unrest_category = {

	POR_unrest_raids = {

		icon = generic_civil_support

		available = {
			custom_trigger_tooltip = {
				tooltip = POR_unrest_raids_tt
				NOT = { has_idea = POR_oscar_carmona1 }
			}
		}

		days_mission_timeout = 30

		activation = {
			has_idea = POR_oscar_carmona1
		}

		visible = {

		}

		fixed_random_seed = no

		fire_only_once = no

		is_good = no

		timeout_effect = {
			if = {
				limit = {
					AND = { has_country_flag = freemason_3
						NOT = { has_country_flag = freemason_2 }
						NOT = { has_country_flag = freemason_1 }
					}
				}
				random_list = {
					15 = {
						country_event = portugal.39
					}
					30 = {
						country_event = portugal.40
					}
					30 = {
						country_event = portugal.41
					}
					25 = {

					}
				}
			}

			if = {
				limit = {
					AND = { has_country_flag = freemason_3
						has_country_flag = freemason_2
						NOT = { has_country_flag = freemason_1 }
					}
				}
				random_list = {
					15 = {
						country_event = portugal.39
					}
					15 = {
						country_event = portugal.40
					}
					30 = {
						country_event = portugal.41
					}
					40 = {

					}
				}
			}

			if = {
				limit = {
					AND = { has_country_flag = freemason_3
						has_country_flag = freemason_1
						NOT = { has_country_flag = freemason_2 }
					}
				}
				random_list = {
					15 = {
						country_event = portugal.39
					}
					30 = {
						country_event = portugal.40
					}
					15 = {
						country_event = portugal.41
					}
					40 = {

					}
				}
			}

			if = {
				limit = {
					AND = { has_country_flag = freemason_2
						has_country_flag = freemason_1
						NOT = { has_country_flag = freemason_3 }
					}
				}
				random_list = {
					30 = {
						country_event = portugal.39
					}
					15 = {
						country_event = portugal.40
					}
					15 = {
						country_event = portugal.41
					}
					40 = {

					}
				}
			}

			if = {
				limit = {
					AND = { has_country_flag = freemason_2
						has_country_flag = freemason_1
						has_country_flag = freemason_3
					}
				}
				random_list = {
					15 = {
						country_event = portugal.39
					}
					15 = {
						country_event = portugal.40
					}
					15 = {
						country_event = portugal.41
					}
					55 = {

					}
				}
			}

			if = {
				limit = {
					AND = { has_country_flag = freemason_2
						NOT = { has_country_flag = freemason_3 }
						NOT = { has_country_flag = freemason_1 }
					}
				}
				random_list = {
					30 = {
						country_event = portugal.39
					}
					15 = {
						country_event = portugal.40
					}
					30 = {
						country_event = portugal.41
					}
					25 = {

					}
				}
			}

			if = {
				limit = {
					AND = { has_country_flag = freemason_1
						NOT = { has_country_flag = freemason_3 }
						NOT = { has_country_flag = freemason_2 }
					}
				}
				random_list = {
					30 = {
						country_event = portugal.39
					}
					30 = {
						country_event = portugal.40
					}
					15 = {
						country_event = portugal.41
					}
					25 = {

					}
				}
			}

			if = {
				limit = {
					AND = { NOT = { has_country_flag = freemason_1 }
						NOT = { has_country_flag = freemason_2 }
						NOT = { has_country_flag = freemason_3 }
					}
				}
				random_list = {
					30 = {
						country_event = portugal.39
					}
					30 = {
						country_event = portugal.40
					}
					30 = {
						country_event = portugal.41
					}
					10 = {

					}
				}
			}
		}
	}
}

POR_masonic_buildings = {

	lodge1 = {

		icon = GFX_decision_hol_draw_up_staff_plans

		allowed = { always = yes }

		cost = 100

		fire_only_once = yes

		days_remove = 30

		available = {
		}

		complete_effect = {
		}

		modifier = {
			political_power_gain = -0.2
		}

		remove_effect = {
			add_ideas = POR_masonic_lodge_1
			if = {
				limit = {
					NOT = { has_tech = advanced_infantry_weapons }
				}
				set_technology = {
					advanced_infantry_weapons = 1
				}
			}
			add_tech_bonus = {
				name = lodge1
				bonus = 1.0
				ahead_reduction = 2
				technology = support_weapons4
			}
			add_tech_bonus = {
				name = lodge1
				bonus = 1.0
				ahead_reduction = 1
				technology = advanced_infantry_weapons2
			}
			add_tech_bonus = {
				name = lodge1
				bonus = 1.0
				ahead_reduction = 2
				technology = infantry_at
			}
			add_tech_bonus = {
				name = lodge1
				bonus = 1.0
				ahead_reduction = 1
				technology = infantry_at2
			}
		}

		ai_will_do = {
			factor = 1
		}
	}

	lodge2 = {

		icon = GFX_decision_hol_draw_up_staff_plans

		allowed = { always = yes }

		cost = 100

		fire_only_once = yes

		days_remove = 60

		available = {
		}

		complete_effect = {
		}

		modifier = {
			political_power_gain = -0.4
		}

		remove_effect = {
			add_ideas = POR_masonic_lodge_2
			if = {
				limit = {
					has_dlc = "Man the Guns"
				}
				if = {
					limit = {
						NOT = { has_tech = improved_light_shell }
					}
					set_technology = {
						improved_light_shell = 1
					}
				}
				if = {
					limit = {
						NOT = { has_tech = improved_medium_shell }
					}
					set_technology = {
						improved_medium_shell = 1
					}
				}
				if = {
					limit = {
						NOT = { has_tech = improved_heavy_shell }
					}
					set_technology = {
						improved_heavy_shell = 1
					}
				}
				add_tech_bonus = {
					name = lodge2
					bonus = 1.0
					ahead_reduction = 1
					technology = advanced_light_battery
				}
				add_tech_bonus = {
					name = lodge2
					bonus = 1.0
					ahead_reduction = 1
					technology = advanced_medium_battery
				}
				add_tech_bonus = {
					name = lodge2
					bonus = 1.0
					ahead_reduction = 1
					technology = advanced_heavy_battery
				}
			}

			if = {
				limit = {
					NOT = { has_dlc = "Man the Guns" }
				}
				if = {
					limit = {
						NOT = { has_tech = improved_destroyer }
					}
					set_technology = {
						improved_destroyer = 1
					}
				}
				if = {
					limit = {
						NOT = { has_tech = improved_light_cruiser }
					}
					set_technology = {
						improved_light_cruiser = 1
					}
				}
				if = {
					limit = {
						NOT = { has_tech = improved_heavy_cruiser }
					}
					set_technology = {
						improved_heavy_cruiser = 1
					}
				}
				if = {
					limit = {
						NOT = { has_tech = improved_battleship }
					}
					set_technology = {
						improved_battleship = 1
					}
				}
				if = {
					limit = {
						NOT = { has_tech = improved_submarine }
					}
					set_technology = {
						improved_submarine = 1
					}
				}
				add_tech_bonus = {
					name = lodge2
					bonus = 1.0
					ahead_reduction = 1
					technology = advanced_destroyer
				}
				add_tech_bonus = {
					name = lodge2
					bonus = 1.0
					ahead_reduction = 1
					technology = advanced_light_cruiser
				}
				add_tech_bonus = {
					name = lodge2
					bonus = 1.0
					ahead_reduction = 1
					technology = advanced_heavy_cruiser
				}
				add_tech_bonus = {
					name = lodge2
					bonus = 1.0
					ahead_reduction = 1
					technology = advanced_battleship
				}
				add_tech_bonus = {
					name = lodge2
					bonus = 1.0
					ahead_reduction = 1
					technology = advanced_submarine
				}
			}
		}

		ai_will_do = {
			factor = 1
		}
	}

	lodge3 = {

		icon = GFX_decision_hol_draw_up_staff_plans

		allowed = { always = yes }

		cost = 100

		fire_only_once = yes

		days_remove = 90
		available = {
		}

		complete_effect = {
		}

		modifier = {
			political_power_gain = -0.6
		}

		remove_effect = {
			add_ideas = POR_masonic_lodge_3
			if = {
				limit = {
					NOT = { 
						OR = {
							has_tech = advanced_light_tank 
							has_tech = advanced_light_tank_chassis
						}
					}
				}
				set_technology = {
					advanced_light_tank = 1
					advanced_light_tank_chassis = 1
				}
			}
			if = {
				limit = {
					NOT = { has_tech = improved_medium_tank }
				}
				set_technology = {
					improved_medium_tank = 1
				}
			}
			if = {
				limit = {
					NOT = { OR = {has_tech = improved_heavy_tank has_tech = improved_heavy_tank_chassis} }
				}
				set_technology = {
					improved_heavy_tank = 1
					improved_heavy_tank_chassis = 1
				}
			}
			if = {
				limit = {
					NOT = {
						has_dlc = "No Step Back"
					}
				}
				add_tech_bonus = {
					name = lodge3
					bonus = 1.0
					ahead_reduction = 0.5
					technology = advanced_medium_tank
				}
				add_tech_bonus = {
					name = lodge3
					bonus = 1.0
					ahead_reduction = 1
					technology = main_battle_tank
				}
				add_tech_bonus = {
					name = lodge3
					bonus = 1.0
					ahead_reduction = 0.5
					technology = advanced_heavy_tank
				}
			}
			if = {
				limit = {
					has_dlc = "No Step Back"
				}
				add_tech_bonus = {
					name = lodge3
					bonus = 1.0
					ahead_reduction = 0.5
					technology = advanced_medium_tank_chassis
				}
				add_tech_bonus = {
					name = lodge3
					bonus = 1.0
					ahead_reduction = 1
					technology = main_battle_tank_chassis
				}
				add_tech_bonus = {
					name = lodge3
					bonus = 1.0
					ahead_reduction = 0.5
					technology = advanced_heavy_tank_chassis
				}
			}
			
			
		}

		ai_will_do = {
			factor = 1
		}
	}

	lodge4 = {

		icon = GFX_decision_hol_draw_up_staff_plans

		allowed = { always = yes }

		cost = 100

		fire_only_once = yes

		days_remove = 120
		available = {
		}

		complete_effect = {
		}

		modifier = {
			political_power_gain = -0.8
		}

		remove_effect = {
			add_ideas = POR_masonic_lodge_4
			if = {
				limit = {
					NOT = { has_tech = jet_engines }
				}
				set_technology = {
					jet_engines = 1
				}
			}
			add_tech_bonus = {
				name = lodge4
				bonus = 1.0
				ahead_reduction = 2
				technology = jet_fighter1
			}
			add_tech_bonus = {
				name = lodge4
				bonus = 1.0
				ahead_reduction = 2
				technology = jet_tactical_bomber1
			}
		}

		ai_will_do = {
			factor = 1
		}
	}

	lodge5 = {

		icon = GFX_decision_hol_draw_up_staff_plans

		allowed = { always = yes }

		cost = 100

		fire_only_once = yes

		days_remove = 150
		available = {
		}

		complete_effect = {
		}

		modifier = {
			political_power_gain = -1
		}

		remove_effect = {
			add_ideas = POR_masonic_lodge_5
			if = {
				limit = {
					NOT = { has_tech = atomic_research }
				}
				set_technology = {
					atomic_research = 1
				}
			}
			add_tech_bonus = {
				name = lodge5
				bonus = 1.0
				ahead_reduction = 3
				technology = nuclear_reactor
			}
			add_tech_bonus = {
				name = lodge5
				bonus = 1.0
				ahead_reduction = 1.5
				technology = nukes
			}
		}

		ai_will_do = {
			factor = 1
		}
	}
}

POR_masonic_ops = {

	##########STAY IN THE SHADOWS ############

	watchtheworldburn = {

		icon = GFX_decision_generic_ignite_civil_war

		allowed = { always = yes }

		cost = 0

		fire_only_once = yes

		days_remove = 0

		available = {
			if = { limit = { 126 = { is_controlled_by = ENG } } has_global_flag = nukesmuggled_london }
			if = { limit = { 361 = { is_controlled_by = USA } } has_global_flag = nukesmuggled_washington }
			if = { limit = { 64 = { is_controlled_by = GER } } has_global_flag = nukesmuggled_berlin }
			if = { limit = { 219 = { is_controlled_by = SOV } } has_global_flag = nukesmuggled_moscow }
			if = { limit = { 282 = { is_controlled_by = JAP } } has_global_flag = nukesmuggled_tokyo }
		}

		visible = { has_completed_focus = POR_stay_in_the_shadows }

		complete_effect = {
		}

		remove_effect = {
			hidden_effect = {
				if = { limit = { 126 = { is_controlled_by = ENG } } goto_state = 126 }
				activate_decision = watchtheworldburn_eng }
		}

		ai_will_do = {
			factor = 1
		}
	}

	watchtheworldburn_eng = {

		icon = GFX_decision_generic_ignite_civil_war

		allowed = { always = yes }

		cost = 0

		fire_only_once = yes

		days_remove = 0

		available = {
		}

		visible = { num_of_civilian_factories < 1 }

		complete_effect = {
			if = { limit = { 126 = { is_controlled_by = ENG } }
				launch_nuke = {
					province = 6103
					state = 126
					controller = ENG
					use_nuke = no
				}
			}
		}

		remove_effect = {
			if = { limit = { 361 = { is_controlled_by = USA } } goto_state = 361 }
			activate_decision = watchtheworldburn_usa
		}

		ai_will_do = {
			factor = 1
		}
	}

	watchtheworldburn_usa = {

		icon = GFX_decision_generic_ignite_civil_war

		allowed = { always = yes }

		cost = 0

		fire_only_once = yes

		days_remove = 0

		available = {
		}

		visible = { num_of_civilian_factories < 1 }

		complete_effect = {
			if = { limit = { 361 = { is_controlled_by = USA } }
				launch_nuke = {
					province = 3957
					state = 361
					controller = USA
					use_nuke = no
				}
			}
		}

		remove_effect = {
			if = { limit = { 64 = { is_controlled_by = GER } } goto_state = 64 }
			activate_decision = watchtheworldburn_ger
		}

		ai_will_do = {
			factor = 1
		}
	}

	watchtheworldburn_ger = {

		icon = GFX_decision_generic_ignite_civil_war

		allowed = { always = yes }

		cost = 0

		fire_only_once = yes

		days_remove = 0

		available = {
		}

		visible = { num_of_civilian_factories < 1 }

		complete_effect = {
			if = { limit = { 64 = { is_controlled_by = GER } }
				launch_nuke = {
					province = 6521
					state = 64
					controller = GER
					use_nuke = no
				}
			}
		}

		remove_effect = {
			if = { limit = { 219 = { is_controlled_by = SOV } } goto_state = 219 }
			activate_decision = watchtheworldburn_sov
		}

		ai_will_do = {
			factor = 1
		}
	}

	watchtheworldburn_sov = {

		icon = GFX_decision_generic_ignite_civil_war

		allowed = { always = yes }

		cost = 0

		fire_only_once = yes

		days_remove = 0

		available = {
		}

		visible = { num_of_civilian_factories < 1 }

		complete_effect = {
			if = { limit = { 219 = { is_controlled_by = SOV } }
				launch_nuke = {
					province = 6380
					state = 219
					controller = SOV
					use_nuke = no
				}
			}
		}

		remove_effect = {
			if = { limit = { 282 = { is_controlled_by = JAP } } goto_state = 282 }
			activate_decision = watchtheworldburn_jap
		}

		ai_will_do = {
			factor = 1
		}
	}

	watchtheworldburn_jap = {

		icon = GFX_decision_generic_ignite_civil_war

		allowed = { always = yes }

		cost = 0

		fire_only_once = yes

		days_remove = 0

		available = {
		}

		visible = { num_of_civilian_factories < 1 }

		complete_effect = {
			if = { limit = { 282 = { is_controlled_by = JAP } }
				launch_nuke = {
					province = 1182
					state = 282
					controller = JAP
					use_nuke = no
				}
			}
			activate_decision = watchtheworldburn_this_is_madness
		}

		remove_effect = {
		}

		ai_will_do = {
			factor = 1
		}
	}

	watchtheworldburn_this_is_madness = {

		icon = GFX_decision_generic_ignite_civil_war

		allowed = { always = yes }

		cost = 0

		fire_only_once = yes

		days_remove = 2

		available = {
		}

		visible = { num_of_civilian_factories < 1 }

		complete_effect = {
		}

		remove_effect = {
			country_event = { id = news.741 hours = 24 }
			if = { limit = { 126 = { is_controlled_by = ENG } }
				ENG = {
					if = { limit = { has_global_flag = nukesmuggled_washington }
						declare_war_on = {
							target = USA
							type = annex_everything
						}
					}
					if = { limit = { has_global_flag = nukesmuggled_berlin }
						declare_war_on = {
							target = GER
							type = annex_everything
						}
					}
					if = { limit = { has_global_flag = nukesmuggled_moscow }
						declare_war_on = {
							target = SOV
							type = annex_everything
						}
					}
					if = { limit = { has_global_flag = nukesmuggled_tokyo }
						declare_war_on = {
							target = JAP
							type = annex_everything
						}
					}
				}
			}

			if = { limit = { 361 = { is_controlled_by = USA } }
				USA = {
					if = { limit = { has_global_flag = nukesmuggled_london }
						declare_war_on = {
							target = ENG
							type = annex_everything
						}
					}
					if = { limit = { has_global_flag = nukesmuggled_berlin }
						declare_war_on = {
							target = GER
							type = annex_everything
						}
					}
					if = { limit = { has_global_flag = nukesmuggled_moscow }
						declare_war_on = {
							target = SOV
							type = annex_everything
						}
					}
					if = { limit = { has_global_flag = nukesmuggled_tokyo }
						declare_war_on = {
							target = JAP
							type = annex_everything
						}
					}
				}
			}

			if = { limit = { 64 = { is_controlled_by = GER } }
				GER = {
					if = { limit = { has_global_flag = nukesmuggled_london }
						declare_war_on = {
							target = ENG
							type = annex_everything
						}
					}
					if = { limit = { has_global_flag = nukesmuggled_washington }
						declare_war_on = {
							target = USA
							type = annex_everything
						}
					}
					if = { limit = { has_global_flag = nukesmuggled_moscow }
						declare_war_on = {
							target = SOV
							type = annex_everything
						}
					}
					if = { limit = { has_global_flag = nukesmuggled_tokyo }
						declare_war_on = {
							target = JAP
							type = annex_everything
						}
					}
				}
			}

			if = { limit = { 219 = { is_controlled_by = SOV } }
				SOV = {
					if = { limit = { has_global_flag = nukesmuggled_london }
						declare_war_on = {
							target = ENG
							type = annex_everything
						}
					}
					if = { limit = { has_global_flag = nukesmuggled_washington }
						declare_war_on = {
							target = USA
							type = annex_everything
						}
					}
					if = { limit = { has_global_flag = nukesmuggled_berlin }
						declare_war_on = {
							target = GER
							type = annex_everything
						}
					}
					if = { limit = { has_global_flag = nukesmuggled_tokyo }
						declare_war_on = {
							target = JAP
							type = annex_everything
						}
					}
				}
			}

			if = { limit = { 282 = { is_controlled_by = JAP } }
				JAP = {
					if = { limit = { has_global_flag = nukesmuggled_london }
						declare_war_on = {
							target = ENG
							type = annex_everything
						}
					}
					if = { limit = { has_global_flag = nukesmuggled_washington }
						declare_war_on = {
							target = USA
							type = annex_everything
						}
					}
					if = { limit = { has_global_flag = nukesmuggled_berlin }
						declare_war_on = {
							target = GER
							type = annex_everything
						}
					}
					if = { limit = { has_global_flag = nukesmuggled_moscow }
						declare_war_on = {
							target = SOV
							type = annex_everything
						}
					}
				}
			}
		}


		ai_will_do = {
			factor = 1
		}
	}

	blowup_suezcanal = {

		icon = GFX_decision_generic_naval

		allowed = { always = yes }

		cost = 50

		fire_only_once = yes

		days_remove = 1

		available = {
			ships_in_area = {
				area = 69
				size > 4
			}
		}

		visible = { has_completed_focus = POR_stay_in_the_shadows }

		complete_effect = {
		}

		remove_effect = {
			set_global_flag = SUEZ_CANAL_BLOCKED
			country_event = { id = portugal.43 hours = 6 }
		}

		ai_will_do = {
			factor = 1
		}
	}

	blowup_panamacanal = {

		icon = GFX_decision_generic_naval

		allowed = { always = yes }

		cost = 50

		fire_only_once = yes

		days_remove = 1

		available = {
			ships_in_area = {
				area = 53
				size > 4
			}
		}

		visible = { has_completed_focus = POR_stay_in_the_shadows }

		complete_effect = {
		}

		remove_effect = {
			set_global_flag = PANAMA_CANAL_BLOCKED
			country_event = { id = portugal.44 hours = 6 }
		}

		ai_will_do = {
			factor = 1
		}
	}

	prank_spain = {

		icon = GFX_decision_generic_form_nation

		allowed = { always = yes }

		cost = 20

		fire_only_once = yes

		days_remove = 10

		available = {
			has_global_flag = scw_over
		}

		visible = { has_completed_focus = POR_stay_in_the_shadows }

		complete_effect = {
		}

		remove_effect = {
			hidden_effect = {
				set_state_owner = 171
				set_state_owner = 173
				set_state_owner = 174
				set_state_owner = 172
				set_state_owner = 166
				set_state_owner = 165
				set_state_owner = 41
				set_state_owner = 176
				set_state_owner = 170
				set_state_owner = 169
				set_state_owner = 168
				set_state_owner = 167
				set_state_owner = 175
				set_state_owner = 290
				set_state_owner = 178
				set_state_owner = 699
				set_state_owner = 297
				if = {
					every_country = {
						limit = { original_tag = SPR
							owns_state = 177 }
						POR = { set_state_owner = 177 }
					}
				}
				if = {
					every_country = {
						limit = { original_tag = SPR
							owns_state = 118 }
						POR = { set_state_owner = 118 }
					}
				}
				country_event = { id = news.740 hours = 48 }
			}
		}

		ai_will_do = {
			factor = 1
		}
	}

	south_american_genocide = {

		icon = GFX_decision_generic_tank

		allowed = { always = yes }

		cost = 200

		fire_only_once = yes

		days_remove = 180

		available = {
		}

		visible = {
			AND = {
				has_completed_focus = POR_stay_in_the_shadows
				OR = {
					ARG = { is_ai = yes }
					CHL = { is_ai = yes }
					URG = { is_ai = yes }
					PAR = { is_ai = yes }
					BOL = { is_ai = yes }
					BRA = { is_ai = yes }
					PRU = { is_ai = yes }
					ECU = { is_ai = yes }
					COL = { is_ai = yes }
					VEN = { is_ai = yes }
				}
			}
		}

		complete_effect = {
		}

		remove_effect = {
			hidden_effect = {
				ARG = {
					declare_war_on = {
						target = CHL
						type = annex_everything
					}
					declare_war_on = {
						target = URG
						type = annex_everything
					}
					declare_war_on = {
						target = PAR
						type = annex_everything
					}
					declare_war_on = {
						target = BOL
						type = annex_everything
					}
					declare_war_on = {
						target = BRA
						type = annex_everything
					}
					declare_war_on = {
						target = PRU
						type = annex_everything
					}
					declare_war_on = {
						target = ECU
						type = annex_everything
					}
					declare_war_on = {
						target = COL
						type = annex_everything
					}
					declare_war_on = {
						target = VEN
						type = annex_everything
					}
				}
				CHL = {
					declare_war_on = {
						target = ARG
						type = annex_everything
					}
					declare_war_on = {
						target = URG
						type = annex_everything
					}
					declare_war_on = {
						target = PAR
						type = annex_everything
					}
					declare_war_on = {
						target = BOL
						type = annex_everything
					}
					declare_war_on = {
						target = BRA
						type = annex_everything
					}
					declare_war_on = {
						target = PRU
						type = annex_everything
					}
					declare_war_on = {
						target = ECU
						type = annex_everything
					}
					declare_war_on = {
						target = COL
						type = annex_everything
					}
					declare_war_on = {
						target = VEN
						type = annex_everything
					}
				}
				URG = {
					declare_war_on = {
						target = ARG
						type = annex_everything
					}
					declare_war_on = {
						target = CHL
						type = annex_everything
					}
					declare_war_on = {
						target = PAR
						type = annex_everything
					}
					declare_war_on = {
						target = BOL
						type = annex_everything
					}
					declare_war_on = {
						target = BRA
						type = annex_everything
					}
					declare_war_on = {
						target = PRU
						type = annex_everything
					}
					declare_war_on = {
						target = ECU
						type = annex_everything
					}
					declare_war_on = {
						target = COL
						type = annex_everything
					}
					declare_war_on = {
						target = VEN
						type = annex_everything
					}
				}
				PAR = {
					declare_war_on = {
						target = ARG
						type = annex_everything
					}
					declare_war_on = {
						target = CHL
						type = annex_everything
					}
					declare_war_on = {
						target = URG
						type = annex_everything
					}
					declare_war_on = {
						target = BOL
						type = annex_everything
					}
					declare_war_on = {
						target = BRA
						type = annex_everything
					}
					declare_war_on = {
						target = PRU
						type = annex_everything
					}
					declare_war_on = {
						target = ECU
						type = annex_everything
					}
					declare_war_on = {
						target = COL
						type = annex_everything
					}
					declare_war_on = {
						target = VEN
						type = annex_everything
					}
				}
				BOL = {
					declare_war_on = {
						target = ARG
						type = annex_everything
					}
					declare_war_on = {
						target = CHL
						type = annex_everything
					}
					declare_war_on = {
						target = URG
						type = annex_everything
					}
					declare_war_on = {
						target = PAR
						type = annex_everything
					}
					declare_war_on = {
						target = BRA
						type = annex_everything
					}
					declare_war_on = {
						target = PRU
						type = annex_everything
					}
					declare_war_on = {
						target = ECU
						type = annex_everything
					}
					declare_war_on = {
						target = COL
						type = annex_everything
					}
					declare_war_on = {
						target = VEN
						type = annex_everything
					}
				}
				BRA = {
					declare_war_on = {
						target = ARG
						type = annex_everything
					}
					declare_war_on = {
						target = CHL
						type = annex_everything
					}
					declare_war_on = {
						target = URG
						type = annex_everything
					}
					declare_war_on = {
						target = PAR
						type = annex_everything
					}
					declare_war_on = {
						target = BOL
						type = annex_everything
					}
					declare_war_on = {
						target = PRU
						type = annex_everything
					}
					declare_war_on = {
						target = ECU
						type = annex_everything
					}
					declare_war_on = {
						target = COL
						type = annex_everything
					}
					declare_war_on = {
						target = VEN
						type = annex_everything
					}
				}
				PRU = {
					declare_war_on = {
						target = ARG
						type = annex_everything
					}
					declare_war_on = {
						target = CHL
						type = annex_everything
					}
					declare_war_on = {
						target = URG
						type = annex_everything
					}
					declare_war_on = {
						target = PAR
						type = annex_everything
					}
					declare_war_on = {
						target = BOL
						type = annex_everything
					}
					declare_war_on = {
						target = BRA
						type = annex_everything
					}
					declare_war_on = {
						target = ECU
						type = annex_everything
					}
					declare_war_on = {
						target = COL
						type = annex_everything
					}
					declare_war_on = {
						target = VEN
						type = annex_everything
					}
				}
				ECU = {
					declare_war_on = {
						target = ARG
						type = annex_everything
					}
					declare_war_on = {
						target = CHL
						type = annex_everything
					}
					declare_war_on = {
						target = URG
						type = annex_everything
					}
					declare_war_on = {
						target = PAR
						type = annex_everything
					}
					declare_war_on = {
						target = BOL
						type = annex_everything
					}
					declare_war_on = {
						target = BRA
						type = annex_everything
					}
					declare_war_on = {
						target = PRU
						type = annex_everything
					}
					declare_war_on = {
						target = COL
						type = annex_everything
					}
					declare_war_on = {
						target = VEN
						type = annex_everything
					}
				}
				COL = {
					declare_war_on = {
						target = ARG
						type = annex_everything
					}
					declare_war_on = {
						target = CHL
						type = annex_everything
					}
					declare_war_on = {
						target = URG
						type = annex_everything
					}
					declare_war_on = {
						target = PAR
						type = annex_everything
					}
					declare_war_on = {
						target = BOL
						type = annex_everything
					}
					declare_war_on = {
						target = BRA
						type = annex_everything
					}
					declare_war_on = {
						target = PRU
						type = annex_everything
					}
					declare_war_on = {
						target = ECU
						type = annex_everything
					}
					declare_war_on = {
						target = VEN
						type = annex_everything
					}
				}
				VEN = {
					declare_war_on = {
						target = ARG
						type = annex_everything
					}
					declare_war_on = {
						target = CHL
						type = annex_everything
					}
					declare_war_on = {
						target = URG
						type = annex_everything
					}
					declare_war_on = {
						target = PAR
						type = annex_everything
					}
					declare_war_on = {
						target = BOL
						type = annex_everything
					}
					declare_war_on = {
						target = BRA
						type = annex_everything
					}
					declare_war_on = {
						target = PRU
						type = annex_everything
					}
					declare_war_on = {
						target = ECU
						type = annex_everything
					}
					declare_war_on = {
						target = COL
						type = annex_everything
					}
				}
			}
		}

		ai_will_do = {
			factor = 1
		}
	}

	genghis_khan = {

		icon = GFX_decision_border_war

		allowed = { always = yes }

		cost = 200

		fire_only_once = yes

		days_remove = 30

		available = {
			country_exists = MON
		}

		visible = {
			AND = {
				has_completed_focus = POR_stay_in_the_shadows
				MON = { is_ai = yes }
			}
		}

		complete_effect = {
		}

		remove_effect = {
			hidden_effect = {
				330 = {
					add_building_construction = {
						type = infrastructure
						level = 8
						instant_build = yes
					}
				}
				MON = {
					load_oob = "MON_KHAN_FREEMASONRY"
					leave_faction = yes
					set_rule = { can_join_factions = no }
					set_politics = { ruling_party = neutrality }
					set_popularities = { neutrality = 100 }
					remove_ideas = nationalism
					remove_ideas = internationalism
					add_war_support = 0.5
					add_manpower = 800000
					add_equipment_to_stockpile = {
						type = infantry_equipment
						amount = 500000
					}
					if = {
						limit = {
							NOT = { has_idea = war_economy }
							NOT = { has_idea = tot_economic_mobilisation }
						}
						add_ideas = war_economy
					}
				}
			}
			MON = { country_event = { id = portugal.45 days = 20 } }
		}

		ai_will_do = {
			factor = 1
		}
	}

	control_2nd_tungsten = {

		icon = GFX_decision_hol_attract_foreign_investors

		allowed = { always = yes }

		cost = 150

		fire_only_once = yes

		days_remove = 0

		available = {
		}

		visible = {
			AND = {
				has_completed_focus = POR_stay_in_the_shadows
				MAL = { is_ai = yes }
			}
		}

		complete_effect = {
		}

		remove_effect = {
			hidden_effect = {
				add_resource = {
					type = tungsten
					amount = -999
					state = 336
				}
				add_resource = {
					type = tungsten
					amount = 250
					state = 112
				}
			}
		}

		ai_will_do = {
			factor = 1
		}
	}

	smugglenuke_london = {

		icon = GFX_decision_infiltrate_state

		allowed = { always = yes }

		targets = { tag = ENG }

		cost = 10

		fire_only_once = yes

		days_remove = 10

		available = {
			has_navy_size = {
				size > 0
				type = convoy
			}
			num_of_nukes > 0
		}

		visible = { has_completed_focus = POR_stay_in_the_shadows
			126 = { is_controlled_by = ENG } }

		complete_effect = {
			custom_effect_tooltip = POR_smugglenuke_mission_tt
			hidden_effect = { add_nuclear_bombs = -1 }
		}

		remove_effect = {
			set_global_flag = nukesmuggled_london
		}

		ai_will_do = {
			factor = 1
		}
	}

	smugglenuke_washington = {

		icon = GFX_decision_infiltrate_state

		allowed = { always = yes }

		targets = { tag = USA }

		cost = 10

		fire_only_once = yes

		days_remove = 20

		available = {
			has_navy_size = {
				size > 0
				type = convoy
			}
			num_of_nukes > 0
		}

		visible = { has_completed_focus = POR_stay_in_the_shadows
			361 = { is_controlled_by = USA } }

		complete_effect = {
			custom_effect_tooltip = POR_smugglenuke_mission_tt
			hidden_effect = { add_nuclear_bombs = -1 }
		}

		remove_effect = {
			set_global_flag = nukesmuggled_washington
		}

		ai_will_do = {
			factor = 1
		}
	}

	smugglenuke_berlin = {

		icon = GFX_decision_infiltrate_state

		allowed = { always = yes }

		targets = { tag = GER }

		cost = 10

		fire_only_once = yes

		days_remove = 30

		available = {
			has_navy_size = {
				size > 0
				type = convoy
			}
			num_of_nukes > 0
		}

		visible = { has_completed_focus = POR_stay_in_the_shadows
			64 = { is_controlled_by = GER } }

		complete_effect = {
			custom_effect_tooltip = POR_smugglenuke_mission_tt
			hidden_effect = { add_nuclear_bombs = -1 }
		}

		remove_effect = {
			set_global_flag = nukesmuggled_berlin
		}

		ai_will_do = {
			factor = 1
		}
	}

	smugglenuke_moscow = {

		icon = GFX_decision_infiltrate_state

		allowed = { always = yes }

		targets = { tag = SOV }

		cost = 10

		fire_only_once = yes

		days_remove = 40

		available = {
			has_navy_size = {
				size > 0
				type = convoy
			}
			num_of_nukes > 0
		}

		visible = { has_completed_focus = POR_stay_in_the_shadows
			219 = { is_controlled_by = SOV } }

		complete_effect = {
			custom_effect_tooltip = POR_smugglenuke_mission_tt
			hidden_effect = { add_nuclear_bombs = -1 }
		}

		remove_effect = {
			set_global_flag = nukesmuggled_moscow
		}

		ai_will_do = {
			factor = 1
		}
	}

	smugglenuke_tokyo = {

		icon = GFX_decision_infiltrate_state

		allowed = { always = yes }

		targets = { tag = JAP }

		cost = 10

		fire_only_once = yes

		days_remove = 50

		available = {
			has_navy_size = {
				size > 0
				type = convoy
			}
			num_of_nukes > 0
		}

		visible = { has_completed_focus = POR_stay_in_the_shadows
			282 = { is_controlled_by = JAP } }

		complete_effect = {
			custom_effect_tooltip = POR_smugglenuke_mission_tt
			hidden_effect = { add_nuclear_bombs = -1 }
		}

		remove_effect = {
			set_global_flag = nukesmuggled_tokyo
		}

		ai_will_do = {
			factor = 1
		}
	}

	##########INTO THE LIGHT###########

	new_world_order = {

		icon = GFX_decision_generic_form_nation

		allowed = { always = yes }

		cost = 0

		fire_only_once = yes

		days_remove = 0

		available = {
			all_state = {
				is_owned_by = POR
			}
		}

		visible = { has_completed_focus = POR_into_the_light }

		complete_effect = {
		}

		remove_effect = {
			drop_cosmetic_tag = yes
			set_cosmetic_tag = POR_masonic_nwo
		}

		ai_will_do = {
			factor = 1
		}
	}

	subliminal_messages = {

		icon = GFX_decision_eng_propaganda_campaigns

		allowed = { always = yes }

		cost = 20

		fire_only_once = no

		days_remove = 30

		available = {
		}

		visible = { has_completed_focus = POR_into_the_light }

		complete_effect = {
		}

		remove_effect = {
			add_manpower = 20000
		}

		ai_will_do = {
			factor = 1
		}
	}

	shine_light = {

		icon = GFX_decision_generic_prepare_civil_war

		allowed = { always = yes }

		cost = 50

		fire_only_once = no

		days_remove = 90


		available = {
			has_war = yes
		}

		visible = { has_completed_focus = POR_into_the_light }

		complete_effect = {
			swap_ideas = {
				remove_idea = POR_intothelight
				add_idea = POR_intothelight1
			}
		}

		remove_effect = {
			swap_ideas = {
				remove_idea = POR_intothelight1
				add_idea = POR_intothelight
			}
		}

		ai_will_do = {
			factor = 1
		}
	}

	spread_light_everywhere = {

		icon = GFX_decision_generic_civil_support

		allowed = { always = yes }

		cost = 500

		fire_only_once = yes

		days_remove = 0

		available = {
			threat > 0.99
		}

		visible = {
			AND = {
				has_completed_focus = POR_into_the_light
				any_other_country = { is_ai = yes }
			}
		}


		complete_effect = {
			every_country = {
				limit = { NOT = { original_tag = POR }
					NOT = { is_puppet_of = POR }
				}
				add_ideas = POR_intothelight_europe
			}
		}

		remove_effect = {
		}

		ai_will_do = {
			factor = 1
		}
	}

	blind_faction_leaders = {

		icon = GFX_decision_generic_political_discourse

		allowed = { always = yes }

		cost = 300

		fire_only_once = no

		days_remove = 0

		available = {
		}

		visible = {
			AND = {
				has_completed_focus = POR_into_the_light
				any_other_country = { is_ai = yes }
				OR = {
					GER = { is_in_faction = yes }
					ITA = { is_in_faction = yes }
					ENG = { is_in_faction = yes }
					FRA = { is_in_faction = yes }
					HUN = { is_in_faction = yes }
					JAP = { is_in_faction = yes }
					SOV = { is_in_faction = yes }
					CHI = { is_in_faction = yes }
					BRA = { is_in_faction = yes }
					CHI = { is_in_faction = yes }
					MAN = { is_in_faction = yes }
					CAN = { is_in_faction = yes }
					USA = { is_in_faction = yes }
					MEX = { is_in_faction = yes }
					AUS = { is_in_faction = yes }
				}
			}
		}

		complete_effect = {
		}

		remove_effect = {
			hidden_effect = {
				every_country = {
					limit = { NOT = { original_tag = POR } }
					set_rule = {
						can_create_factions = no
						can_join_factions = no
						can_join_opposite_factions = no
					}
					add_ai_strategy = {
						type = alliance
						value = -1000
					}
					dismantle_faction = yes
				}
			}
		}

		ai_will_do = {
			factor = 1
		}
	}

	masonic_occultism = {

		icon = GFX_decision_generic_research

		allowed = { always = yes }

		cost = 200

		fire_only_once = yes

		days_remove = 90

		available = {
		}

		visible = { has_completed_focus = POR_into_the_light }

		complete_effect = {
		}

		remove_effect = {
			add_research_slot = 2
		}

		ai_will_do = {
			factor = 1
		}
	}

	indocrinate_population = {

		icon = GFX_decision_ger_mefo_bills

		allowed = { always = yes }

		cost = 100

		fire_only_once = yes

		days_remove = 720

		available = {
		}

		visible = { has_completed_focus = POR_into_the_light }

		complete_effect = {
		}

		remove_effect = {
			remove_ideas = POR_holy_see
		}

		ai_will_do = {
			factor = 1
		}
	}

	sleeper_agents_mexico = {

		icon = GFX_decision_infiltrate_state

		allowed = { always = yes }

		targets = { tag = MEX }

		cost = 50

		fire_only_once = yes

		days_remove = 120

		available = {
		}

		visible = {
			AND = {
				has_completed_focus = POR_into_the_light
				MEX = { is_ai = yes }
			}
		}

		complete_effect = {
		}

		remove_effect = {
			puppet = MEX
			MEX = {
				add_ideas = POR_intothelight_puppets
				hidden_effect = { remove_ideas = POR_intothelight_europe }
			}
		}

		ai_will_do = {
			factor = 1
		}
	}

	sleeper_agents_brazil = {

		icon = GFX_decision_infiltrate_state

		allowed = { always = yes }

		targets = { tag = BRA }

		cost = 50

		fire_only_once = yes

		days_remove = 120

		available = {
		}

		visible = {
			AND = {
				has_completed_focus = POR_into_the_light
				BRA = { is_ai = yes }
			}
		}

		complete_effect = {
		}

		remove_effect = {
			puppet = BRA
			BRA = {
				add_ideas = POR_intothelight_puppets
				hidden_effect = { remove_ideas = POR_intothelight_europe }
			}
		}

		ai_will_do = {
			factor = 1
		}
	}

	sleeper_agents_iran = {

		icon = GFX_decision_infiltrate_state

		allowed = { always = yes }

		targets = { tag = PER }

		cost = 50

		fire_only_once = yes

		days_remove = 120

		available = {
		}

		visible = {
			AND = {
				has_completed_focus = POR_into_the_light
				PER = { is_ai = yes }
			}
		}

		complete_effect = {
		}

		remove_effect = {
			puppet = PER
			PER = {
				add_ideas = POR_intothelight_puppets
				hidden_effect = { remove_ideas = POR_intothelight_europe }
			}
		}

		ai_will_do = {
			factor = 1
		}
	}

	sleeper_agents_philippines = {

		icon = GFX_decision_infiltrate_state

		allowed = { always = yes }

		targets = { tag = PHI }

		cost = 50

		fire_only_once = yes

		days_remove = 120

		available = {
		}

		visible = {
			AND = {
				has_completed_focus = POR_into_the_light
				PHI = { is_ai = yes }
			}
		}

		complete_effect = {
		}

		remove_effect = {
			puppet = PHI
			PHI = {
				add_ideas = POR_intothelight_puppets
				hidden_effect = { remove_ideas = POR_intothelight_europe }
			}
		}

		ai_will_do = {
			factor = 1
		}
	}

	sleeper_agents_zealand = {

		icon = GFX_decision_infiltrate_state

		allowed = { always = yes }

		targets = { tag = NZL }

		cost = 50

		fire_only_once = yes

		days_remove = 120

		available = {
		}

		visible = {
			AND = {
				has_completed_focus = POR_into_the_light
				NZL = { is_ai = yes }
			}
		}

		complete_effect = {
		}

		remove_effect = {
			puppet = NZL
			NZL = {
				add_ideas = POR_intothelight_puppets
				hidden_effect = { remove_ideas = POR_intothelight_europe }
			}
		}

		ai_will_do = {
			factor = 1
		}
	}


} #end of masonic op
