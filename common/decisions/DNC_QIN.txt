

war_measures = { #TODO move this to its own seprate boxer decision folder AND GIVE LOCALIZATION!!!!
give_russia_landbox = {
		ai_will_do = {
			factor = 100000
		}
		icon = mon

		allowed = {
			tag = BOX
		}

		available = {
			is_subject = no
			country_exists = SOV
			date > 1910.1.1
			date < 1920.1.1
			tag = BOX
			SOV = { owns_state = 329}
			SOV = { is_puppet_of = BOX}
		}

		visible = {
			SOV = { is_puppet_of = BOX}
			date > 1910.1.1
			date < 1916.1.1
			tag = BOX
		}
			priority = 99999
	

		fire_only_once = yes
		complete_effect = {
			add_stability = 0.30
			add_political_power = 300
			RUS = {transfer_state = 329 }
		}
	}
}
political_actions = {	
	JAP_consolidation_man = {

		icon = jap_conquer_china

		fire_only_once = yes
		cost = 10

		allowed = {
			tag = MAN
		}

		available = {
			controls_state = 608
			controls_state = 755
			controls_state = 604
			OR = {
			PRC = {
				is_puppet_of = JAP
			}
			PRC = { is_subject_of = JAP }
			CHI = { is_subject_of = JAP }
			CHI = {is_puppet_of = JAP }
			}
			tag = MAN
		}

		visible = {
			OR = {
			is_puppet_of = JAP
			is_subject_of = JAP
			}
			tag = MAN
		}

		ai_will_do = {
			factor = 100
		}

		complete_effect = {
annex_country = {
    target = CHI
    transfer_troops = yes
}
annex_country = {
    target = PRC
    transfer_troops = yes
}			
		}
	}	
box_victory_in_war = { 
		icon = RNM_RUS
		fire_only_once = yes
		allowed = {
			tag = BOX
		}
		cost = 10
		visible = {
			tag = BOX
		}
		available = {
				OR = {

		not = {
			country_exists = chi
			country_exists = qin
		}
		QIN = {is_puppet_of = ROOT }
		CHI = {is_puppet_of = ROOT }
		}		
		}
	
		
		ai_will_do = {
			factor = 10000
		}
	 
		complete_effect = { 
			load_focus_tree = RON_Qing_China
			complete_national_focus = DNC_QIN_ally_with_boxers 
			set_country_flag = china_leader
			add_ideas = {
				QIN_outdated_army 
				QIN_low_legitimacy
			} 
			set_cosmetic_tag = ZEM
			unlock_national_focus = DNC_QIN_empress_opinion
			unlock_national_focus = DNC_QIN_boxers
			unlock_national_focus = DNC_QIN_seymour_expedition
			unlock_national_focus = DNC_QIN_supply_arms
			unlock_national_focus = DNC_QIN_seize_weapons
			unlock_national_focus = DNC_QIN_mobilize_the_bannermen
			unlock_national_focus = DNC_QIN_stunning_victory
			unlock_national_focus = DNC_QIN_chinese_politics
			unlock_national_focus = DNC_QIN_end_imperial_rule
		}
	}		
	

guc_victory_in_war = {  #AI will only see this
		icon = RNM_RUS
		fire_only_once = yes
		allowed = {
			tag = GUC
		}
		cost = 10
		visible = {
			tag = GUC
		}
		available = {
		OR = {

		not = {
			country_exists = chi
			country_exists = qin
		}
		QIN = {is_puppet_of = ROOT }
		CHI = {is_puppet_of = ROOT }
		}
		}
	
		
		ai_will_do = {
			factor = 10000
		}
		complete_effect = { 
			load_focus_tree = RON_Qing_China
			complete_national_focus = DNC_QIN_ally_with_boxers 
			set_country_flag = china_leader
			add_ideas = {
				QIN_outdated_army 
				QIN_low_legitimacy
			}
			unlock_national_focus = DNC_QIN_empress_opinion
			unlock_national_focus = DNC_QIN_boxers
			unlock_national_focus = DNC_QIN_seymour_expedition
			unlock_national_focus = DNC_QIN_supply_arms
			unlock_national_focus = DNC_QIN_seize_weapons
			unlock_national_focus = DNC_QIN_mobilize_the_bannermen
			unlock_national_focus = DNC_QIN_stunning_victory
			unlock_national_focus = DNC_QIN_chinese_politics
		}
	}		
	

guc_war_declare = {  #AI will only see this
		icon = RNM_RUS
		fire_only_once = yes
		allowed = {
			tag = GUC
		}
		cost = 100
		visible = {
			tag = GUC
			FUJ = {is_puppet_of = GUC}
		}
		available = {
			tag = GUC
			OR = {
			FUJ = {is_puppet_of = GUC}
			SHA = {is_puppet_of = GUC}
			}
		}
	
		
		ai_will_do = { 
			factor = 10000
		}
		complete_effect = { 
            declare_war_on = {
                target = QIN
                type = annex_everything
            }
		}
	}		
	
}
fight_boxer_resistance_decision_cat = {
	put_out_the_boxers_in_STATE = {
		state_target = yes
		icon = revolt
		target_trigger = {
			FROM = {
				has_state_flag = boxer_resistance
			}
		}
		days_remove = 25
		cost = 10
		ai_will_do = {
			base = 10000
		}
		visible = {
			FROM = {
				has_state_flag = boxer_resistance
				is_controlled_by = QIN
			}
		}
		remove_effect = {
			random_list = {
				80 = {
					FROM = {
						cancel_resistance = yes
						clr_state_flag = boxer_resistance
						add_core_of = QIN
						every_neighbor_state = {
							limit = {
								is_owned_by = QIN
							}
							add_resistance = -10
						}
					}
					add_manpower = -2500
					

				} 

				20 = {
					FROM = {
						add_resistance = 5
					}
				}
			}
		}
	}
}
QIN_railway_program = {
	build_zhili_railway = {
		icon = GFX_decision_railway_building
		days_remove = QIN_engineer_build_days?180
		highlight_states = {
			highlight_state_targets = {
				state = 609
			}
		}
		allowed = {
			tag = QIN
		}
		available = {
			controls_state = 609
		}
		ai_will_do = {
			base = 1000
		}
		visible = {
			has_completed_focus = DNC_QIN_zhili_railway
		}
		fire_only_once = yes
		cost = 50
		remove_effect = {
			609 = {
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
			}
		}
	}
	maintain_kaiping_railway = {
		icon = GFX_decision_railway_building
		days_remove = QIN_engineer_build_days?180
		highlight_states = {
			highlight_state_targets = {state = 592}
		}
		visible = {
			has_completed_focus = DNC_QIN_kaiping_railway_expand
		}
		available = {
			controls_state = 592
		}
		allowed = {
			tag = QIN
		}
		ai_will_do = {
			base = 1000
		}
		fire_only_once = yes
		cost = 50
		remove_effect = {
			592 = {
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
			}
		}
	}
	build_kaiping_railway = {
		icon = GFX_decision_railway_building
		days_remove = QIN_engineer_build_days?180
		highlight_states = {
			highlight_state_targets = {state = 592}
		}
		visible = {
			has_completed_focus = DNC_QIN_kaiping_railway_expand
		}
		available = {
			controls_state = 592
		}
		allowed = {
			tag = QIN
		}
		ai_will_do = {
			base = 1000
		}
		fire_only_once = yes
		cost = 50
		remove_effect = {
			592 = {
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
			}
		}
	}
	QIN_jingzhang_railway = {
		icon = GFX_decision_railway_building
		allowed = {
			tag = QIN
		}
		highlight_states = {
			highlight_state_targets = {state = 608}
		}
		available = {
			controls_state = 608
		}
		days_remove = 300
		visible = {
			has_completed_focus = DNC_QIN_begin_jingzhang_railway
		}
		fire_only_once = yes

		cost = 50
		
        remove_effect = {
            608 = {
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
			}
        }
	}

	QIN_fengtian_railway = {
		icon = GFX_decision_railway_building
		allowed = {
			tag = QIN
		}
		highlight_states = {
			highlight_state_targets = {state = 1026}
		} 
		available = {
			controls_state = 1026
		}
		days_remove = QIN_engineer_build_days?180
		visible = {
			has_completed_focus = DNC_QIN_construct_fengtai
		}
		fire_only_once = yes

		cost = 50
		
        remove_effect = {
            608 = {
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
			}
        }
	}
}
QIN_gather_support_for_republicans = {
	QIN_support_Wuchang_rep = {
		icon = generic_political_discourse
		allowed = {
			tag = QIN
		}
		on_map_mode = map_only
		highlight_states = {
			highlight_state_targets = {
				state = 620
			}
			highlight_color_while_active = 4
		}
		ai_will_do = {
			base = 10000
		}
		fire_only_once = yes
		
		days_remove = 25
		complete_effect = {
			add_popularity = {
				ideology = neutrality
				popularity = -0.1
			}				
				add_to_temp_array = { rebel_state = 620 }
				create_rebellion = yes				

			hidden_effect = {
				add_political_power = -25
				add_equipment_to_stockpile = {
					type = infantry_equipment
					amount = -200
				}
			}
		}
		remove_effect = {
			set_country_flag = QIN_support_Wuchang_rep
			custom_effect_tooltip = QIN_state_will_be_secured_by_rep_tt
		}
		custom_cost_trigger = {
			has_equipment = {
				infantry_equipment > 200
				
			}
			has_political_power > 25
		}
		custom_cost_text = infantry_eq_more_than_200_tt
	}
	QIN_support_Changsha_rep = {
		icon = generic_political_discourse
		allowed = {
			tag = QIN
		}
		on_map_mode = map_only
		
		highlight_states = {
			highlight_state_targets = {
				state = 604
			}	
			highlight_color_while_active = 4
		}
			
		
		ai_will_do = {
			base = 10000
		}
		fire_only_once = yes
		days_remove = 25
		complete_effect = {
			hidden_effect = {
			add_popularity = {
				ideology = neutrality
				popularity = -0.1
			}				
				add_to_temp_array = { rebel_state = 604 }
				create_rebellion = yes				

				add_political_power = -25
				add_equipment_to_stockpile = {
					type = infantry_equipment
					amount = -200
				}
			}
		}
		remove_effect = {
			set_country_flag = QIN_support_Changsha_rep
			custom_effect_tooltip = QIN_state_will_be_secured_by_rep_tt
		}
		custom_cost_trigger = {
			has_equipment = {
				infantry_equipment > 200
				
			}
			has_political_power > 25
		}
		custom_cost_text = infantry_eq_more_than_200_tt
	}
	QIN_support_Shaanxi_rep = {
		icon = generic_political_discourse
		allowed = {
			tag = QIN
		}
		on_map_mode = map_only
		highlight_states = {
			highlight_state_targets = {
				state = 622
			}
			highlight_color_while_active = 4
		}
		ai_will_do = {
			base = 10000
		}
		fire_only_once = yes
		
		days_remove = 25
		cost = 25
		remove_effect = {
			set_country_flag = QIN_support_Shaanxi_rep
			custom_effect_tooltip = QIN_state_will_be_secured_by_rep_tt
		}
		complete_effect = {
			hidden_effect = {
			add_popularity = {
				ideology = neutrality
				popularity = -0.1
			}				
				add_to_temp_array = { rebel_state = 622 }
				create_rebellion = yes				

				add_political_power = -25
				add_equipment_to_stockpile = {
					type = infantry_equipment
					amount = -200
				}
			}
		}
		custom_cost_trigger = {
			has_equipment = {
				infantry_equipment > 200
				
			}
			has_political_power > 25
		}
		custom_cost_text = infantry_eq_more_than_200_tt
		
	}
	QIN_support_Shanxi_rep = {
		icon = generic_political_discourse
		allowed = {
			tag = QIN
		}
		on_map_mode = map_only
		highlight_states = {
			highlight_state_targets = {
				state = 615
			}
			
		}
		ai_will_do = {
			base = 10000
		}
		fire_only_once = yes
		days_remove = 25
		cost = 25
		remove_effect = {
			set_country_flag = QIN_support_Shanxi_rep
			custom_effect_tooltip = QIN_state_will_be_secured_by_rep_tt
		}
		complete_effect = {
			hidden_effect = {
			add_popularity = {
				ideology = neutrality
				popularity = -0.1
			}				
				add_to_temp_array = { rebel_state = 615 }
				create_rebellion = yes				

				add_political_power = -25
				add_equipment_to_stockpile = {
					type = infantry_equipment
					amount = -200
				}
			}
		}
		custom_cost_trigger = {
			has_equipment = {
				infantry_equipment > 200
				
			}
			has_political_power > 25
		}
		custom_cost_text = infantry_eq_more_than_200_tt
		
	}
	QIN_support_Jiangxi_rep = {
		icon = generic_political_discourse
		allowed = {
			tag = QIN
		}
		on_map_mode = map_only
		highlight_states = {
			highlight_state_targets = {
				state = 600
			}
			highlight_color_while_active = 4
		}
		ai_will_do = {
			base = 10000
		}
		fire_only_once = yes
		
		days_remove = 25
		cost = 25
		remove_effect = {
			set_country_flag = QIN_support_Jiangxi_rep
			custom_effect_tooltip = QIN_state_will_be_secured_by_rep_tt
		}
		complete_effect = {
			hidden_effect = {
			add_popularity = {
				ideology = neutrality
				popularity = -0.1
			}				
				add_to_temp_array = { rebel_state = 600 }
				create_rebellion = yes				

				add_political_power = -25
				add_equipment_to_stockpile = {
					type = infantry_equipment
					amount = -200
				}
			}
		}
		custom_cost_trigger = {
			has_equipment = {
				infantry_equipment > 200
				
			}
			has_political_power > 25
		}
		custom_cost_text = infantry_eq_more_than_200_tt
		
	}
	QIN_support_Yunnan_rep = {
		icon = generic_political_discourse
		allowed = {
			tag = QIN
		}
		on_map_mode = map_only
		highlight_states = {
			highlight_state_targets = {
			state = 325
			}
			highlight_color_while_active = 4
			
		}
		ai_will_do = {
			base = 10000
		}
		fire_only_once = yes
		days_remove = 25
		cost = 25
		remove_effect = {
			set_country_flag = QIN_support_Yunnan_rep
			custom_effect_tooltip = QIN_state_will_be_secured_by_rep_tt
		}
		complete_effect = {
			hidden_effect = {
			add_popularity = {
				ideology = neutrality
				popularity = -0.1
			}				
				add_to_temp_array = { rebel_state = 325 }
				create_rebellion = yes				

				add_political_power = -25
				add_equipment_to_stockpile = {
					type = infantry_equipment
					amount = -200
				}
			}
		}
		custom_cost_trigger = {
			has_equipment = {
				infantry_equipment > 200
				
			}
			has_political_power > 25
		}
		custom_cost_text = infantry_eq_more_than_200_tt
		
	}
	QIN_support_Nagqu_rep = {
		icon = generic_political_discourse
		allowed = {
			tag = QIN
		}
		on_map_mode = map_only
		highlight_states = {
			highlight_state_targets = { state = 322}
			highlight_color_while_active = 4
		}
		ai_will_do = {
			base = 10000
		}
		fire_only_once = yes
		
		days_remove = 25
		cost = 25
		remove_effect = {
			set_country_flag = QIN_support_Nagqu_rep
			custom_effect_tooltip = QIN_state_will_be_secured_by_rep_tt
		}
		complete_effect = {
			hidden_effect = {
			add_popularity = {
				ideology = neutrality
				popularity = -0.1
			}				
				add_to_temp_array = { rebel_state = 322 }
				create_rebellion = yes				

				add_political_power = -25
				add_equipment_to_stockpile = {
					type = infantry_equipment
					amount = -200
				}
			}
		}
		custom_cost_trigger = {
			has_equipment = {
				infantry_equipment > 200
				
			}
			has_political_power > 25
		}
		custom_cost_text = infantry_eq_more_than_200_tt
		
	}
	QIN_support_Shanghai_rep = {
		icon = generic_political_discourse
		allowed = {
			tag = QIN
		}
		on_map_mode = map_only
		highlight_states = {
			highlight_state_targets = { state = 613}
			highlight_color_while_active = 4
		}
		ai_will_do = {
			base = 10000
		}
		fire_only_once = yes
		days_remove = 25
		cost = 25
		remove_effect = {
			set_country_flag = QIN_support_Shanghai_rep
			custom_effect_tooltip = QIN_state_will_be_secured_by_rep_tt
		}
		complete_effect = {
			hidden_effect = {
			add_popularity = {
				ideology = neutrality
				popularity = -0.1
			}				
				add_to_temp_array = { rebel_state = 613 }
				create_rebellion = yes				

				add_political_power = -25
				add_equipment_to_stockpile = {
					type = infantry_equipment
					amount = -200
				}
			}
		}
		custom_cost_trigger = {
			has_equipment = {
				infantry_equipment > 200
				
			}
			has_political_power > 25
		}
		custom_cost_text = infantry_eq_more_than_200_tt
		
	}
	QIN_support_Zheihang-Guizhou_rep = {
		icon = generic_political_discourse
		allowed = {
			tag = QIN
		}
		on_map_mode = map_only
		highlight_states = {
			highlight_state_targets = { state = 603}
			highlight_color_while_active = 4
			
		}
		ai_will_do = {
			base = 10000
		}
		fire_only_once = yes
		days_remove = 25
		cost = 25
		remove_effect = {
			set_country_flag = QIN_support_Zheihang-Guizhou_rep
			custom_effect_tooltip = QIN_state_will_be_secured_by_rep_tt
		}
		complete_effect = {
			hidden_effect = {
			add_popularity = {
				ideology = neutrality
				popularity = -0.1
			}				
				add_to_temp_array = { rebel_state = 603 }
				create_rebellion = yes				

				add_political_power = -25
				add_equipment_to_stockpile = {
					type = infantry_equipment
					amount = -200
				}
			}
		}
		custom_cost_trigger = {
			has_equipment = {
				infantry_equipment > 200
				
			}
			has_political_power > 25
		}
		custom_cost_text = infantry_eq_more_than_200_tt
		
	}
	QIN_support_Jiangsu-Anhui_rep = {
		icon = generic_political_discourse
		allowed = {
			tag = QIN
		}
		on_map_mode = map_only
		highlight_states = {
			highlight_state_targets = {
				state = 606
			}
			highlight_color_while_active = 4
		}
		ai_will_do = {
			base = 10000
		}
		fire_only_once = yes
		days_remove = 25
		cost = 25
		remove_effect = {
			set_country_flag = QIN_support_Jiangsu-Anhui_rep
			custom_effect_tooltip = QIN_state_will_be_secured_by_rep_tt
		}
		complete_effect = {
			hidden_effect = {
			add_popularity = {
				ideology = neutrality
				popularity = -0.1
			}				
				add_to_temp_array = { rebel_state = 606 }
				create_rebellion = yes				

				add_political_power = -25
				add_equipment_to_stockpile = {
					type = infantry_equipment
					amount = -200
				}
			}
		}
		custom_cost_trigger = {
			has_equipment = {
				infantry_equipment > 200
				
			}
			has_political_power > 25
		}
		custom_cost_text = infantry_eq_more_than_200_tt
		
	}
	QIN_support_Guangxi_rep = {
		icon = generic_political_discourse
		allowed = {
			tag = QIN
		}
		on_map_mode = map_only
		highlight_states = {
			highlight_state_targets = {
			state = 599
			}
			highlight_color_while_active = 4
		}
		ai_will_do = {
			base = 10000
		}
		fire_only_once = yes
		
		days_remove = 25
		cost = 25
		remove_effect = {
			set_country_flag = QIN_support_Guangxi_rep
			custom_effect_tooltip = QIN_state_will_be_secured_by_rep_tt
		}
		complete_effect = {
			hidden_effect = {
			add_popularity = {
				ideology = neutrality
				popularity = -0.1
			}				
				add_to_temp_array = { rebel_state = 599 }
				create_rebellion = yes				

				add_political_power = -25
				add_equipment_to_stockpile = {
					type = infantry_equipment
					amount = -200
				}
			}
		}
		custom_cost_trigger = {
			has_equipment = {
				infantry_equipment > 200
				
			}
			has_political_power > 25
		}
		custom_cost_text = infantry_eq_more_than_200_tt
		
	}
	QIN_support_Fujian_rep = {
		icon = generic_political_discourse
		allowed = {
			tag = QIN
		}
		on_map_mode = map_only
		highlight_states = {
			highlight_state_targets = {
			state = 595
			}
			highlight_color_while_active = 4
		}
		ai_will_do = {
			base = 10000
		}
		fire_only_once = yes
		days_remove = 25
		cost = 25
		remove_effect = {
			set_country_flag = QIN_support_Fujian_rep
			custom_effect_tooltip = QIN_state_will_be_secured_by_rep_tt
		}
		complete_effect = {
			hidden_effect = {
			add_popularity = {
				ideology = neutrality
				popularity = -0.1
			}				
				add_to_temp_array = { rebel_state = 595 }
				create_rebellion = yes				

				add_political_power = -25
				add_equipment_to_stockpile = {
					type = infantry_equipment
					amount = -200
				}
			}
		}
		custom_cost_trigger = {
			has_equipment = {
				infantry_equipment > 200
				
			}
			has_political_power > 25
		}
		custom_cost_text = infantry_eq_more_than_200_tt
		
	}
	QIN_support_Guangdong_rep = {
		icon = generic_political_discourse
		allowed = {
			tag = QIN
		}
		on_map_mode = map_only
		highlight_states = {
			highlight_state_targets = {
				state = 593
			}
			highlight_color_while_active = 4
		}
		ai_will_do = {
			base = 10000
		}
		fire_only_once = yes
		days_remove = 25
		cost = 25
		remove_effect = {
			set_country_flag = QIN_support_Guangdong_rep
			custom_effect_tooltip = QIN_state_will_be_secured_by_rep_tt
		}
		complete_effect = {
			hidden_effect = {
			add_popularity = {
				ideology = neutrality
				popularity = -0.1
			}				
				add_to_temp_array = { rebel_state = 593 }
				create_rebellion = yes				

				add_political_power = -25
				add_equipment_to_stockpile = {
					type = infantry_equipment
					amount = -200
				}
			}
		}
		custom_cost_trigger = {
			has_equipment = {
				infantry_equipment > 200
				
			}
			has_political_power > 25
		}
		custom_cost_text = infantry_eq_more_than_200_tt
		
	}
	QIN_support_Shandong_rep = {
		icon = generic_political_discourse
		allowed = {
			tag = QIN
		}
		on_map_mode = map_only
		highlight_states = {
			highlight_state_targets = {
			state = 597
			}
			highlight_color_while_active = 4
		}
		ai_will_do = {
			base = 10000
		}
		fire_only_once = yes
		days_remove = 25
		cost = 25
		remove_effect = {
			set_country_flag = QIN_support_Shandong_rep
			custom_effect_tooltip = QIN_state_will_be_secured_by_rep_tt
		}
		complete_effect = {
			hidden_effect = {
			add_popularity = {
				ideology = neutrality
				popularity = -0.1
			}				
				add_to_temp_array = { rebel_state = 597 }
				create_rebellion = yes				

				add_political_power = -25
				add_equipment_to_stockpile = {
					type = infantry_equipment
					amount = -200
				}
			}
		}
		custom_cost_trigger = {
			has_equipment = {
				infantry_equipment > 200
				
			}
			has_political_power > 25
		}
		custom_cost_text = infantry_eq_more_than_200_tt
		
	}
	QIN_support_Ningxia_rep = {
		icon = generic_political_discourse
		allowed = {
			tag = QIN
		}
		on_map_mode = map_only
		highlight_states = {
			highlight_state_targets = {
			state = 616
			}
			highlight_color_while_active = 4
		}
		ai_will_do = {
			base = 10000
		}
		fire_only_once = yes
		days_remove = 25
		cost = 25
		remove_effect = {
			set_country_flag = QIN_support_Ningxia_rep
			custom_effect_tooltip = QIN_state_will_be_secured_by_rep_tt
		}
		complete_effect = {
			hidden_effect = {
				add_political_power = -25
				add_equipment_to_stockpile = {
					type = infantry_equipment
					amount = -200
				}
			add_popularity = {
				ideology = neutrality
				popularity = -0.1
			}				
				add_to_temp_array = { rebel_state = 616 }
				create_rebellion = yes				
			}
		}
		custom_cost_trigger = {
			has_equipment = {
				infantry_equipment > 200
				
			}
			has_political_power > 25
		}
		custom_cost_text = infantry_eq_more_than_200_tt
		
	}
	QIN_support_Sichuan_rep = {
		icon = generic_political_discourse
		allowed = {
			tag = QIN
		}
		on_map_mode = map_only
		highlight_states = {
			highlight_state_targets = {
			state = 605
			}
			highlight_color_while_active = 4
		}
		ai_will_do = {
			base = 10000
		}
		fire_only_once = yes
		days_remove = 25
		cost = 25
		remove_effect = {
			set_country_flag = QIN_support_Sichuan_rep
			custom_effect_tooltip = QIN_state_will_be_secured_by_rep_tt
		}
		complete_effect = {
			hidden_effect = {
				add_political_power = -25
				add_equipment_to_stockpile = {
					type = infantry_equipment
					amount = -200
				}
			add_popularity = {
				ideology = neutrality
				popularity = -0.1
			}				
				add_to_temp_array = { rebel_state = 605 }
				create_rebellion = yes
			}
		}
		custom_cost_trigger = {
			has_equipment = {
				infantry_equipment > 200
				
			}
			has_political_power > 25
		}
		custom_cost_text = infantry_eq_more_than_200_tt
		
	}
}

QIN_smuggling_weapons = {
	QIN_smuggle_weapons = {
		icon = generic_industry
		days_remove = 60
		available = {
			NOT = {
				has_country_flag = investigations_underway 
			}
		}
		ai_will_do = {
			base = 1000
			modifier = {
				factor = 0
				OR = {
					check_variable = {
						QIN_foreign_suspicion_level > 20
					}
					has_equipment = {
						infantry_equipment > 3000
					}

				}
			}
		}
		cost = 20
		remove_effect = {

		}
		modifier = {
			hidden_modifier = {
				industrial_capacity_factory = 500
			}
			custom_modifier_tooltip = boxer_protocols_weapons_malus_negated_tt
	
		}
		complete_effect = {

		}
	}
}

QIN_boxer_war_mission = {

    QIN_Steady_Progress = {
		icon = generic_nationalism
		allowed = {
			tag = QIN
		}
		days_mission_timeout = 300
		available = {
			NOT = { date > 1909.12.12 }
            controls_state = 441
            controls_state = 787
            controls_state = 985
            controls_state = 439
            controls_state = 408
			has_country_flag = rejectedboxerpeace
		}
		
		activation = {
            has_completed_focus = DNC_QIN_seymour_expedition
		 	NOT = { date > 1909.12.12 }
		}
		visible = {
			NOT = { date > 1909.12.12 }
			#has_completed_focus = DNC_QIN_taku_forts
		}
		fire_only_once = yes
		is_good = no
		timeout_effect = {
			add_manpower = 40000
			add_timed_idea = { idea = Total_War days = 300 }
			load_oob = BOX_1900
			load_oob = BOX_1900
		}
        complete_effect = {                    # What happens when we activate the mission i.e. mission success?
         declare_war_on = {
				target = ANH
				type = civil_war
			}
         declare_war_on = {
				target = ANH
				type = civil_war
			}			
        }
	}	
    QIN_seize_concessions = {
		icon = generic_nationalism
		allowed = {
			tag = QIN
		}
		days_mission_timeout = 600
		available = {
			NOT = { date > 1909.12.12 }
            controls_state = 1144
            controls_state = 745
            controls_state = 743
            controls_state = 326
            controls_state = 728
		}
		
		activation = {
            has_completed_focus = DNC_QIN_seymour_expedition
		 	NOT = { date > 1909.12.12 }
			NOT = {
				has_country_flag = rejectedboxerpeace
			}
		}
		visible = {
			NOT = { date > 1909.12.12 }
			#has_completed_focus = DNC_QIN_taku_forts
		}
		fire_only_once = yes
		is_good = no
		timeout_effect = {
            country_event = dnc_china.11
			load_focus_tree = RON_Qing_China
		}
        complete_effect = {                    # What happens when we activate the mission i.e. mission success?
        	country_event = dnc_china.9
        }
	}
 
}
QIN_fight_warlords = {
	ANH_Question = {
		days_remove = 10
		ai_will_do = {
			factor = 100
			modifier = {
				factor = 0
				has_war = yes
			}
		}
		fire_only_once = yes
		complete_effect = {
			random_list = {
				33 = {
					custom_effect_tooltip = ANH_recognises_central_gvt
					set_country_flag = ANH_recognises_central_gvt
				}
				66 = {
					custom_effect_tooltip = ANH_seceded
					set_country_flag = ANH_seceded
					hidden_effect = {
						release = ANH
						ANH = {
							declare_war_on = {
								target = QIN
								type = civil_war
							}
						}
						add_civil_war_target = ANH

						transfer_units_fraction = {
							target = ANH
							size = 0.35
							stockpile_ratio = 0.35
							army_ratio = 0.35
							navy_ratio = 0.35
							air_ratio = 0.35
						}
					}
				}
			}
		}
	}
	ZHI_Question = {
		ai_will_do = {
			factor = 100
			modifier = {
				factor = 0
				has_war = yes
			}
		}
		days_remove = 10
		fire_only_once = yes

		complete_effect = {
			random_list = {
				33 = {
					custom_effect_tooltip = ZHI_recognises_central_gvt
					set_country_flag = ZHI_recognises_central_gvt
				}
				66 = {
					custom_effect_tooltip = ZHI_seceded
					set_country_flag = ZHI_seceded
					hidden_effect = {
						release = ZHI
						ZHI = {
							declare_war_on = {
								target = QIN
								type = civil_war
							}
						}
						add_civil_war_target = ZHI

						transfer_units_fraction = {
							target = ZHI
							size = 0.35
							stockpile_ratio = 0.35
							army_ratio = 0.35
							navy_ratio = 0.35
							air_ratio = 0.35
						}
					}
				}
			}
		}
	}
	FEN_Question = {
		ai_will_do = {
			factor = 100
			modifier = {
				factor = 0
				has_war = yes
			}
		}
		days_remove = 10
		fire_only_once = yes

		complete_effect = {
			random_list = {
				40 = {
					custom_effect_tooltip = FEN_recognises_central_gvt
					set_country_flag = FEN_recognises_central_gvt
				}
				60 = {
					custom_effect_tooltip = FEN_seceded
					set_country_flag = FEN_seceded
					hidden_effect = {
						release = FEN
						FEN = {
							declare_war_on = {
								target = QIN
								type = civil_war
							}
						}
						add_civil_war_target = FEN

						transfer_units_fraction = {
							target = FEN
							size = 0.05
							stockpile_ratio = 0.05
							army_ratio = 0.05
							navy_ratio = 0.05
							air_ratio = 0.05
						}
					}
				}
			}
		}
	}
	SHX_Question = {
		ai_will_do = {
			factor = 100
			modifier = {
				factor = 0
				has_war = yes
			}
		}
		days_remove = 10
		fire_only_once = yes

		complete_effect = {
			random_list = {
				90 = {
					custom_effect_tooltip = SHX_recognises_central_gvt
					set_country_flag = SHX_recognises_central_gvt
				}
				10 = {
					custom_effect_tooltip = SHX_seceded
					set_country_flag = SHX_seceded
					hidden_effect = {
						release = SHX
						SHX = {
							declare_war_on = {
								target = QIN
								type = civil_war
							}
						}
						add_civil_war_target = SHX
					}
				}
			}
		}
	}
	XSM_Question = {
		ai_will_do = {
			factor = 100
			modifier = {
				factor = 0
				has_war = yes
			}
		}
		days_remove = 10
		fire_only_once = yes

		complete_effect = {
			random_list = {
				90 = {
					custom_effect_tooltip = XSM_recognises_central_gvt
					set_country_flag = XSM_recognises_central_gvt
				}
				10 = {
					custom_effect_tooltip = XSM_seceded
					set_country_flag = XSM_seceded
					hidden_effect = {
						release = XSM
						XSM = {
							declare_war_on = {
								target = QIN
								type = civil_war
							}
						}
						add_civil_war_target = XSM

						transfer_units_fraction = {
							target = XSM
							size = 0.01
							stockpile_ratio = 0.01
							army_ratio = 0.01
							navy_ratio = 0.01
							air_ratio = 0.01
						}
					}
				}
			}
		}
	}
	SIK_Question = {
		ai_will_do = {
			factor = 100
			modifier = {
				factor = 0
				has_war = yes
			}
		}
		days_remove = 10
		fire_only_once = yes

		complete_effect = {
			random_list = {
				80 = {
					custom_effect_tooltip = SIK_recognises_central_gvt
					set_country_flag = SIK_recognises_central_gvt
				}
				20 = {
					custom_effect_tooltip = SIK_seceded
					set_country_flag = SIK_seceded
					hidden_effect = {
						release = SIK
						SIK = {
							declare_war_on = {
								target = QIN
								type = civil_war
							}
						}
						add_civil_war_target = SIK

						transfer_units_fraction = {
							target = SIK
							size = 0.02
							stockpile_ratio = 0.02
							army_ratio = 0.02
							navy_ratio = 0.02
							air_ratio = 0.02
						}
					}
				}
			}
		}
	}
	YUN_Question = {
		ai_will_do = {
			factor = 100
			modifier = {
				factor = 0
				has_war = yes
			}
		}
		days_remove = 10
		fire_only_once = yes

		complete_effect = {
			random_list = {
				90 = {
					custom_effect_tooltip = YUN_recognises_central_gvt
					set_country_flag = YUN_recognises_central_gvt
				}
				10 = {
					custom_effect_tooltip = YUN_seceded
					set_country_flag = YUN_seceded
					hidden_effect = {
						release = YUN
						YUN = {
							declare_war_on = {
								target = QIN
								type = civil_war
							}
						}
						add_civil_war_target = YUN

						transfer_units_fraction = {
							target = YUN
							size = 0.05
							stockpile_ratio = 0.05
							army_ratio = 0.05
							navy_ratio = 0.05
							air_ratio = 0.05
						}
					}
				}
			}
		}
	}
	GUI_Question = {
		ai_will_do = {
			factor = 100
			modifier = {
				factor = 0
				has_war = yes
			}
		}
		days_remove = 10
		fire_only_once = yes

		complete_effect = {
			random_list = {
				90 = {
					custom_effect_tooltip = XSM_recognises_central_gvt
					set_country_flag = XSM_recognises_central_gvt
				}
				10 = {
					custom_effect_tooltip = XSM_seceded
					set_country_flag = XSM_seceded
					hidden_effect = {
						release = XSM
						XSM = {
							declare_war_on = {
								target = QIN
								type = civil_war
							}
						}
						add_civil_war_target = XSM

						transfer_units_fraction = {
							target = XSM
							size = 0.01
							stockpile_ratio = 0.01
							army_ratio = 0.01
							navy_ratio = 0.01
							air_ratio = 0.01
						}
					}
				}
			}
		}
	}
	GXC_Question = {
		ai_will_do = {
			factor = 100
			modifier = {
				factor = 0
				has_war = yes
			}
		}
		days_remove = 10
		fire_only_once = yes

		complete_effect = {
			random_list = {
				60 = {
					custom_effect_tooltip = GXC_recognises_central_gvt
					set_country_flag = GXC_recognises_central_gvt
				}
				40 = {
					custom_effect_tooltip = GXC_seceded
					set_country_flag = GXC_seceded
					hidden_effect = {
						release = GXC
						GXC = {
							declare_war_on = {
								target = QIN
								type = civil_war
							}
						}
						add_civil_war_target = GXC

						transfer_units_fraction = {
							target = GXC
							size = 0.1
							stockpile_ratio = 0.1
							army_ratio = 0.1
							navy_ratio = 0.1
							air_ratio = 0.1
						}
					}
				}
			}
		}
	}
	GUC_Question = {
		ai_will_do = {
			factor = 100
			modifier = {
				factor = 0
				has_war = yes
			}
		}
		days_remove = 10
		fire_only_once = yes

		complete_effect = {
			random_list = {
				95 = {
					custom_effect_tooltip = GUC_recognises_central_gvt
					set_country_flag = GUC_recognises_central_gvt
				}
				5 = {
					custom_effect_tooltip = GUC_seceded
					set_country_flag = GUC_seceded
					hidden_effect = {
						release = GUC
						GUC = {
							declare_war_on = {
								target = QIN
								type = civil_war
							}
						}
						add_civil_war_target = GUC
					}
				}
			}
		}
	}
	SIC_Question = {
		ai_will_do = {
			factor = 100
			modifier = {
				factor = 0
				has_war = yes
			}
		}
		days_remove = 10
		fire_only_once = yes

		complete_effect = {
			random_list = {
				95 = {
					custom_effect_tooltip = SIC_recognises_central_gvt
					set_country_flag = SIC_recognises_central_gvt
				}
				5 = {
					custom_effect_tooltip = SIC_seceded
					set_country_flag = SIC_seceded
					hidden_effect = {
						release = SIC
						SIC = {
							declare_war_on = {
								target = QIN
								type = civil_war
							}
						}
						add_civil_war_target = SIC
					}
				}
			}
		}
	}
	HNN_Question = {
		ai_will_do = {
			factor = 100
			modifier = {
				factor = 0
				has_war = yes
			}
		}
		days_remove = 10
		fire_only_once = yes

		complete_effect = {
			random_list = {
				95 = {
					custom_effect_tooltip = HNN_recognises_central_gvt
					set_country_flag = HNN_recognises_central_gvt
				}
				5 = {
					custom_effect_tooltip = HNN_seceded
					set_country_flag = HNN_seceded
					hidden_effect = {
						release = HNN
						HNN = {
							declare_war_on = {
								target = QIN
								type = civil_war
							}
						}
						add_civil_war_target = HNN
					}
				}
			}
		}
	}
}
QIN_reformist_decision_category = {
	QIN_reform_workforce = {

	}
	QIN_reform_education = {

	}
	QIN_reform_constitutional_monarchy = {

	}
	QIN_reform_industrialize = {

	}
}

china_influence_sphere = { 
	show_map = {
		visible = {
			OR = {
				is_literally_china = yes
				tag = CHI
				tag = PRC
				is_major = yes
			}
			date < 1950.1.1
		}
		complete_effect = {
			set_country_flag = show_QIN_influence_map 
}
}

increase_influence_zone_level = {
    visible = {
        OR = {
            is_literally_china = yes
            tag = CHI
            tag = PRC
            is_major = yes
        }
    }
	cost = 40
	available = {
			custom_trigger_tooltip = {
				tooltip = military_over_60
		        check_variable = { zone_military_presence > 60 }
			}		
			custom_trigger_tooltip = {
				tooltip = culture_over_60
		        check_variable = { zone_cultural_influence > 60 }
			}	
			custom_trigger_tooltip = {
				tooltip = resistance_under_30
		        check_variable = { zone_resistance_level < 30 }
			}			
			custom_trigger_tooltip = {
				tooltip = economic_impact_over_60
		        check_variable = { zone_economic_impact > 60 }
			}		
			custom_trigger_tooltip = {
				tooltip = zone_military_presence_over_90
		        check_variable = { zone_military_presence > 10000 }
			}											
	}
    complete_effect = {
							random_owned_controlled_state = {
						limit = { industrial_complex > 0 }
						remove_building = {

							type = industrial_complex
							level = 1
						}
					}
		613 = { CONTROLLER = {
							random_owned_controlled_state = {
						add_building_construction = {
							type = industrial_complex
							level = 1
						}
					}		}					
        add_to_variable = {
            var = zone_influence_level
            value = 20
        }
    }
}
}
increase_economic_impact_zone_level = { 
    visible = {
        OR = {
            is_literally_china = yes
            tag = CHI
            tag = PRC
            is_major = yes
        }
    }
		available = {
			custom_trigger_tooltip = {
				tooltip = "Has over $500 in GDP"
				OR = {
				check_variable = { GDP_real > 500 }
				has_global_flag = hideeconomy
				}
			}
		}	
	cost = 15
    complete_effect = {
			custom_effect_tooltip = "Will Remove 500 from your GDP"
			if = {
				limit = {
					NOT = {
						has_global_flag = hideeconomy
					}
				}
				subtract_from_variable = {
					var = GDP_real
					value = 500
				}						
			}

        add_to_variable = {
            var = zone_economic_impact
            value = 5
        }
    }
}

increase_resistance_zone_level = {
    visible = {
        OR = {
            is_literally_china = yes
            tag = CHI
            tag = PRC
            is_major = yes
        }
    }
	cost = 100
    complete_effect = {
		add_manpower = -1000
        add_to_variable = {
            var = zone_resistance_level
            value = 5
        }
    }
}


increase_military_presence_zone_level = {
    visible = {
        OR = {
            is_literally_china = yes
            tag = CHI
            tag = PRC
            is_major = yes
        }
    }
	cost = 36
    complete_effect = {
		add_manpower = -1000
		613 = { CONTROLLER = {
			add_manpower = 1000
		}		
        add_to_variable = {
            var = zone_military_presence
            value = 1000
        }
    }
}
}

increase_cultural_influence_zone_level = {
    visible = {
        OR = {
            is_literally_china = yes
            tag = CHI
            tag = PRC
            is_major = yes
        }
    }
	cost = 50
    complete_effect = {
		add_stability = -0.01
        add_to_variable = {
            var = zone_cultural_influence
            value = 5
        }
    }
}

	exploit_FROM_resources = {
		cost = 25
		state_target = yes
		target_trigger = {
			FROM = {
				is_core_of = QIN
				is_controlled_by = QIN
			}
		}
		visible = {
			FROM = {
				is_controlled_by = QIN
			}
			OR = {
				check_variable = {FROM.resource@steel > 0 }
				check_variable = {FROM.resource@tungsten > 0 }
				check_variable = {FROM.resource@chromium > 0 }
				check_variable = {FROM.resource@rubber > 0 }
				check_variable = {FROM.resource@oil > 0 }
			}
			OR = {
				AND = {
					FROM = {
						state = 329
					}
					check_variable = { QIN.color_array^1 = ROOT}
				}
				AND = {
					FROM = {
						OR = {
							state = 330
							state = 1016
						}
					}
					check_variable = { QIN.color_array^2 = ROOT}
				}
				AND = {
					FROM = {
						OR = {
							state = 1018
							state = 1019
						}
					}
					check_variable = { QIN.color_array^3 = ROOT}
				}
				AND = {
					FROM = {
						state = 761
					}
					check_variable = { QIN.color_array^4 = ROOT}
				}
				AND = {
					FROM = {
						state = 714
					}
					check_variable = { QIN.color_array^5 = ROOT}
				}
				AND = {
					FROM = {
						state = 717
					}
					check_variable = { QIN.color_array^6 = ROOT}
				}
				AND = {
					FROM = {
						OR = {
							state = 328
							state = 1024
						}
					}
					check_variable = { QIN.color_array^7 = ROOT}
				}
				AND = {
					FROM = {
						OR = {
							state = 1025
							state = 1026
						}
					}
					check_variable = { QIN.color_array^8 = ROOT}
				}
				AND = {
					FROM = {
						state = 715
					}
					check_variable = { QIN.color_array^9 = ROOT}
				}
				AND = {
					FROM = {
						OR = {
							state = 610
							state = 611
							state = 612
						}
					}
					check_variable = { QIN.color_array^10 = ROOT}
				}
				AND = {
					FROM = {
						OR = {
							state = 1020
							state = 1021
							state = 1017
						}
					}
					check_variable = { QIN.color_array^11 = ROOT}
				}
				AND = {
					FROM = {
						OR = {
							state = 1015
							state = 760
						}
					}
					check_variable = { QIN.color_array^12 = ROOT}
				}
				AND = {
					FROM = {
						OR = {
							state = 617
							state = 618
						}
					}
					check_variable = { QIN.color_array^13 = ROOT}
				}
				AND = {
					FROM = {
						OR = {
							state = 287
							state = 619
						}
					}
					check_variable = { QIN.color_array^14 = ROOT}
				}
				AND = {
					FROM = {
						OR = {
							state = 755
							state = 756
							state = 759
						}
					}
					check_variable = { QIN.color_array^15 = ROOT}
				}
				AND = {
					FROM = {
						OR = {
							state = 616
							state = 283
							state = 746
							state = 622
						}
					}
					check_variable = { QIN.color_array^16 = ROOT}
				}
				AND = {
					FROM = {
						OR = {
							state = 614
							state = 615
							state = 1029
							state = 1027
						}
					}
					check_variable = { QIN.color_array^17 = ROOT}
				}
				AND = {
					FROM = {
						OR = {
							state = 716
							state = 1023
							state = 1022
							
						}
					}
					check_variable = { QIN.color_array^18 = ROOT}
				}
				AND = {
					FROM = {
						OR = {
							state = 597
						}
					}
					check_variable = { QIN.color_array^19 = ROOT}
				}
				AND = {
					FROM = {
						OR = {
							state = 598
							state = 607
							state = 620
						}
					}
					check_variable = { QIN.color_array^20 = ROOT}
				}
				AND = {
					FROM = {
						OR = {
							state = 1030
							state = 606
							state = 749
							state = 613
						}
					}
					check_variable = { QIN.color_array^21 = ROOT}
				}
				AND = {
					FROM = {
						OR = {
							state = 744
							state = 605
							state = 753
							state = 754
							state = 752
						}
					}
					check_variable = { QIN.color_array^22 = ROOT}
				}
				AND = {
					FROM = {
						OR = {
							state = 757
							state = 601
							
						}
					}
					check_variable = { QIN.color_array^23 = ROOT}
				}
				AND = {
					FROM = {
						OR = {
							state = 751
							state = 603
							
						}
					}
					check_variable = { QIN.color_array^24 = ROOT}
				}
				AND = {
					FROM = {
						OR = {
							state = 748
							state = 750
							state = 602
						}
					}
					check_variable = { QIN.color_array^25 = ROOT}
				}
				AND = {
					FROM = {
						OR = {
							state = 600
							state = 593
							
						}
					}
					check_variable = { QIN.color_array^26 = ROOT}
				}
				AND = {
					FROM = {
						OR = {
							state = 596
							state = 613
							state = 1028
						}
					}
					check_variable = { QIN.color_array^27 = ROOT}
				}
				AND = {
					FROM = {
						OR = {
							state = 595
						}
					}
					check_variable = { QIN.color_array^28 = ROOT}
				}
				AND = {
					FROM = {
						OR = {
							state = 591
							state = 594
							state = 592
							state = 599
						}
					}
					check_variable = { QIN.color_array^29 = ROOT}
				}
				AND = {
					FROM = {
						OR = {
							state = 325
							state = 747
						}
					}
					check_variable = { QIN.color_array^30 = ROOT}
				}
			}
		}

		complete_effect = {
			hidden_effect = {
				every_country = {
					limit = {
						has_resources_rights = {    # Used in country scope
    						state = FROM 
    
						}
					}
					THIS = { remove_resource_rights = FROM }
				}
			}
			if = {
				limit = {
					NOT = {
						ROOT = {
							tag =QIN
						}
					}
				}
				give_resource_rights = { receiver = ROOT state = FROM }
			}
			
		}
	}
	open_to_china= {
		remove_effect = {
		
		
			add_to_array = {
    			array = QIN.influence_array
    			value = ROOT
			}
		}
		complete_effect = {
			give_guarantee = DEL
		}
		available = {
			OR = {
			has_idea = superstate_size4
			has_idea = superstate_size5
			has_idea = superstate_size6
			has_idea = superstate_size7
			}
		}
		cost = 100
		days_remove = 25
		visible = {
			date < 1920.1.1
			date > 1899.1.1
			NOT = {
				is_in_array = {
    				array = QIN.influence_array
    				value = ROOT
				}
			}
			NOT = {
				tag = CHI
			}
		}
		fire_only_once = yes
	}
	set_up_new_government = {
		visible = {
			NOT = {
				has_global_flag = foreign_power_assumed_control_over_china
			}
			date < 1920.1.1
			is_in_array = {
    			array = QIN.influence_array
    			value = ROOT
			}
			NOT= {
				tag = QIN
			}
		}
		available = {
			custom_trigger_tooltip = {
				tooltip = controls_more_zones_than_QIN_tt
				check_variable = {
					
					number_of_zones_controlled_in_QIN > QIN.number_of_zones_controlled_in_QIN
					
				}
			}
		}
		complete_effect = {
			set_global_flag = foreign_power_assumed_control_over_china
			
			create_dynamic_country = {
				original_tag = QIN
    			copy_tag = QIN
    			add_political_power = 100
				
				if = {
					limit = {
						check_variable = { QIN.color_array^1 = ROOT}
					}
					transfer_state = 329
				}
				if = {
					limit = {	
						check_variable = { QIN.color_array^1 = ROOT}
					}
					
					transfer_state = 329
					
				}
				if = {
					limit = {
						check_variable = { QIN.color_array^2 = ROOT}
					}
					
					transfer_state = 330
					transfer_state = 1016
				}
						
				if = {
					limit = {
						check_variable = { QIN.color_array^3 = ROOT}
					}
					transfer_state = 1018
					transfer_state = 1019
					
				}
				if = {
					limit = {
						check_variable = { QIN.color_array^4 = ROOT}
					}
					transfer_state = 761
				}
				if = {
					limit = {
						check_variable = { QIN.color_array^5 = ROOT}
					}
					transfer_state = 714
				}
				if = {
					limit = {
						check_variable = { QIN.color_array^6 = ROOT}
					}
					transfer_state = 717
				}
				if = {
					limit = {
						check_variable = { QIN.color_array^7 = ROOT}
					}
					transfer_state = 328
					transfer_state = 1024
				}
				if = {
					limit = {
						check_variable = { QIN.color_array^8 = ROOT}
					}
					transfer_state = 1025
					transfer_state = 1026
				}
				if = {
					limit = {
						check_variable = { QIN.color_array^9 = ROOT}
					}
					transfer_state = 715
				}
				if = {
					limit = {
						check_variable = { QIN.color_array^10 = ROOT}
					}
					transfer_state = 610
					transfer_state = 611
					transfer_state = 612
					transfer_state = 621
				}
				if = {
					limit = {
						check_variable = { QIN.color_array^11 = ROOT}
					}
					transfer_state = 1020
					transfer_state = 1021
					transfer_state = 1017
				}
				if = {
					limit = {
						check_variable = { QIN.color_array^12 = ROOT}
					}
					transfer_state = 1015
					transfer_state = 760
				}
				if = {
					limit = {
						check_variable = { QIN.color_array^13 = ROOT}
					}
					transfer_state = 617
					transfer_state = 618
				}
				if = {
					limit = {
						check_variable = { QIN.color_array^14 = ROOT}
					}
					transfer_state = 287
					transfer_state = 619
				}
				if = {
					limit = {
						check_variable = { QIN.color_array^15 = ROOT}
					}
					transfer_state = 755
					transfer_state = 756
					transfer_state = 759
				}
				if = {
					limit = {
						check_variable = { QIN.color_array^16 = ROOT}
					}
					transfer_state = 616
					transfer_state = 283
					transfer_state = 746
					transfer_state = 622
				}
				if = {
					limit = {
						check_variable = { QIN.color_array^17 = ROOT}
					}
					transfer_state = 614
					transfer_state = 615
					transfer_state = 1029
					transfer_state = 1027
				}
				if = {
					limit = {
						check_variable = { QIN.color_array^18 = ROOT}
					}
					transfer_state = 716
					transfer_state = 1023
					transfer_state = 1022
				}
				if = {
					limit = {
						check_variable = { QIN.color_array^19 = ROOT}
					}
					transfer_state = 597
				}
				if = {
					limit = {
						check_variable = { QIN.color_array^20 = ROOT}
					}
					transfer_state = 598
					transfer_state = 607
					transfer_state = 620
				}
				if = {
					limit = {
						check_variable = { QIN.color_array^21 = ROOT}
					}
					transfer_state = 1030
					transfer_state = 606
					transfer_state = 749
					transfer_state = 613
					
					# transfer_state = 744
					# transfer_state = 605
					# transfer_state = 753
					# transfer_state = 754
					# transfer_state = 752
				}
				if = {
					limit = {
						check_variable = { QIN.color_array^22 = ROOT}
					}
					transfer_state = 604
					transfer_state = 322
					transfer_state = 758
				}
				if = {
					limit = {
						check_variable = { QIN.color_array^23 = ROOT}
					}
					transfer_state = 757
					transfer_state = 601
				}
				if = {
					limit = {
						check_variable = { QIN.color_array^24 = ROOT}
					}
					transfer_state = 751
					transfer_state = 603
				}
				if = {
					limit = {
						check_variable = { QIN.color_array^25 = ROOT}
					}
					transfer_state = 748
					transfer_state = 750
					transfer_state = 602
				}
				if = {
					limit = {
						check_variable = { QIN.color_array^26 = ROOT}
					}
					transfer_state = 600
					transfer_state = 593
				}
				if = {
					limit = {
						check_variable = { QIN.color_array^27 = ROOT}
					}
					transfer_state = 596
					transfer_state = 613
					transfer_state = 1028
				}
				if = {
					limit = {
						check_variable = { QIN.color_array^28 = ROOT}
					}
					transfer_state = 595
				}
				if = {
					limit = {
						check_variable = { QIN.color_array^29 = ROOT}
					}
					transfer_state = 591
					transfer_state = 594
					transfer_state = 592
					transfer_state = 599
				}
				if = {
					limit = {
						check_variable = { QIN.color_array^30 = ROOT}
					}
					transfer_state = 325
					transfer_state = 747
				}
				ROOT = {
					puppet = PREV
				}
			}
		}
	}

	take_control_of_ZONE = {
		days_remove = 60
		visible = {
			NOT = {
				tag = QIN
			}
			has_variable = selected_zone
		}
		available = {
				custom_trigger_tooltip = {
					tooltip = has_no_influence_over_ZONE_tt
					check_variable = { zone_influence_level > 65}
				}			
			has_guaranteed = DEL
			NOT = {
				country_exists = CHI
			}
			NOT = {
				custom_trigger_tooltip = {
					tooltip = has_no_influence_over_ZONE_tt
					check_variable = { QIN.color_array^selected_zone = ROOT }
				}
			}
		}
		remove_effect = {
			if = {
				limit = {
					
					NOT = {
						check_variable = { QIN.color_array^selected_zone = ROOT }
					}
				}
				if = {
					limit = {
						NOT = {
							check_variable = { QIN.color_array^selected_zone = QIN }
						}
					}
					var:QIN.color_array^selected_zone = {
						country_event = dnc_china.17
					}
				}
				else = {
					QIN = {
						country_event = dnc_china.18
					}
				}
				
			}
 
		}
	}

	request_foreign_depart_from_ZONE = {
		days_remove = 45
		visible = {
			has_completed_focus = DNC_QIN_stunning_victory
		}
		cost = 50
		complete_effect = {
			if = {
				limit = {
					var:QIN.color_array^ROOT.selected_zone = {
						NOT = {
							tag = ROOT  #cannot take over something you already have
						}
					}
				}
				var:QIN.color_array^ROOT.selected_zone = {
					country_event = dnc_china.20
				}
			}
		}
	}
}
QIN_army_reforms = {
	QIN_reform_army = {
		
		visible = {
			OR = {
				has_idea = QIN_outdated_army_2
				has_idea = QIN_outdated_army
			}
		}
		custom_cost_trigger = {
			has_army_experience > 50
		}
		custom_cost_text = army_xp_more_than_50
		complete_effect = {
			if = {
				limit = {
					has_idea = QIN_outdated_army
				}
				swap_ideas = {
					remove_idea = QIN_outdated_army
					add_idea = QIN_outdated_army_2
				}

				else_if = {
					limit = {
						has_idea = QIN_outdated_army_2
					}
					remove_ideas = QIN_outdated_army_2
				}
			}
		}
	}
}

political_actions = {
	Play_as_SHA = {
		visible = {
			has_completed_focus = DNC_QIN_power_to_governers
		}
		fire_only_once = yes
		complete_effect = {
			SHA = {
				change_tag_from = QIN
			}
		}
	}
	Play_as_ANH = {
		visible = {
			has_completed_focus = DNC_QIN_power_to_governers
		}
		fire_only_once = yes
		complete_effect = {
			ANH = {
				change_tag_from = QIN
			}
		}
	}
	Play_as_FUJ = {
		visible = {
			has_completed_focus = DNC_QIN_power_to_governers
		}
		fire_only_once = yes
		complete_effect = {
			FUJ = {
				change_tag_from = QIN
			}
		}
	}
	Play_as_GUC = {
		visible = {
			has_completed_focus = DNC_QIN_power_to_governers
		}
		fire_only_once = yes
		complete_effect = {
			GUC = {
				change_tag_from = QIN
			}
		}
	}
	Play_as_HNN = {
		visible = {
			has_completed_focus = DNC_QIN_power_to_governers
		}
		fire_only_once = yes
		complete_effect = {
			HNN = {
				change_tag_from = QIN
			}
		}
	}
}
Civil_war_support = {

	expand_support = {
		days_remove = 120
		cost = 100
		visible = {
			has_country_flag = splitted

		}
		available = {
			has_country_flag = splitted
		}
		remove_effect = {
			custom_effect_tooltip = civilwar.tooltip
			add_to_variable = {
				var = QIN_civilwar_support
				value = 5
			}
			QIN = {
				set_temp_variable = { temp1 = 100 }
				set_temp_variable = { temp2 = QIN_civilwar_support }
				subtract_from_temp_variable = { temp1 = temp2 }
				divide_temp_variable = { temp1 = 100 }
				set_variable = { QIN_opposition_support = temp1 }

			}

		}

	}
	smuggle_weapons = {
		days_remove = 1
		visible = {
			has_country_flag = splitted
		}
		available = {
			has_country_flag = splitted
			has_equipment = {
				infantry_equipment_1 > 499
			}

		}
		fixed_random_seed = no
		remove_effect = {

			custom_effect_tooltip = smuggle_weapons.tooltip
			add_to_variable = {
				var = num_smuggled_weapons
				value = 500
			}


		}


	}
	guard_stockpiles = {
		visible = {
			has_country_flag = splitted
		}
		available = {
			has_country_flag = splitted
			check_variable = {
				var = num_smuggled_weapons
				value = 1000
				compare = greater_than
			}
		}

	}

	deploy_boxer_groups = {

		visible = {
			has_country_flag = civil_war
		}
		available = {
			NOT = { has_country_flag = boxer_banned }
			has_country_flag = civil_war
		}
		remove_effect = {
			set_province_controller = 12713
			set_province_controller = 7580
			set_province_controller = 4939

			division_template = { name = Boxer regiments = { infantry = { x = 0 y = 0 } infantry = { x = 1 y = 0 } } }
			622 = { create_unit = { division = "name = \"Boxer\" division_template = \"Boxer\" start_experience_factor = 0.05 start_equipment_factor = 0.5"  owner = QIN prioritize_location = 4939 } }
			744 = { create_unit = { division = "name = \"Boxer\" division_template = \"Boxer\" start_experience_factor = 0.05 start_equipment_factor = 0.5"  owner = QIN prioritize_location = 12713 } }
			1030 = { create_unit = { division = "name = \"Boxer\" division_template = \"Boxer\" start_experience_factor = 0.05 start_equipment_factor = 0.5"  owner = QIN prioritize_location = 7580 } }
		}

	}
}
chinese_revolution = {


	QIN_revolution_timer = {
		name = QIN_revolution_timer
		priority = 10
		allowed = {
			tag = QIN
		}
		available = {
			hidden_trigger = { always = no }
		}
		visible = { always = yes }
		cancel_if_not_visible = yes
		activation = { has_country_flag = uprising_preparing }
		is_good = no
		days_mission_timeout = CHI_days_until_uprising?2700

		timeout_effect = {
					every_state = {
    limit = {
        is_controlled_by = QIN
    }
    remove_core_of = BOX
		}
						CHI = {add_ideas = {CHI_uprising}}
						QIN = {add_ideas = {QIN_uprising}}
						QIN = {set_country_flag = revolution_started}
						country_event = ww1_china.3
						add_power_balance_value = {
						    id = QIN_centralization_bop
						    value = -0.30
						    tooltip_side = QIN_centralization_bop_democracy
						} 		
		}


	}
	QIN_fight_uprising = {
		name = QIN_fight_uprising
		available = { NOT = { has_country_flag = revolution_started } }
		visible = {
			has_country_flag = uprising_preparing
			NOT = { has_country_flag = side_with_CHI }
		}
		days_remove = 120
		cost = 100
		remove_effect = {
			set_country_flag = fighting_uprising
			subtract_from_variable = {
				var = uprising_strengh
				value = 0.05
			}
			add_days_mission_timeout = {
				mission = QIN_revolution_timer
				days = 50
			}
						add_power_balance_value = {
						    id = QIN_centralization_bop
						    value = 0.1
						    tooltip_side = QIN_centralization_bop_democracy
						} 					
		}
	}
	CHI_spread_uprising = {
		name = CHI_spread_uprising
		cost = 100
		available = { NOT = { has_country_flag = revolution_started } }
		visible = {
			has_country_flag = uprising_preparing
			NOT = { has_country_flag = side_with_QIN }
		}
		days_remove = 100
		remove_effect = {
			set_country_flag = uprising_spreading
			add_to_variable = {
				var = uprising_strengh
				value = 0.03
			}
			add_political_power = 100
			add_stability = -0.05
			add_days_mission_timeout = {
				mission = QIN_revolution_timer
				days = -50
			}
			add_power_balance_value = {
			    id = QIN_centralization_bop
			    value = -0.10
			    tooltip_side = QIN_centralization_bop_democracy
			} 					
		}
	}
	QIN_arrest_leaders = {
		name = QIN_arrest_leaders
		cost = 200
		available = { NOT = { has_country_flag = revolution_started } }
		visible = {
			has_country_flag = uprising_preparing
			NOT = { has_country_flag = side_with_CHI } }
		days_remove = 100
		remove_effect = {
			set_country_flag = leader_arrested
			add_days_mission_timeout = {
				mission = QIN_revolution_timer
				days = 100
			}
		}
	}
	CHI_attack_garrisons = {
		name = CHI_attack_garrisons
		cost = 150
		available = { NOT = { has_country_flag = revolution_started } }
		visible = {
			AND = {
				has_country_flag = uprising_preparing
				has_country_flag = side_with_CHI
			}
		}
		days_remove = 75
		remove_effect = {
			set_country_flag = garrisons_attacked
			add_days_mission_timeout = {
				mission = QIN_revolution_timer
				days = -50

			}
		}
	}
	QIN_fight_uprising_AI = {
		name = QIN_fight_uprising
		available = { hidden_trigger = { always = no } }
		visible = { has_country_flag = uprising_preparing }
		activation = { has_country_flag = uprising_spreading }
		allowed = {
			tag = QIN
		}
		is_good = yes
		days_mission_timeout = 120
		timeout_effect = {
			subtract_from_variable = {
				var = uprising_strengh
				value = 0.05

			}
			clr_country_flag = uprising_spreading

		}
	}
	CHI_spread_uprising_AI = {
		name = CHI_spread_uprising
		available = { has_country_flag = revolution_started }
		visible = { has_country_flag = uprising_preparing }
		activation = { has_country_flag = fighting_uprising }
		allowed = { tag = QIN }
		is_good = yes
		days_mission_timeout = 100
		timeout_effect = {
			add_to_variable = {
				var = uprising_strengh
				value = 0.03
			}
			clr_country_flag = fighting_uprising

		}
	}
	QIN_arrest_leaders_AI = {
		name = QIN_arrest_leaders
		available = { has_country_flag = revolution_started }
		visible = { has_country_flag = uprising_preparing }
		activation = { has_country_flag = garrisons_attacked }
		allowed = { tag = QIN }
		days_mission_timeout = 100
		timeout_effect = {
			add_days_mission_timeout = {
				mission = QIN_revolution_timer
				days = 50
			}
			clr_country_flag = garrisons_attacked
		}
	}
	CHI_attack_garrisons_AI = {
		name = CHI_attack_garrisons
		available = { has_country_flag = revolution_started }
		visible = { has_country_flag = uprising_preparing }
		activation = { has_country_flag = leader_arrested }
		allowed = { tag = QIN }
		days_mission_timeout = 75
		timeout_effect = {
			add_days_mission_timeout = {
				mission = QIN_revolution_timer
				days = -50

			}
			clr_country_flag = leader_arrested
		}
	}
}
